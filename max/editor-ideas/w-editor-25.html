<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title>
      OERPub Editor
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

    <script src="helper_files/jquery-1.8.2.min.js" type="text/javascript"></script>
    <script src="helper_files/jquery.ui.core.1.9.2.min.js" type="text/javascript"></script>
    <script src="helper_files/jquery.ui.position.min.js" type="text/javascript"></script>
    <script src="helper_files/jquery.ui.widget.min.js" type="text/javascript"></script>
    <script src="helper_files/jquery.ui.mouse.min.js" type="text/javascript"></script>
    <script src="helper_files/draggable.js" type="text/javascript"></script>
    <script src="helper_files/jquery.ui.droppable.js" type="text/javascript"></script>
    <script src="helper_files/scrollto.js" type="text/javascript"></script>
    <script src="helper_files/jquery.simplemodal.1.4.1.min.js" type="text/javascript"></script>
    <script src="helper_files/jquery.ui.dialog.min.js" type="text/javascript"></script>
    <script src="helper_files/jquery.effects.core.min.js" type="text/javascript"></script>
    <script src="helper_files/jquery.effects.highlight.min.js" type="text/javascript"></script>
    <script src="helper_files/googlejsapi.js" type="text/javascript"></script>
    <script src="helper_files/swordpush-max-03.js" type="text/javascript"></script>
    <script src="helper_files/hoverIntent.js" type="text/javascript"></script>
    <script src="helper_files/jquery.livequery.js" type="text/javascript"></script>
    <script src="helper_files/jquery.mousestop.js" type="text/javascript"></script>
    <script src="helper_files/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="helper_files/jquery.contextmenu.js" type="text/javascript"></script>
    <script src="helper_files/jquery.animate-shadow-min.js" type="text/javascript"></script>
    <script src="helper_files/ASCIIMathMLwFallback.js" type="text/javascript"></script>
    <script src="helper_files/ASCIIMathMLeditor.js" type="text/javascript"></script>
    <script src="helper_files/ASCIIMathMLcustomisations.js" type="text/javascript"></script>
    <script src="content_files/transMenus0_9_2.js" type="text/javascript"></script>
    <script src="content_files/toc-w-07.js" type="text/javascript"></script>
    <script src="helper_files/jquery.color.js" type="text/javascript"></script>
    <script src="helper_files/jquery.easing.1.3.js" type="text/javascript"></script>

    <!-- Max writes: This doesn't need to be the Connexions X ... but it was useful to have something there when making these mock-ups. -->
    <link rel="shortcut icon" type="image/x-icon" href="helper_files/oerpub-logo-03.ico?" />

<link type="text/css" href="content_files/document-in-oerpub-01.css" media="screen" title="newlook" rel="stylesheet"/>

    <link rel="stylesheet" href="helper_files/main-max-04.css" type="text/css" media="screen" charset="utf-8" />
    <link rel="stylesheet" href="helper_files/ui-theme-base/jquery.ui.all.css" type="text/css" media="screen" charset="utf-8" />
    <!--[if IE 6]>
    <link rel="stylesheet" href="helper_files/ie6.css" type="text/css" media="screen" charset="utf-8" />
    <![endif]-->

<script type="text/javascript">

$(window).resize(function(){

  var winh = $(window).height();
  var headerh = $("#header-container").outerHeight();
  var wfnh = $("#workflownav-wrap").outerHeight();
  var contentp = parseInt($("#content").css("paddingTop"));
  var contentp = contentp + parseInt($("#content").css("paddingBottom"));
  var phwh = $("#pageheader-wrap").outerHeight();
  var ma = $("#module-actions .advanced").outerWidth();

  // Make the editor fit exactly inside the remaining space
  $("#artboard").height(winh - 43);
//$("#editor").width($(window).width() - $("#toc").width());
  $("#editor").width($(window).width() - $("#toc").outerWidth() - $("#to-dashboard").outerWidth());
//$("#editor").width($(window).width());
//  $("#editor").width($(window).width() - 0);

});


$(document).ready(function(){

  var ffh = 0;
  if ($.browser.mozilla != true || ($.browser.mozilla == true && parseInt($.browser.version.split(".")[0]) < 2)) {
    $("#firefox-message").show();
    ffh = $("#firefox-message").outerHeight();
  }

/* Moved this portion back directly into the file because 'headerh' wasn't always correctly calculated when done from the external file. */

  var winh = $(window).height();
  var headerh = $("#header-container").outerHeight();
  var wfnh = $("#workflownav-wrap").outerHeight();
  var contentp = parseInt($("#content").css("paddingTop"));
  var contentp = contentp + parseInt($("#content").css("paddingBottom"));
  var phwh = $("#pageheader-wrap").outerHeight();
  var ma = $("#module-actions .advanced").outerWidth();
  var tbh = $("#top-banner").outerHeight();
  var mbh = $("#module-bar").outerHeight();
  var tbh = $("#module-bar").outerHeight(); // cheating
  var tdw = $("#to-dashboard").outerWidth();
  var tocw = $("#toc").outerWidth();

  // Make the editor fit exactly inside the remaining space
  $("#artboard").css("margin-top",$('#toolbar').outerHeight() + ffh + $("#toolbox").outerHeight() + mbh + "px");
//$("#artboard").css("margin-top",$('#toolbar').outerHeight() + $('#toolbox').outerHeight() + ffh + mbh + "px");
//$("#top-banner").css("top", ffh + "px");
//$("#toolbar").css("top", ffh + tbh + "px");
  $("#toolbar").css("top", ffh + tbh + "px");
//$("#toolbox").css("top", ffh + tbh + $('#toolbar').outerHeight() + "px");
  $("#toolbox").css("top", ffh + mbh + $('#toolbar').outerHeight() + "px");
//$("#toc").css("top", ffh + tbh + "px");
//$("#toc").css("top", ffh + tbh + "px");
  $("#toc").css("top", ffh + "px");
  $("#toc").css("left", tdw + "px");
  $("#to-dashboard, #toc, #module-bar").css("top", ffh + "px");
  $("#editor, #toolbar, #toolbox, #module-bar").width($(window).width() - tdw - tocw);
  $("#editor, #toolbar, #toolbox, #module-bar").css("left", tdw + tocw + "px");
//$("#cnx_course_navigation").height($(window).height() - ffh - mbh - $("#toc-top-title").outerHeight());
//$("#toc-title-and-contents").height($(window).height() - ffh - tbh - $("#toc-title").outerHeight());
//$("#toc-title-and-contents").height($(window).height() - ffh - $("#toc-title").outerHeight() - $("#show-toolbox").outerHeight());
//$("#toc-title-and-contents").height($(window).height() - ffh - $("#toc-title").outerHeight() - $("#toc-toolbox").outerHeight());
//$("#toc-title-and-contents").css("margin-top", $("#toc-toolbox").outerHeight() + "px");
  $("#toc-title-and-contents").height($(window).height() - ffh - $("#toc-title").outerHeight());
//$("#db-sort-and-contents").height($(window).height() - ffh - $("#dashboard-title").outerHeight() - $("#db-instructions").outerHeight());
//alert($("#toc-toolbox").outerHeight());
/*
alert($(window).height());
alert(ffh);
alert($("#dashboard-header").outerHeight());
alert($("#db-instructions").outerHeight());
*/
/*
alert($(window).width());
alert(tdw);
alert(tocw);
alert($("#toolbar").outerWidth());
*/

  $(window).scroll(function(e){
    if($(this).scrollTop() > parseFloat($("#canvas").css("marginTop"))) {
      $("#toolbox-inner").addClass("scrolled");
    } else {
      $("#toolbox-inner").removeClass("scrolled");
    }
  });

  $("#toc-title-and-contents").scroll(function(e){
    if($(this).scrollTop() > 1) {
      $("#toc-toolbox").addClass("scrolled");
    } else {
      $("#toc-toolbox").removeClass("scrolled");
    }
  });

  $("#toolbar-table").hoverIntent({
    over: function(e){
    }, 
    out: function(e){
      unSelectIcon($(this),e);
    },
    timeout: 300,
  });

  $("#toolbar-table-options, #toolbar-add-new, #toolbar-format-text").hoverIntent({
    over: function(e){
    }, 
    out: function(e){
      unSelectIcon($(this),e);
    },
    timeout: 500,
  });

  $("#toolbar-olist-options").hoverIntent({
    over: function(e){
    }, 
    out: function(e){
      unSelectIcon($(this),e);
    },
    timeout: 500,
  });

  $(".toolbar-icon,.toolbar-text").click(function(e){
    fn = $(this).closest(".toolbar-function");
    if (fn.not(".disabled")) {
      if (fn.hasClass("selected")) {
        unSelectIcon(fn,e);
      } else {
        selectIcon(fn,aol,e);
      }
    }
    return false;
  });

  $("#cnx_course_navigation li").each(function(e){
//  $(this).before('<li class="droppable-picker"/>').after('<li class="droppable-picker"/>');
    $(this).before('<li class="droppable-picker"/>');
  });

  $(".toolbar-icon,.toolbar-text").mousedown(function(e){
    return false;
  });
  $(".toolbar-icon,.toolbar-text").mouseup(function(e){
    return false;
  });

  $("#include-row-header, label[for='include-row-header']").live("click", function(e){
    if ($(this).is(":checked")) {
      $("#table-flyout tr:first-child td").each(function(e){
        $(this).addClass("header")
      });
    } else {
      $("#table-flyout tr:first-child td").each(function(e){
        $(this).removeClass("header")
      });
    }
    e.stopPropagation();
  });

  $("#table-flyout td").live("mouseenter", function(e){
    tfEnter($(this),e);
  });
  function tfEnter(td,e) {
    tfLeave(td.closest("table"),e);
    var curCol = td.index() + 1;
    var curRow = td.closest("tr").index() + 1;
    var totCols = td.siblings().length + 1;
    var totRows = td.closest("tbody").find("tr").length;
    // Remove rows if going upwards with 6+ rows
    if (curRow > 4 && totRows - curRow > 1) {
      td.closest("tbody").find("tr").last().remove();
    }
    // Remove columns if going left with 6+ columns
    if (curCol > 4 && totCols - curCol > 1) {
      td.closest("tbody").find("tr").each(function(e){
        $(this).find("td").last().remove();
      });
    }
    for (i=0; i<curRow; i++) {
      td.closest("tbody").children("tr").eq(i).each(function(e){
        for (j=0; j<curCol; j++) {
          $(this).find("td").eq(j).addClass("hovered");
        }
      });
    }
    // Add a new row to expand
    if (curRow > totRows - 1) {
      var newRows = '';
      for(k=0; k<totCols; k++) {
        newRows = newRows + "<td>&nbsp\;</td>";
      }
      td.closest("tbody").append("<tr>" + newRows + "</tr>");
      totRows++;
    }
    // Add a new column to expand
    if (curCol > totCols - 1) {
      td.closest("tbody").children("tr").each(function(e){
        if( $(this).index() == 0 && $("#include-row-header").is(":checked") ) {
          $(this).append('<td class="header">&nbsp\;</td>');
        } else {
          $(this).append('<td>&nbsp\;</td>');
        }
      });
      totCols++;
    }
    $("#table-dimensions").text(curCol + " x " + curRow);
  }

  $("#table-flyout table").live("mouseleave", function(e){
    tfLeave($(this),e);
  });
  function tfLeave(table,e) {
    $("#table-dimensions").text("");
    table.find("td").removeClass("hovered");
  }

  $(".toolbar-function.disabled .toolbar-icon").click(function(e){
    e.preventDefault();
  });


  function preventDefault(e){
    e.preventDefault();
  }

  $("#table-flyout-flyout, #table-flyout").live("click", function(e){
    return false;
  });

  $("#table-flyout td").live("click", function(e){
    if ($("#TableNew").closest("#canvas").length) {
      var curCol = $(this).index() + 1;
      var curRow = $(this).closest("tr").index() + 1;
      var exText = $(this).closest("#table-flyout").data("exText");
      if( $("#include-row-header").is(":checked") ) {
        var rowHeader = true;
      } else {
        var rowHeader = false;
      }
      newTableFill(curCol,curRow,exText,rowHeader,e);
    } else {
      alert("Please place your cursor in the part of the document where you want to add a new table.");
    }
    unSelectIcon($("#toolbar-table"),e);
    e.stopPropagation();
  });
  
  function newTableFill(dimX,dimY,exText,rowHeader,e) {

    var newTable = '<div class="canvas-wrap" contentEditable="false">\
      <div class="table canvas canvas-unhovered">\
        <div class="canvas-inner">\
          <table style="border: 1px solid\; width: 100%\;" align="center" cellpadding="0" cellspacing="0" id="TableNew" contentEditable="false">\
            <caption class="table-text" align="bottom">\
              <span class="cnx_label">Table 1&nbsp\;</span>\
              <span class="table-caption content-editable-2" style="display: none;" contentEditable="true">\
                <span class="hint-text">&nbsp;Add a caption (optional)</span>\
              </span>\
            </caption>\
            <colgroup>\
            </colgroup>\
          </table>\
        </div>\
      </div>\
    </div>';

    $("#TableNew").replaceWith(newTable);
    addHandles($("#TableNew").closest(".canvas-wrap"),'table');
    var width = Math.round(100/dimX);
    for (i=0; i<dimX; i++) {
      $("#TableNew colgroup").append('<col width="' + width + '%"/>');
    }
    if (rowHeader == true) {
      $("#TableNew").append("<thead></thead>");
    }
    if (rowHeader == false || dimY > 1) {
      $("#TableNew").append("<tbody></tbody>");
    }
    for (j=0; j<dimY; j++) {
      if (j == 0) {
        if (dimY > 1) {
          addColumns($("#TableNew thead, #TableNew tbody").first(),dimX,dimY,exText,"",e);
        } else {
          addColumns($("#TableNew thead, #TableNew tbody").first(),dimX,dimY,exText,"lastRow",e);
        }
      } else if (j == dimY - 1) {
        addColumns($("#TableNew tbody"),dimX,dimY,"","lastRow",e);
      } else {
        addColumns($("#TableNew tbody"),dimX,dimY,"","",e);
      }
    }
    $("#TableNew").closest(".canvas-wrap");
    $("#TableNew").closest(".canvas-wrap").effect("highlight", { color: "#E5EEF5" }, 1000);
    $("#TableNew th, #TableNew td").first().focus();
    $("#TableNew").removeAttr("id")
    e.stopPropagation();
  }

  function addColumns(location,dimX,dimY,exText,lastRow,e) {

    var cols = '';
    var repText = '';
    var style = 'text-align: left !important\; border-top-width: 0\; border-left-width: 0\; ';
    location.prop("tagName").toLowerCase() == "thead" ? locType = 'th' : locType = 'td';
    for (k=0; k<dimX; k++) {
      k == 0 && exText != "" ? repText = exText : repText = "&nbsp\;";
      if (k == dimX - 1) {
        style+= "border-right-width: 0\; ";
      } else {
        style+= "border-right-width: 1px\; ";
      }
      if (lastRow == "lastRow") {
        style+= "border-bottom-width: 0 !important\;";
      } else {
        style+= "border-bottom-width: 1px\;";
      }
      cols = cols + '<' + locType + ' style="' + style + '" contentEditable="true" class="content-editable">' + repText + '</' + locType + '>';
    }
    location.append('<tr>' + cols + '</tr>');
  }





  $('.canvas-buddy a').mousedown(function(e){
//    $(this).css("cursor","url('content_files/closedhand.cur')");
    $(this).addClass("dragging");
  });
  $('.canvas-buddy a').mouseup(function(e){
//    $(this).css("cursor","url('content_files/openhand.cur')");
    $(this).removeClass("dragging");
  });





  $(".pedagog-blocks ul a").toggle(function(e){
    $(this).addClass("pedagog-click");
  }, function(e){
    $(this).removeClass("pedagog-click");
  });

  var eqcw = $(".equation").parent();
  $("#canvas .para, .canvas-wrap")
//  $("#canvas .para").add(eqcw).add(exercw).add(quescw).add(examcw).add(notecw).add(rulecw)
    .after("<div class='droppable-all droppable-all-existing'/>");
//.before("<div class='droppable-all droppable-all-existing'/>");
  // Trying something slightly different to avoid the problems of sibling paras getting double-contents dropped into them.
  $("#canvas .section-contents, .problem-contents, .solution-contents, .example-contents, .note-contents, .rule-contents, #cnx_main")
    .prepend("<div class='droppable-all droppable-all-existing'/>")

  $(".droppable-all").each(function(){
    var pw = $(this).parent().innerWidth();
    $(this).css("width",pw)
  });

  $("#sidebar .pedagog, #toolbox .pedagog").each(function(e){
    var elemFormal = $(this).find(".node").clone().children().remove().end().text().trim();
    if (elemFormal == 'Numbered Equation') elemFormal = 'Equation';
    if (elemFormal.indexOf('Note') > -1) elemFormal = 'Note';
    if (elemFormal.indexOf('Question') > -1) elemFormal = 'Question';
    if (elemFormal.indexOf('Quotation') > -1) elemFormal = 'Quotation';
    var elemLower = elemFormal.toLowerCase();
    elem = "." + elemLower  + ":visible";
    var elemcount = $(elem).length;
    if (elemcount == 0) {
      $(this).prepend('<div class="count zero">0</div>');
    } else {
      var lis = ''
      $(elem).each(function(index,e){
        ind = index + 1;
        lis += '<li><a href="#' + this.id + '" title="Jump to this ' + elemLower + '">' + elemFormal + ' ' + ind + '</a></li>';
      });
      $(this).prepend('<div class="count"><a href="#" class="count-total">' + elemcount + '</a><div class="node-list"><p><strong>' + elemFormal + 's in this document</strong></p><ul>' + lis + '</ul></div></div>');
    }
  });


  $(".node").hover(function(e){
    $(this).find(".plus").css("color","#000");
  }, function(e){
    $(this).find(".plus").css("color","#999");
  });


  $(".pedagog-glossary").click(function(e){
    $(this).find("input").attr("checked","checked");
    $("#artboard").scrollTo(".glossary-outer",{duration:700,over:0.5,onAfter:function(){
        $(".glossary-container").show();
        $("#artboard").scrollTo(".glossary-outer",{duration:500});
      }
    });
  });


  $(".canvas-buddy").each(function(e){
    ttl = $(this).children("a").attr("title");
    $(this).attr("title",ttl);
  });

  $(".element-options-tabs li").click(function(e){
     var eoid = $(this).attr("id").replace("-tab","");
     $(this).closest(".element-options").find(".element-options-tabs li").removeClass("selected");
     $(this).addClass("selected");
     $(this).closest(".element-options").find(".element-options-contents").hide();
     $("#" + eoid).show();
     return false;
  });

  $("input[name='custom-label']").focus(function(e){
    $("input[value='custom'][name='label']").attr("checked","checked");
  });
  $("input[name='custom-label2']").focus(function(e){
    $("input[value='custom2'][name='label2']").attr("checked","checked");
  });
  $("input[name='custom-label3']").focus(function(e){
    $("input[value='custom3'][name='label3']").attr("checked","checked");
  });


  $(".MathJax").attr("contentEditable","false");
  $(".canvas-wrap").attr("contentEditable","false");

  var cheatsheet = '\
    <div id="cheat-sheet-wrap">\
      <div id="cheat-sheet-open"><img src="content_files/open-cheat-sheet-01.png"></div>\
      <div id="cheat-sheet">\
        <div id="cheat-sheet-close"><img src="content_files/close-cheat-sheet-01.png"></div>\
        <div id="cheat-sheet-title"><strong>Math Cheat Sheet</strong>: Copy the "code" that matches the display you want. Paste it into the math entry box above. Adjust as needed.</div>\
        <div id="cheat-sheet-type">\
          <div>\
            <input type="radio" name="cs-math-type" id="cs_radio_ascii" value="cs_ascii" checked="checked"> <label for="cs_radio_ascii">ASCIIMath</label>\
          </div>\
          <div>\
            <input type="radio" name="cs-math-type" id="cs_radio_latex" value="cs_latex"> <label for="cs_radio_latex">LaTeX</label>\
          </div>\
        </div>\
        <div id="cheat-sheet-ascii" class="cheat-sheet-values">\
          <table><tbody><tr>\
            <td style="font-family: helvetica"><strong>Display:</strong></td>\
            <td><img src="content_files/root2over2.gif"/></td>\
            <td><img src="content_files/pirsq.gif"/></td>\
            <td><img src="content_files/xltoet0.gif"/></td>\
            <td><img src="content_files/infinity.gif"/></td>\
            <td><img src="content_files/aplusxover2.gif"/></td>\
            <td><img src="content_files/choose.gif"/></td>\
            <td><img src="content_files/integral.gif"/></td>\
            <td><img src="content_files/function-01.gif"/></td>\
            <td><img src="content_files/matrix-01.gif"/></td>\
            <td><img src="content_files/sin-01.gif"/></td>\
            <td><img src="content_files/piecewise-01.gif"/></td>\
            <td><img src="content_files/standard-product-01.gif"/></td>\
          </tr>\
          <tr>\
            <td style="font-family: helvetica"><strong>ASCIIMath code:</strong></td>\
            <td>sqrt(2)/2</td>\
            <td>pir^2  or  pi r^2</td>\
            <td>x &lt;= 0</td>\
            <td>x -&gt; oo</td>\
            <td>((A+X)/2 , (B+Y)/2)</td>\
            <td>sum_{k=0}^{s-1} ((n),(k))</td>\
            <td>int_-2^2 4-x^2dx</td>\
            <td>d/dxf(x)=lim_(h->0)(f(x+h)-f(x))/h</td>\
            <td>[[a,b],[c,d]]((n),(k))</td>\
            <td>sin^-1(x)</td>\
            <td>x/x={(1,if x!=0),(text{undefined},if x=0):}</td>\
            <td>((a*b))/c</td>\
          </tr></tbody></table>\
        </div>\
        <div id="cheat-sheet-latex" style="display: none;" class="cheat-sheet-values">\
          Fill in later\
          <br/>\
          <br/>\
          <br/>\
          <br/>\
          <br/>\
          <br/>\
        </div>\
        <div style="clear: both"></div>\
      </div>\
    </div>\
  ';
  $("#artboard-inner").append(cheatsheet);
//  $("#cheat-sheet-wrap, #toolbar, #toolbox, #module-bar").css("width",$('#canvas').outerWidth() + 50 + "px");
//  $("#module-bar").css("width", $("#module-bar").outerWidth() - 250 + "px");
//  $("#cheat-sheet-wrap, #toolbar").css("width",$('#artboard-inner').width() - 50 + "px");

});

  $(".clear-text-from-input").live("click", function(e){
    $(this).parent().find("input").val('')
    return false;
  });


  $(".menu-list li:not('.menu-list.disabled li')").live("mouseenter", function(e){
    $(this).addClass("hovered");
  });
  $(".menu-list li").live("mouseleave", function(e){
    $(this).removeClass("hovered");
  });

  function tableEditorRemove(e) {
    $("td,th").removeClass("current-cell"); // Really inefficient, I'm sure.
    $("#table-flyout").remove();
    $("#toolbar-table").removeClass("selected");
    var exText = $("#TableNew").text();
    if (exText.trim() == '') {
      $("#TableNew").remove();
    } else {
      $("#TableNew").replaceWith(exText);
    }
  }

  function tableOptionsRemove(e) {
    $("td,th").removeClass("current-cell"); // Really inefficient, I'm sure.
    $("#table-options-flyout").remove();
    $("#toolbar-table-options").removeClass("selected");
    var exText = $("#TableNew").text();
    if (exText.trim() == '') {
      $("#TableNew").remove();
    } else {
      $("#TableNew").replaceWith(exText);
    }
  }

  function addNewRemove(e) {
    $("#add-new-flyout").remove();
    $("#toolbar-add-new").removeClass("selected");
    var exText = $("#SemanticNew").text();
    if (exText.trim() == '') {
      $("#SemanticNew").remove();
    } else {
      $("#SemanticNew").replaceWith(exText);
    }
  }

  function formatTextRemove(e) {
    $("#format-text-flyout").remove();
    $("#toolbar-format-text").removeClass("selected");
//    $("#NewFormatText").contents().unwrap();
/*
    if ($(".selected-text-text").length) {
      selectText(".selected-text-text");
console.log("restoring range on selected-text-text");
    } else if ($("#NewFormatNoSelection").length) {
      selectText("#NewFormatNoSelection");
      $("#NewFormatNoSelection").contents().unwrap();
console.log("restoring range on empty node");
console.log("length of NewFormatNoSelection = " + $("#NewFormatNoSelection").length);
    } else if (useSelection) {
*/
    if (useSelection) {
      restoreSelection(NewFormatSelection);
      useSelection = false;
console.log("restoring range with restoreSelection()");
    }
    $(".NewFormatText").removeClass("NewFormatText");
//    toggleFormatText(e);
    $("body").mouseup();
  }

  function olistOptionsRemove(e) {
    $("#olist-options-flyout").remove();
    $("#toolbar-olist-options").removeClass("selected");
  }

  function mathIconEnter(mi,e){
    mi.addClass("hovered");
    mi.closest(".MathJax").addClass("to-remove");
    mi.closest(".MathJax").removeAttr("title");
  }
  function mathIconLeave(mi,e){
    mi.removeClass("hovered");
    mi.closest(".MathJax").removeClass("to-remove");
    mi.closest(".MathJax").attr("title","Click anywhere on the math to edit it");
  }
  $(".math-icon").live("mouseenter", function(e){
    mathIconEnter($(this),e);
  });
  $(".math-icon").live("mouseleave", function(e){
    mathIconLeave($(this),e);
  });

  function mathEnter(m,e) {
    $('.canvas-wrap').each(function(){
      $(this).children().children().children('.canvas-buddy, .canvas-buddy-2').hide();
      $(this).children().children().children().children().children('.canvas-buddy, .canvas-buddy-2').hide();
      $(this).children('.canvas').removeClass("canvas-hovered");
    });
    m.addClass("hovered");
    if(!m.find(".math-editor").length) {
      m.attr("title","Click anywhere on the math to edit it");
      mic = '<div class="math-icon" id="math-icon-clear"><span class="math-icon-message">Delete math</span></div>';
      m.append(mic);
      setTimeout(function(){$(".math-icon").show();}, 1000);
    }
    e.stopPropagation();
  }

  function mathLeave(m,e) {
    m.removeClass("hovered");
    m.removeAttr("title");
    m.find('#math-icon-edit').remove();
    m.find('#math-icon-clear').remove();
    if ( !m.parents().closest(".active").length) {
      m.parent().closest('.canvas-wrap').each(function(){
        $(this).children().children().children('.canvas-buddy, .canvas-buddy-2').show();
        $(this).children().children().children().children().children('.canvas-buddy, .canvas-buddy-2').show();
        $(this).children('.canvas').addClass("canvas-hovered");
      });
    }
  }
  function buildMathEditor(m,e) {
    var ed = '<div class="math-editor" contenteditable="false">\
        <span id="math-editor-help" class="math-editor-help">\
          <a href="#asdfasdfasdf" title="Open a pane with information on how to use the math editor">See help</a>\
        </span>\
        <div class="math-source-wrap">\
          <div class="math-source" contenteditable="true"></div>\
          <div id="math-error" contentEditable="false">\
            <strong>LaTeX error:</strong> <br/>Please check your syntax and try again.\
          </div>\
        </div>\
        <div class="math-options">\
          This is:\
          <input type="radio" name="math-type" id="radio_ascii" value="ascii" checked="checked"> <label for="radio_ascii">ASCIIMath</label>\
          <input type="radio" name="math-type" id="radio_latex" value="latex"> <label for="radio_latex">LaTeX</label>\
          <span title="This will convert your math to plain text after clicking \'Done\'.">\
            <input type="radio" name="math-type" id="radio_plain" value="plain"> <label for="radio_plain" id="radio_plain_label">Plain text</label>\
          </span>\
          <span id="math-type-help" class="math-help" style="display: none"><a href="#asdfasdf" title="Open a pane with information on ASCIIMath and LaTeX">(?)</a></span>\
          <span id="cheat-sheet-activate">\
            <input type="checkbox" name="cheat-sheet-activator" id="cheat-sheet-activator">\
            <label for="cheat-sheet-activator">Show cheat sheet</label>\
          </span>\
        </div>\
        <div id="math-done">\
          <input class="math-done" type="button" value="Done"/>\
        </div>\
        <div class="math-help-text-wrap">\
          <div class="math-help-text" id="math-type">\
            <span class="math-help-text-close"><img src="content_files/remove-element-08.png"/></span>\
            ASCIIMath and LaTeX transform plain text into mathematics format.\
            <ul>\
              <li>\
                <strong>ASCIIMath</strong> is a simple input notation similar to that of a graphing calculator.\
                For example, <span style="font-family: courier new">x^(ab)</span> would display as \
                <span class="math-style">x<sup style="line-height: .5em; vertical-align: .3em;">ab</sup></span>.\
                <a href="http\:\/\/www1.chapman.edu\/\~jipsen\/asciimath.html" target="_blank" title="Opens in a new window/tab" class="external">Learn more.</a>\
              </li>\
              <li>\
                <strong>LaTeX</strong>, while similar to ASCIIMath, includes some more complex notation for advanced math.\
                <a href="http\:\/\/en.wikibooks.org/wiki/LaTeX/Mathematics" target="_blank" title="Opens in a new window/tab" class="external">Learn more.</a>\
              </li>\
            </ul>\
            Click the "<strong>Show cheat sheet</strong>" box to see examples of each.\
          </div>\
          <div class="math-help-text" id="math-editor-help-text">\
            <span class="math-help-text-close" title="Close this help"><img src="content_files/remove-element-08.png"/></span>\
            <strong style="display: block\; margin: .5em 0">Help using the math editor</strong>\
            <div style="margin: .5em 0">\
            To add math to your document, type math in the text field using either \
            <a href="#asd" id="math-type-help-2" style="display: none">ASCIIMath or LaTeX notation</a>\
            ASCIIMath or LaTeX notation.\
            The display math will be shown below in real time.  When you\'re done, click "Done" or click anywhere outside the blue box.\
            </div>\
            <ul>\
              <li>\
                <strong>ASCIIMath</strong> is a simple input notation similar to that of a graphing calculator.\
                For example, <span style="font-family: courier new">x^(ab)</span> would display as \
                <span class="math-style">x<sup style="line-height: .5em; vertical-align: .3em;">ab</sup></span>.\
                <a href="http\:\/\/www1.chapman.edu\/\~jipsen\/asciimath.html" target="_blank" title="Opens in a new window/tab" class="external">Learn more.</a>\
              </li>\
              <li>\
                <strong>LaTeX</strong>, while similar to ASCIIMath, includes some more complex notation for advanced math.\
                <a href="http\:\/\/en.wikibooks.org/wiki/LaTeX/Mathematics" target="_blank" title="Opens in a new window/tab" class="external">Learn more.</a>\
              </li>\
              <li>\
                <strong><a href="#asdf" id="cheat-sheet-activator-2">Show cheat sheet</a></strong>.  Use this to see common examples of notation and their respective display.\
              </li>\
            </ul>\
          </div>\
        </div>\
      </div>';
    return ed;
  }
  function mathClick(m,e) {

    $("[class*='-header']").die("mouseenter mouseleave"); // Turning hovers off (temporarily)
    $(".canvas-wrap").die("mouseenter mouseleave"); // Have to do this one separately from above, apparently
    $(".MathJax").die("mouseenter mouseleave");
    $("table caption").die("mouseenter mouseleave");

    cwLeave($(".canvas-wrap"),"special",e);

    if (m.find(".hint-text").length) {
      m.find(".hint-text").replaceWith("&nbsp\;");
      $(this).data("blank-equation",true);
    } else {
      $(this).data("blank-equation",false);
    }

    if(!m.find(".math-editor").length) {
      mathEditorRemove("");
      m.removeAttr("title");

      $('#math-icon-clear').remove();

      m.addClass("selected");
      $("#toolbar-math").addClass("selected");

      mec = buildMathEditor(m,e);
      m.prepend(mec);
      var mathtext = m.find(".ascii-notation").text();

      $('#math-icon-clear').remove();

      if (mathtext.length) {
        m.find(".math-source").append(mathtext);
      } else if ( m.find(".MathJaxText, .MathJaxText2").text().length ) {
        m.find(".math-source").append(m.find(".MathJaxText, .MathJaxText2").text());
      } else if ($(this).data("blank-equation") == true) {
        m.find(".math-source").append('<span class="math-source-hint-text">Enter your math notation here</span>');
      } else {
        m.find(".math-source").append("&nbsp\;");
      }

      $('#math-icon-clear').remove();

      newB = m.outerHeight() + 14; // 14 = approx. positive value of :after's "bottom" property
      newL = m.outerWidth() / 2 - parseInt($(".math-editor").css("width")) / 2 - 7; // 7 for mysterious good measure
      $(".math-editor").css("bottom", newB + "px");
      $(".math-editor").css("left", newL + "px");
      $(".math-source").css("width", $(".math-editor").outerWidth() - $("#math-editor-help").outerWidth() - 2 - 20 - 10  + "px");

      if ($(this).data("blank-equation") != true) {
        placeCaretAtEnd($(".math-source").get(0));
      }

      $('#math-icon-clear').remove();

    } else {
      placeCaretAtEnd($(".math-source").get(0));
    }
    if ( $("#cheat-sheet").css("display") != 'none' ) $("#cheat-sheet-activator").attr("checked",true);
    $("#cheat-sheet-wrap").slideUp("fast", function(e){
      $(this).show();
    });
    e.stopPropagation();
  }

  $(".math-source").live("click", function(e){
    $(this).find(".math-source-hint-text").replaceWith("&nbsp;");
  });

  $(".math-source").live("keyup", function(e){
    AMdisplay($(this),$(this).closest(".MathJax").find(".ascii-math"),true);
  });

  var aol = '';

  function mathClickNew(aol,e) {
    var exText = getSelectionText();
    if (exText == '') {
      exText = '&nbsp\;';
      pasteHtmlAtCaret('<span id="MathJaxNew" class="MathJax selected" contenteditable="false"><span class="ascii-notation" style="display: none;">' + exText + '</span><span class="ascii-math"></span></span>');

      $("[class*='-header']").die("mouseenter mouseleave"); // Turning hovers off (temporarily)
      $(".canvas-wrap").die("mouseenter mouseleave"); // Have to do this one separately from above, apparently
      $(".MathJax").die("mouseenter mouseleave");
      $("table caption").die("mouseenter mouseleave");
      cwLeave($(".canvas-wrap"),"special",e);
      $("#toolbar-math").addClass("selected");

      mec = buildMathEditor();
      
      var m = $("#MathJaxNew")
      m.prepend(mec)
      newB = m.outerHeight() + 15 + 14; // 14 = approx. positive value of :after's "bottom" property
      newL = m.outerWidth() / 2 - parseInt($(".math-editor").css("width")) / 2 - 7; // 7 for mysterious good measure
      $(".math-editor").css("bottom", newB + "px");
      $(".math-editor").css("left", newL + "px");
      // Not sure following condition is necessary ... might be copy/paste issue only
      if (exText == '&nbsp;') {
        m.find(".math-source").append('<span class="math-source-hint-text">Enter your math notation here</span>');
      } else {
        m.find(".math-source").append(exText);
        placeCaretAtEnd($(".math-source").get(0));
      }
      if ( $("#cheat-sheet").css("display") != 'none' ) $("#cheat-sheet-activator").attr("checked",true);
      $("#cheat-sheet-wrap").slideUp("fast", function(){
        $(this).show();
      });

    } else {
      pasteHtmlAtCaret('<span id="MathJaxNew" class="MathJax" contenteditable="false"><span class="ascii-notation" style="display: none;">' + exText + '</span><span class="ascii-math"></span></span>');
      var mathml = AMparseMath2(exText);
      $("#MathJaxNew").find(".ascii-math").append(mathml);
      $("#toolbar-math").removeClass("selected");
      $("#MathJaxNew").removeAttr("id").effect("highlight", { color: "#C5DAE9" }, 1500);
    }

    e.stopPropagation();
    e.preventDefault();

  }

  function pasteHtmlAtCaret(html) { // From Tim Down at http://stackoverflow.com/questions/6690752/insert-html-at-cursor-in-a-contenteditable-div
    var sel, range;
    if (window.getSelection) {
        // IE9 and non-IE
        sel = window.getSelection();
        if (sel.getRangeAt && sel.rangeCount) {
            range = sel.getRangeAt(0);
            range.deleteContents();

            // Range.createContextualFragment() would be useful here but is
            // non-standard and not supported in all browsers (IE9, for one)
            var el = document.createElement("div");
            el.innerHTML = html;
            var frag = document.createDocumentFragment(), node, lastNode;
            while ( (node = el.firstChild) ) {
                lastNode = frag.appendChild(node);
            }
            range.insertNode(frag);

            // Preserve the selection
            if (lastNode) {
                range = range.cloneRange();
                range.setStartAfter(lastNode);
                range.collapse(true);
                sel.removeAllRanges();
                sel.addRange(range);
            }
        }
    } else if (document.selection && document.selection.type != "Control") {
        // IE < 9
        document.selection.createRange().pasteHTML(html);
    }
  }


  function mathEditorRemove(override) {

      $(".MathJax").removeClass("selected");
      $(".MathJax").removeClass("hovered");
      if ($("#cheat-sheet-wrap").css("display") != 'none') {
        $("#cheat-sheet-wrap").slideDown("fast", function(e){
          $(this).hide();
        });
      }
      var mj = $(".math-editor").closest(".MathJax");
      var ms = $(".math-editor").find(".math-source").text();
      
      if ((override.length || $("#radio_regular").is(":checked")) && !$(".math-source-hint-text").length) {
        if (ms == "&nbsp\;") {
          mj.replaceWith("");
        } else {
          mj.replaceWith(ms);
        }
      } else {
        if (!mj.find(".ascii-notation").length) { // This just not to mess up the nice examples in the mock-up.
          if (!ms.trim().length || mj.find(".math-source-hint-text").length) {
            if (mj.parent(".equation-contents").length || mj.parent().parent(".equation-contents").length) {
              mj.html('<div class="hint-text">Enter your math notation here</div>');
            } else {
              mj.remove();
            }
          } else {
            mj.html('<span class="MathJaxText">' + ms + '</span>');
          }
        }
      }
      $(".math-editor").remove();
      $("#toolbar-math").removeClass("selected");
      $(".MathJax").each(function(){
        if ($(this).attr("id") == 'MathJaxNew') {
          $(this).removeAttr("id");
        }
      });
    }
  $(".MathJax").live("mouseenter", function(e){
    mathEnter($(this),e);
  });
  $(".MathJax").live("mouseleave", function(e){
    mathLeave($(this),e);
  });
  $(".MathJax:not(.selected)").live("click", function(e){
    mathClick($(this),e);
  });
  $(".math-editor").live("click", function(e){
    meClick($(this),e);
  });
  function meClick(me,e) {
    e.stopPropagation();
  };
  
  $("#cheat-sheet-wrap, .MathJax.selected").live("click", function(e){
    meClick($(this),e);
  });

  $("#cheat-sheet-close").live("click", function(e){
    $("#cheat-sheet").slideUp("fast", function(){
      $(this).hide();
    });
    $("#cheat-sheet-open").show("slow");
    $("#cheat-sheet-activator").attr("checked",false);
  });
  $("#cheat-sheet-open").live("click", function(e){
    $(this).hide();
    $("#cheat-sheet").slideDown("fast", function(){
      $(this).show();
    });
    $("#cheat-sheet-activator").attr("checked",true);
  });

  $("#cheat-sheet-activator").live("click", function(e){
    if ($(this).is(":checked")) {
      $("#cheat-sheet-open").hide();
      $("#cheat-sheet").slideDown("fast");
    } else {
      $("#cheat-sheet").slideUp("fast");
      $("#cheat-sheet-open").show("slow");
    }
  });
  $("#cheat-sheet-activator-2").live("click", function(e){
    var csa = $("#cheat-sheet-activator");
    if (csa.is(":checked")) {
      csa.attr("checked",false);
      $("#cheat-sheet").slideUp("fast", function(){
        $(this).hide();
        $("#cheat-sheet-open").show("slow");
      });
    } else {
      csa.attr("checked",true);
      $("#cheat-sheet-open").hide();
      $("#cheat-sheet").slideDown("fast", function(){
        $(this).show();
      });
    }
    return false;
  });

  $("#radio_regular").live("click", function(e){
    if ($(this).is(":checked")) {
      $(this).closest(".MathJax").find(".MathJaxText").removeClass("MathJaxText").addClass("MathJaxText2");
    } else {
      $(this).closest(".MathJax").find(".MathJaxText2").removeClass("MathJaxText2").addClass("MathJaxText");
    }
  });

  $("#math-icon-clear").live("click", function(e){
    $(this).closest(".MathJax").slideUp("fast", function(){
      $(this).remove();
      mathEditorRemove("");
    });
  });

  $("input[name=math-type]").live("click", function(e){
    var m = $(this).closest(".MathJax");
    if ($(this).val() == 'latex') {
      m.removeClass("unmathified");
      m.addClass("errored");
      m.find(".ascii-math").hide();
      m.find(".ascii-notation").show();
      $("#math-error").css("width",m.find(".math-source").outerWidth() - 28 + "px"); // 28 = 24 total padding + 2 total border + 2 to appear inset
      $("#math-error").slideDown(100, function(e){
        $(this).show();
      });
    } else if ($(this).val() == 'plain') {
      m.removeClass("errored");
      m.addClass("unmathified");
      m.find(".ascii-math").hide();
      m.find(".ascii-notation").show();
      $("#math-error").slideUp(100, function(e){
        $(this).hide();
      });
    } else {
      m.removeClass("errored unmathified");
      m.find(".ascii-math").show();
      m.find(".ascii-notation").hide();
      $("#math-error").slideUp(100, function(e){
        $(this).hide();
      });
    }
  });

  $("input[name=cs-math-type]").live("click", function(e){
    var cs = $(this).closest("#cheat-sheet");
    if ($(this).val() == 'cs_latex') {
      cs.find("#cheat-sheet-ascii").hide();
      cs.find("#cheat-sheet-latex").show();
    } else {
      cs.find("#cheat-sheet-ascii").show();
      cs.find("#cheat-sheet-latex").hide();
    }
  });

  $("input[name=img-perms]").live("click", function(e){
    $("#img-perms-required").removeClass("warning");
      if (this.id == 'ip-reuse') {
        $("#reuse-info input, #reuse-info select").removeAttr("disabled").removeClass("disabled");
     } else {
        $("#reuse-info input, #reuse-info select").attr("disabled","disabled").addClass("disabled");
     }
     $(".image-forward").removeClass("disabled");
  });

//  var isCreatingSTM = false;

  $("html, .math-editor-close, .math-done").live("click", function(e){
    semanticHelpClose(e);
    resetTableContextMenu();
    mathEditorRemove("");
    $(".link, .cnxn").find(".link-options").remove();
    tableEditorRemove(e);
    // Turn hovers back on ...
    $(".canvas-wrap").live("mouseenter", function(e){
      cwEnter($(this),e)
    });
    $(".canvas-wrap").live("mouseleave", function(e){
      cwLeave($(this),"",e)
    });
    $(".MathJax").live("mouseenter", function(e){
      mathEnter($(this),e);
    });
    $(".MathJax").live("mouseleave", function(e){
      mathLeave($(this),e);
    });

    unSelectIcon($("#toolbar-footnote"),e);
    $(".footnote-editor").remove();
    $("#FootnoteNew").removeAttr("id").find(".footnote-editor").remove();

  });

  function resetTableContextMenu() {
    $("#table-context-menu").hide();
    $("#TableNew").remove();
    $(".current-cell").removeClass("current-cell");
    $(".table-to-remove").removeClass("table-to-remove");
    $(".add-row-before").removeClass("add-row-before");
    $(".add-row-after").removeClass("add-row-after");
    $(".add-column-before").removeClass("add-column-before");
    $(".add-column-after").removeClass("add-column-after");
  }

  function placeCaretAtEnd(el) { // From Tim Down at http://stackoverflow.com/questions/4233265/contenteditable-set-caret-at-the-end-of-the-text-cross-browser
    el.focus();
    if (typeof window.getSelection != "undefined"
            && typeof document.createRange != "undefined") {
        var range = document.createRange();
        range.selectNodeContents(el);
        range.collapse(false);
        var sel = window.getSelection();
        sel.removeAllRanges();
        sel.addRange(range);
    } else if (typeof document.body.createTextRange != "undefined") {
        var textRange = document.body.createTextRange();
        textRange.moveToElementText(el);
        textRange.collapse(false);
        textRange.select();
    }
  }

  $(".toolbar-function:not('.disabled')").live("mouseenter", function(e){
    $(this).addClass("hovered");
    if (this.id == 'toolbar-table-options' && !($(this).hasClass(".selected"))) {
      $("#toolbar-table").addClass("semi-hovered");
    }
    if (this.id == 'toolbar-olist-options' && !($(this).hasClass(".selected"))) {
      $("#toolbar-orderedlist").addClass("semi-hovered");
    }
    if (this.id == 'toolbar-table' && !($(this).hasClass(".selected"))) {
      $("#toolbar-table-options").addClass("semi-hovered");
    }
    if (this.id == 'toolbar-orderedlist' && !($(this).hasClass(".selected"))) {
      $("#toolbar-olist-options").addClass("semi-hovered");
    }
  });
  $(".toolbar-function:not('.disabled')").live("mouseleave", function(e){
    $(this).removeClass("hovered");
    if (this.id == 'toolbar-table-options') {
      $("#toolbar-table").removeClass("semi-hovered");
    }
    if (this.id == 'toolbar-olist-options') {
      $("#toolbar-orderedlist").removeClass("semi-hovered");
    }
    if (this.id == 'toolbar-table') {
      $("#toolbar-table-options").removeClass("semi-hovered");
    }
    if (this.id == 'toolbar-orderedlist') {
      $("#toolbar-olist-options").removeClass("semi-hovered");
    }
  });


  function selectIcon(fn,aol,e) {
   if(!fn.hasClass("disabled")) {
    fn.addClass("selected");
    if (fn.attr("id") == "toolbar-table") {
      $("#toolbar-table-options").removeClass("semi-hovered");
      var exText = newTablePlaceHolder(e);
      activateTableTemp();
      fn.append(tableflyout);
      $("#table-flyout").data("exText", exText);
    } else if (fn.attr("id") == "toolbar-table-options") {
      $("#toolbar-table").removeClass("semi-hovered");
      var exText = newTablePlaceHolder(e);
      fn.append(tableoptionsflyout);
      // If the cursor is in a table, enable the add/delete rows/columns options
      if ( $("#TableNew").closest(".table td, .table th").length ) {
        $(".menu-list").removeClass("disabled");
        $("#TableNew").closest("td,th").addClass("current-cell");
      }
    } else if (fn.attr("id") == "toolbar-add-new") {
      var exText = newSemanticPlaceHolder(e);
      activateSemanticTemp();
      fn.append(addnewflyout);
      var pedclone = $("#sidebar .pedagog-blocks").clone();
      pedclone.find("dt").remove();
      fn.find("#add-new-flyout").append(pedclone);
/*
      var mbclone = $("#more-blocks-choose").clone().removeAttr("id").attr("id","mbclone");
      mbclone.find("input").remove();
      var anf = fn.find("#add-new-flyout");
      anf.append(mbclone);
*/
      pedclone.find("ul").first().append('<li class="pedagog rule-block"><div class="count zero">0</div><a class="node" href="#"><span class="plus">+</span>Theorem</a><div class="helper" style="display: none;"><p>Use the <strong>Theorem template</strong> to define any type of "rule" that is presented as a statement, optionally accompanied by a proof or examples.</p><p>Supported types: <i>Rule, Theorem, Lemma, Corollary, Law, Proposition</i>.</p></div></li>');
//      pedclone.find("ul").first().append('<li class="pedagog code-block"><div class="count zero">0</div><a class="node" href="#"><span class="plus">+</span>Programming Code</a><div class="helper" style="display: none;"><p>Use the <strong>Programming Code template</strong> if you are writing a technical document that requires excerpts of programming code blocks.</p></div></li>');
//      pedclone.find("ul").first().append('<li class="pedagog rule-block"><div class="count zero">0</div><a class="node" href="#"><span class="plus">+</span>Poetry, Lyrics, etc.</a><div class="helper" style="display: none;"><p>Use the <strong>Poetry/Lyrics template</strong> to write stanzas where your line breaks and whitespace will be preserved.</p></div></li>');
      pedclone.find("ul").first().append('<li class="pedagog" id="toolbar-what-are-these" title="Click to find out more about the above features"><a href="#">What are these?</a></li>');
      pedclone.find("ul").first().find(".more-block").remove();
//      mbclone.append('<div id="toolbar-what-are-these-wrapper"><span id="toolbar-what-are-these" title="Click to find out more about the above features"><a href="#">What are these?</a></span></div>');
//      pedclone.append('<div id="toolbar-what-are-these-wrapper"><span id="toolbar-what-are-these" title="Click to find out more about the above features"><a href="#">What are these?</a></span></div>');
      $("#add-new-flyout").data("exText", exText);
    } else if (fn.attr("id") == "toolbar-format-text") {
      var textToFormat = newFormatTextPlaceHolder(e);
/*
      if ($(".NewFormatText").closest("#canvas").length) {
        $(".NewFormatText").addClass("activated");
      }
*/
      fn.append(formattextflyout);
      $("#format-text-flyout").data("exText", textToFormat);
      window.getSelection().removeAllRanges(); // To stop the blinking cursor from appearing at the end / beginning of highlighted block.
    } else if (fn.attr("id") == "toolbar-olist-options") {
      $("#toolbar-orderedlist").removeClass("semi-hovered");
      fn.append(olistoptionsflyout);
    } else if (fn.attr("id") == "toolbar-orderedlist") {
      $("#toolbar-olist-options").removeClass("semi-hovered");
    } else if (fn.attr("id") == "toolbar-math") {
      mathClickNew(aol,e);
    } else if (fn.attr("id") == "toolbar-image") {
      var imgPH = newImagePlaceHolder(e);
      $("#image-options").data('div',$("#ImageNew")).data('e',e).dialog("open");
    } else if (fn.attr("id") == "toolbar-video") {
      var vidPH = newVideoPlaceHolder(e);
      $("#video-options").data('div',$("#VideoNew")).data('e',e).dialog("open");
    } else if (fn.attr("id") == "toolbar-link") {
      newLinkPlaceHolder(e);
    } else if (fn.attr("id") == "toolbar-footnote") {
      newFootnote(e);
    } else if (fn.attr("id") == "toolbar-bold" || fn.attr("id") == "toolbar-italics" || fn.attr("id") == "toolbar-underline" || fn.attr("id") == "toolbar-superscript" || fn.attr("id") == "toolbar-subscript") {
      var elem, cls;
      if (fn.attr("id") == "toolbar-superscript") {
        elem = "sup";
        cls = "sup";
      } else if (fn.attr("id") == "toolbar-subscript") {
        elem = "sub";
        cls = "sub";
      } else {
        elem = fn.attr("id").substr(8,1);
        cls = "emphasis";
      }
      var boldtext = getSelectionText();
      var boldparent = $(getSelectionContainerElement());
      var unbold = boldparent.closest(".unbold-text");
      if (unbold.length && unbold.text() == boldtext && unbold.prev().hasClass(cls) && unbold.next().hasClass(cls)) { // only really works for case of quick format after unformat
        pasteHtmlAtCaret('<' + elem + ' class="' + cls + '" id="NewEmphasis">' + boldtext + '</' + elem + '>');
        var neu = $("#NewEmphasis").closest(".unbold-text");
        var nextText = neu.next().text();
        var prevLength = neu.prev().text().length;
        neu.prev().append(boldtext).append(nextText);
        neu.next().remove();
        neu.remove();
      } else if (boldparent.closest(".selected-text").length) {
        boldparent.closest(".selected-text").replaceWith('<' + elem + ' class="' + cls + '" id="NewEmphasis">' + boldtext + '</' + elem + '>')
        selectText("#NewEmphasis");
      } else {
        pasteHtmlAtCaret('<' + elem + ' class="' + cls + '" id="NewEmphasis">' + boldtext + '</' + elem + '>');
        selectText("#NewEmphasis");
      }
      $("#NewEmphasis").removeAttr("id");
    }
   }
   return false;
  }

  function unSelectIcon(fn) {
    fn.removeClass("selected");
    if (fn.attr("id") == "toolbar-table") {
      tableEditorRemove();
    } else if (fn.attr("id") == "toolbar-table-options") {
      tableOptionsRemove();
    } else if (fn.attr("id") == "toolbar-olist-options") {
      olistOptionsRemove();
    } else if (fn.attr("id") == "toolbar-math") {
      mathEditorRemove("");
    } else if (fn.attr("id") == "toolbar-add-new") {
      addNewRemove();
    } else if (fn.attr("id") == "toolbar-format-text") {
      formatTextRemove();
//  } else if (fn.attr("id") == "toolbar-bold") {
    } else if (fn.attr("id") == "toolbar-bold" || fn.attr("id") == "toolbar-italics" || fn.attr("id") == "toolbar-underline" || fn.attr("id") == "toolbar-superscript" || fn.attr("id") == "toolbar-subscript") {
      var boldtext = getSelectionText();
      var boldparent = $(getSelectionContainerElement());
console.log(boldparent);
      var sel = saveSelection();
      var entireSel = sel.startOffset == 0 && (sel.endOffset == 1 || sel.endOffset == boldparent.text().length); // Not sure why 1 for the case where you're unbolding the same text you just bolded ...
/*
console.log(boldparent.text().length);
console.log(entireSel);
console.log(sel.collapsed);
console.log(sel.startOffset);
console.log(sel.endOffset);
*/
      var b1 = boldparent.clone().html(boldparent.text().substr(0,sel.startOffset));
      if (entireSel) b1 = '';
      var bt = '<span id="NewUnboldText" class="unbold-text">' + boldtext + '</span>';
      var b2 = boldparent.clone().html(boldparent.text().substr(sel.endOffset));
      if (entireSel) b2 = '';
      boldparent.replaceWith('<span id="NewUnbold"></span>');
      $("#NewUnbold").append(b1).append(bt).append(b2).contents().unwrap();
      selectText("#NewUnboldText");
/*
      var ubcontents = $("#NewUnboldText").contents();
      selectText2(ubcontents);
      ubcontents.unwrap();
*/
      $("#NewUnbold").contents().unwrap();
//    $("#NewUnboldText").removeAttr("id");
/*
    } else if (fn.attr("id") == "toolbar-italics") {
      var boldtext = getSelectionText();
      var boldparent = $(getSelectionContainerElement());
      var sel = saveSelection();
      var entireSel = sel.startOffset == 0 && (sel.endOffset == 1 || sel.endOffset == boldparent.text().length); // Not sure why 1 for the case where you're unbolding the same text you just bolded ...
      var b1 = boldparent.clone().html(boldparent.text().substr(0,sel.startOffset));
      if (entireSel) b1 = '';
      var bt = '<span id="NewUnboldText" class="unbold-text">' + boldtext + '</span>';
      var b2 = boldparent.clone().html(boldparent.text().substr(sel.endOffset));
      if (entireSel) b2 = '';
      boldparent.replaceWith('<span id="NewUnbold"></span>');
      $("#NewUnbold").append(b1).append(bt).append(b2).contents().unwrap();
      selectText("#NewUnboldText");
      $("#NewUnbold").contents().unwrap();
*/
    }
    return false;
  }

  // Yet more 2x copied functions
  function saveSelection() {  // From Tim Down at http://stackoverflow.com/questions/3315824/preserve-text-selection-in-contenteditable-while-interacting-with-jquery-ui-dial
    if (window.getSelection) {
        sel = window.getSelection();
        if (sel.getRangeAt && sel.rangeCount) {
            return sel.getRangeAt(0);
        }
    } else if (document.selection && document.selection.createRange) {
        return document.selection.createRange();
    }
    return null;
  }
  function restoreSelection(range) {
    if (range) {
        if (window.getSelection) {
            sel = window.getSelection();
            sel.removeAllRanges();
            sel.addRange(range);
        } else if (document.selection && range.select) {
            range.select();
        }
    }
  }


  // Yet another copy of this function .... shouldn't be duplicated like this, but oh well
  function selectText(element) { // From Jason (with some edits) at http://stackoverflow.com/questions/985272/jquery-selecting-text-in-an-element-akin-to-highlighting-with-your-mouse
    var doc = document
//      , text = doc.getElementById(element)
        , text = $(element).first().get(0)
        , range, selection
    ;    
    if (doc.body.createTextRange) { //ms
        range = doc.body.createTextRange();
        range.moveToElementText(text);
        range.select();
    } else if (window.getSelection) { //all others
        selection = window.getSelection();        
        range = doc.createRange();
        range.selectNodeContents(text);
        selection.removeAllRanges();
        selection.addRange(range);
    }
  }

  // Yet another copy of this function .... shouldn't be duplicated like this, but oh well
  function selectText2(element) { // From Jason (with some edits) at http://stackoverflow.com/questions/985272/jquery-selecting-text-in-an-element-akin-to-highlighting-with-your-mouse
    var doc = document
//      , text = doc.getElementById(element)
        , text = element
        , range, selection
    ;    
    if (doc.body.createTextRange) { //ms
        range = doc.body.createTextRange();
        range.moveToElementText(text);
        range.select();
    } else if (window.getSelection) { //all others
        selection = window.getSelection();        
        range = doc.createRange();
        range.selectNodeContents(text);
        selection.removeAllRanges();
        selection.addRange(range);
    }
  }

  function newTablePlaceHolder(e) {
    var exText = getSelectionText();
    if (exText == "&nbsp\;" || exText == '') {
      pasteHtmlAtCaret('<span id="TableNew" class="table-temp-empty"><span class="temp-arrow"></span>' + exText + '</span>');
    } else {
      pasteHtmlAtCaret('<span id="TableNew" class="table-temp-text">' + exText + '</span>');
    }
//console.log($("#TableNew").length);
    if (!$("#TableNew").closest("#canvas").length || !$("#TableNew").length) {
      $("#TableNew").removeAttr("id class").find(".temp-arrow").remove();
      $("#canvas").find(".para").first().prepend('<span id="TableNew" class="table-temp-empty"><span class="temp-arrow"></span></span>');
    }
    return exText;
    e.stopPropagation();
  }

  function newSemanticPlaceHolder(e) {
    var exText = getSelectionText();
    if (exText == '&nbsp\;' || exText == '') {
      pasteHtmlAtCaret('<span id="SemanticNew" class="semantic-temp-empty"><span class="temp-arrow"></span>' + exText + '</span>');
    } else {
      pasteHtmlAtCaret('<span id="SemanticNew" class="semantic-temp-text">' + exText + '</span>');
    }
    return exText;
    e.stopPropagation();
  }

  var NewFormatSelection;
  var useSelection = false;

  function newFormatTextPlaceHolder(e) {
    var exText = getSelectionText();
/*
    if (exText == '') { // If there was no text selected, make a little temp span
      pasteHtmlAtCaret('<span id="NewFormatNoSelection" class="semantic-temp-empty"></span>');
    } else if (!$(".selected-text-text").length) { // If there wasn't a menu-making selection made, make a temp range
*/
      NewFormatSelection = saveSelection();
      useSelection = true;
/*
    }
*/
    var nearestValidCont = $(getSelectionContainerElement()).closest(".para,.item, .section-header");
//    nearestValidCont.wrap('<div id="NewFormatText"></div>');
    nearestValidCont.addClass("NewFormatText");
//    return $("#NewFormatText");
    return $(".NewFormatText");
//    e.stopPropagation();
  }

  function activateTableTemp() {
    if ($("#TableNew").closest("#canvas").length) {
      $("#TableNew").addClass("activated");
    }
  }

  function activateSemanticTemp() {
    if ($("#SemanticNew").closest("#canvas").length) {
      $("#SemanticNew").addClass("activated");
    }
  }
  function disActivateSemanticTemp() {
    $("#SemanticNew").removeClass("activated");
  }

  function newImagePlaceHolder(e) {
    var exText = getSelectionText();
    var imgPH = getSelectionText();
    if (imgPH == "&nbsp\;" || imgPH == '') {
      pasteHtmlAtCaret('<span id="ImageNew" class="image-temp-empty"><span class="temp-arrow"></span>' + imgPH + '</span>');
    } else {
      pasteHtmlAtCaret('<span id="ImageNew" class="image-temp-text">' + imgPH + '</span>');
    }
    return imgPH;
    e.stopPropagation();
  }

  function newVideoPlaceHolder(e) {
    var exText = getSelectionText();
    var vidPH = getSelectionText();
    if (vidPH == "&nbsp\;" || vidPH == '') {
      pasteHtmlAtCaret('<span id="VideoNew" class="video-temp-empty"><span class="temp-arrow"></span>' + vidPH + '</span>');
    } else {
      pasteHtmlAtCaret('<span id="VideoNew" class="video-temp-text">' + vidPH + '</span>');
    }
    return vidPH;
    e.stopPropagation();
  }

  function newLinkPlaceHolder(e) {
    var linkPHtext = getSelectionText();
    var linkPHparent = $(getSelectionContainerElement());
    if (linkPHparent.closest(".link").length || linkPHparent.closest(".cnxn").length) {
      // If already on a link, edit the whole thing (identified by .LinkNew class, which will be removed after the dialog has closed)
      linkPHparent.addClass("LinkNew");
    } else {
      pasteHtmlAtCaret('<span id="LinkNew" class="link-temp-empty">' + linkPHtext + '</span>');
      // If not already on a link, surround the selected text (or non-text) with a #LinkNew (this ID will be removed after the dialog has closed)
    }
    var linkPH = $(".LinkNew, #LinkNew");
    $("#link-options").data("link",linkPH).data('e',e).dialog("open");
    e.stopPropagation();
  }

  function newFootnote(e) {
    var footnotePHtext = getSelectionText();
    pasteHtmlAtCaret('<span id="FootnoteNew" class="throwaway-class">' + footnotePHtext + '</span>');
    var fph = $("#FootnoteNew");
    var footnotes = $(".footnote-reference");
    var fnum = fph.add(footnotes).index(fph) + 1;
    fph.append('<span class="fn-wrapper" contenteditable="false"><a href="#footnote-' + fnum + '" class="footnote-reference">' + fnum + '</a></span>');
    fph.find(".fn-wrapper").append('<div class="footnote-editor">\
      <div class="fne-title">Edit footnote</div>\
      <div class="fne-textarea content-editable" contenteditable="true">&nbsp;<span class="hint-text">Enter the text of your footnote here.</span></div>\
      <div class="fne-submit"><input type="submit" value="Save"/><input type="submit" value="Cancel"/></div>\
    </div>');
    fnPlacement(fph.find(".fn-wrapper"),e);
    fph.find(".fne-textarea").focus();
    e.stopPropagation();
  }

  function fnPlacement(fn,e){
    fn.removeClass("place-above place-left");

    var distAbove = fn.offset().top - $(window).scrollTop() - $("#toolbar").outerHeight();
    var distBelow = $(window).height() - distAbove;
    var distLeft  = fn.offset().left - $(window).scrollLeft();
    var distRight = $(window).width() - distLeft;
    if (distAbove > distBelow) {
      fn.addClass("place-above");
    }
    if (distLeft > distRight) {
      fn.addClass("place-left");
    }
console.log(fn.attr("class"));
  }

  var addnewflyout = '\
    <div class="icon-flyout" id="add-new-flyout">\
    </div>\
  ';

  var formattextflyout = '\
    <div class="icon-flyout" id="format-text-flyout">\
      <ul>\
        <li id="ft-normal" title="Plain text (default)"><a href="#">Normal</a></li>\
        <li id="ft-heading" title="Makes a heading for the highest level of sections"><a href="#">Section heading</a></li>\
        <li id="ft-subheading" title="Makes a heading for the second-highest level of sections"><a href="#">Subsection heading</a></li>\
        <li id="ft-subsubheading" title="Makes a heading for the third-highest level of sections"><a href="#">Subsubsection heading</a></li>\
        <li id="ft-codeblock" title="Produces a block of monospaced text"><a href="#">Programming code</a></li>\
        <li id="ft-preformat" title="Produces a block of text where the white space is preserved without styling it in monospaced font"><a href="#">Poetry, Lyrics, etc.</a></li>\
      </ul>\
    </div>\
  ';
  
  var tableflyout = '\
    <div class="icon-flyout" id="table-flyout">\
            <div class="flyout-options">\
              <input type="checkbox" id="include-row-header" checked="checked"> <label for="include-row-header">Include header row</label>\
            </div>\
            <div class="flyout-core">\
              <table>\
                <tbody>\
                  <tr>\
                    <td class="header">&nbsp\;</td>\
                    <td class="header">&nbsp\;</td>\
                    <td class="header">&nbsp\;</td>\
                    <td class="header">&nbsp\;</td>\
                    <td class="header">&nbsp\;</td>\
                    <td class="header">&nbsp\;</td>\
                  </tr>\
                  <tr>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                  </tr>\
                  <tr>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                  </tr>\
                  <tr>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                  </tr>\
                  <tr>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                  </tr>\
                  <tr>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                  </tr>\
                </tbody>\
              </table>\
            </div>\
            <div id="table-dimensions"/>\
    </div>\
  ';

  var tableflyoutOLD = '\
    <div class="icon-flyout" id="table-flyout">\
      <ul class="menu-list" id="table-flyout-new">\
        <li>\
          <span class="list-text">Add new table</span>\
          <div id="table-flyout-flyout">\
            <div class="flyout-options">\
              <input type="checkbox" id="include-row-header" checked="checked"> <label for="include-row-header">Include header row</label>\
            </div>\
            <div class="flyout-core">\
              <table>\
                <tbody>\
                  <tr>\
                    <td class="header">&nbsp\;</td>\
                    <td class="header">&nbsp\;</td>\
                    <td class="header">&nbsp\;</td>\
                    <td class="header">&nbsp\;</td>\
                    <td class="header">&nbsp\;</td>\
                    <td class="header">&nbsp\;</td>\
                  </tr>\
                  <tr>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                  </tr>\
                  <tr>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                  </tr>\
                  <tr>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                  </tr>\
                  <tr>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                  </tr>\
                  <tr>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                    <td>&nbsp\;</td>\
                  </tr>\
                </tbody>\
              </table>\
            </div>\
            <div id="table-dimensions"/>\
          </div>\
        </li>\
      </ul>\
      <ul class="menu-list disabled" id="table-flyout-insert">\
        <li class="table-add-row-before">Add new row before</li>\
        <li class="table-add-row-after">Add new row after</li>\
        <li class="table-add-column-before">Add new column before</li>\
        <li class="table-add-column-after">Add new column after</li>\
      </ul>\
      <ul class="menu-list disabled" id="table-flyout-delete">\
        <li class="table-delete-row">Delete row</li>\
        <li class="table-delete-column">Delete column</li>\
      </ul>\
      <ul class="menu-list disabled" id="table-flyout-options">\
        <li class="table-options-activate">Table options ...</li>\
      </ul>\
    </div>\
  ';

  var tableoptionsflyout = '\
    <div class="icon-flyout icon-flyout-dd" id="table-options-flyout">\
      <ul class="menu-list disabled" id="table-flyout-insert">\
        <li class="table-add-row-before">Add new row before</li>\
        <li class="table-add-row-after">Add new row after</li>\
        <li class="table-add-column-before">Add new column before</li>\
        <li class="table-add-column-after">Add new column after</li>\
      </ul>\
      <ul class="menu-list disabled" id="table-flyout-delete">\
        <li class="table-delete-row">Delete row</li>\
        <li class="table-delete-column">Delete column</li>\
      </ul>\
      <ul class="menu-list disabled" id="table-flyout-options">\
        <li class="table-options-activate">Table options ...</li>\
      </ul>\
    </div>\
  ';

  var olistoptionsflyout = '\
    <div class="icon-flyout icon-flyout-dd" id="olist-options-flyout">\
      <ul class="ordered-list-type menu-list" style="border-top-width: 0;">\
        <li class="header">Choose numbering style:</li>\
        <li>\
          <span class="action listarabic"><span class="ordered-list-type-bullet">1. </span><span class="ordered-list-type-label">Default</span></span>\
        </li>\
        <li>\
          <span class="action listupperalpha"><span class="ordered-list-type-bullet">A. </span><span class="ordered-list-type-label">Upper Alpha</span></span>\
        </li>\
        <li>\
          <span class="action listloweralpha"><span class="ordered-list-type-bullet">a. </span><span class="ordered-list-type-label">Lower Alpha</span></span>\
        </li>\
        <li>\
          <span class="action listupperroman"><span class="ordered-list-type-bullet">I. </span><span class="ordered-list-type-label">Upper Roman</span></span>\
        </li>\
        <li>\
          <span class="action listlowerroman"><span class="ordered-list-type-bullet">i. </span><span class="ordered-list-type-label">Lower Roman</span></span>\
        </li>\
        <li>\
          <span href="#" class="action listlowerroman"><span class="ordered-list-type-bullet">Step 1. </span><span class="ordered-list-type-label">Step-wise</span></span>\
        </li>\
      </ul>\
    </div>\
  ';


  $(".table-add-row-before:not('ul.disabled li')").live("mouseenter", function(e){
    $("#TableNew").closest("tr").addClass("add-row-before");
  });
  $(".table-add-row-before:not('ul.disabled li')").live("mouseleave", function(e){
    $("#TableNew").closest("tr").removeClass("add-row-before");
  });
  $(".table-add-row-after:not('ul.disabled li')").live("mouseenter", function(e){
    $("#TableNew").closest("tr").addClass("add-row-after");
  });
  $(".table-add-row-after:not('ul.disabled li')").live("mouseleave", function(e){
    $("#TableNew").closest("tr").removeClass("add-row-after");
  });
  $(".table-add-column-before:not('ul.disabled li')").live("mouseenter", function(e){
    var colI = $("#TableNew").closest("td,th").index() + 1;
    $("#TableNew").closest("table").find("tr").find("td:nth-child(" + colI + "),th:nth-child(" + colI + ")").addClass("add-column-before");
  });
  $(".table-add-column-before:not('ul.disabled li')").live("mouseleave", function(e){
    $("#TableNew").closest("table").find("td,th").removeClass("add-column-before");
  });
  $(".table-add-column-after:not('ul.disabled li')").live("mouseenter", function(e){
    var colI = $("#TableNew").closest("td,th").index() + 1;
    $("#TableNew").closest("table").find("tr").find("td:nth-child(" + colI + "),th:nth-child(" + colI + ")").addClass("add-column-after");
  });
  $(".table-add-column-after:not('ul.disabled li')").live("mouseleave", function(e){
    $("#TableNew").closest("table").find("td,th").removeClass("add-column-after");
  });
  $(".table-delete-row:not('ul.disabled li')").live("mouseenter",function(e){
    $("#TableNew").closest("tr").addClass("table-to-remove");
  });
  $(".table-delete-row:not('ul.disabled li')").live("mouseleave",function(e){
    $("#TableNew").closest("tr").removeClass("table-to-remove");
  });
  $(".table-delete-column:not('ul.disabled li')").live("mouseenter",function(e){
    var colI = $("#TableNew").closest("td,th").index() + 1;
    $("#TableNew").closest("table").find("tr").find("td:nth-child(" + colI + "),th:nth-child(" + colI + ")").addClass("table-to-remove");
  });
  $(".table-delete-column:not('ul.disabled li')").live("mouseleave",function(e){
    $("#TableNew").closest("table").find("td,th").removeClass("table-to-remove");
  });
  $(".table-options-activate:not('ul.disabled li')").live("click",function(e){
    tableOptions($(".current-cell").closest(".canvas"));
    unSelectIcon($("#toolbar-table-options"),e)
  });


  function cwEnter(cw,e) {

      $('.canvas-wrap').each(function(){
        $(this).children().children().children('.canvas-buddy, .canvas-buddy-2').hide();
        $(this).children().children().children().children().children('.canvas-buddy, .canvas-buddy-2').hide();
        $(this).children('.canvas').removeClass("canvas-hovered");
        $(".header-hovered").removeClass("header-hovered");
      });
      cw.children('.canvas').addClass("canvas-hovered");
      cw.find("[class*='-header']").first().addClass("header-hovered");
      cw.children().children().children('.canvas-buddy, .canvas-buddy-2').show();
      cw.children().children().children().children().children('.canvas-buddy, .canvas-buddy-2').show();
      $(".make-copy").remove();
      cw.children().children(".canvas-inner").prepend('<span class="make-copy"><span class="make-copy-text">copy ' + cw.find(".canvas-buddy-2").first().find(".edit-element").data("elementtype") + '</span></span>');
//      cw.children().children(".canvas-inner").children(".canvas-buddy-2").append('<a class="copy-element" title="Copy this element" href="#"><img src="content_files/copy-element-01.png"/></a>')
      headerEnter(cw.find("[class*='-header']").first());
      if (cw.children('.exercise').length) {
        cw.children('.exercise').find(".add-solution-2").slideDown("fast");
      }
      if (cw.children('.question').length) {
        cw.children('.question').find(".add-answer").slideDown("fast");
      }
      if (cw.children('.definition').length) {
        cw.children('.definition').find(".add-meaning").slideDown("fast");
        cw.children('.definition').find(".glossary-options").slideDown("fast");
      }
      if (cw.children('.table').length) {
        headerEnter(cw.children('.table').find("caption"),e);
      }
      if (cw.children('.solution').length) {
        if (cw.closest('.exercise').find('.add-solution-2').is(':hidden')) {
          cw.closest('.exercise').find(".add-solution-2").slideDown("fast");
        }
      }
      if (cw.children('.answer').length) {
        if (cw.closest('.question').find('.add-answer').is(':hidden')) {
          cw.closest('.question').find(".add-answer").slideDown("fast");
        }
      }
      e.stopPropagation();
  }

  function cwLeave(cw,special,e) {

      $(".edit-element-menu").remove();

      cw.children().children().children('.canvas-buddy, .canvas-buddy-2').hide();
      cw.children().children().children().children().children('.canvas-buddy, .canvas-buddy-2').hide();
      $(".make-copy").remove();
      cw.children('.canvas').removeClass("canvas-hovered");
      cw.find("[class*='-header']").removeClass("header-hovered");
      if (cw.children('.exercise').length) {
        cw.children('.exercise').find(".add-solution-2").slideUp("fast");
      }
      if (cw.children('.question').length) {
        cw.children('.question').find(".add-answer").slideUp("fast");
      }
      if (cw.children('.definition').length) {
        cw.children('.definition').find(".add-meaning").slideUp("fast");
        cw.children('.definition').find(".glossary-options").slideUp("fast");
      }

      if (cw.children('.figure').length) {
        cw.children('.figure').find('.media-title').removeClass("hovered");
        cw.children('.figure').find('.media-caption').removeClass("hovered");
      }
      if (cw.children('.table').length) {
        tableHeaderLeave(cw.children('.table').find("caption"),tableTitleHintText,tableCaptionHintText);
      }
      if ( !cw.parents().closest(".active").length && special != "special") {
        cw.parent().closest('.canvas-wrap').each(function(){
          $(this).children().children().children('.canvas-buddy, .canvas-buddy-2').show();
          $(this).children().children().children().children().children('.canvas-buddy, .canvas-buddy-2').show();
          $(this).children('.canvas').addClass("canvas-hovered");
          $(this).find("[class*='-header']").first().addClass("header-hovered");
        });
      }
  }

  $(".canvas-wrap").live("mouseenter", function(e){
    cwEnter($(this),e);
  });
  $(".canvas-wrap").live("mouseleave", function(e){
    cwLeave($(this),"",e);
  });



  function getSelectionText() { // from Tim Down at http://stackoverflow.com/questions/5379120/jquery-get-the-highlighted-text
    var text = "";
    if (window.getSelection) {
        text = window.getSelection().toString();
    } else if (document.selection && document.selection.type != "Control") {
        text = document.selection.createRange().text;
    }
    return text;
  }

  function getSelectionContainerElement() { // From Tim Down at http://stackoverflow.com/questions/1563427/how-do-i-find-out-the-dom-node-at-cursor-in-a-browsers-editable-content-window/1563492#1563492
    var range, sel, container;
    if (document.selection && document.selection.createRange) {
        // IE case
        range = document.selection.createRange();
        return range.parentElement();
    } else if (window.getSelection) {
        sel = window.getSelection();
        if (sel.getRangeAt) {
            if (sel.rangeCount > 0) {
                range = sel.getRangeAt(0);
            }
        } else {
            // Old WebKit selection object has no getRangeAt, so
            // create a range from other selection properties
            range = document.createRange();
            range.setStart(sel.anchorNode, sel.anchorOffset);
            range.setEnd(sel.focusNode, sel.focusOffset);

            // Handle the case when the selection was selected backwards (from the end to the start in the document)
            if (range.collapsed !== sel.isCollapsed) {
                range.setStart(sel.focusNode, sel.focusOffset);
                range.setEnd(sel.anchorNode, sel.anchorOffset);
            }
        }

        if (range) {
           container = range.commonAncestorContainer;

           // Check if the container is a text node and return its parent if so
           return container.nodeType === 3 ? container.parentNode : container;
        }   
    }
  }

  var desctitle = '<span class="hint-text">Add a title (optional)</span>';

  function headerEnter(h,e) {
    h.find(".title").show();
    h.find(".table-caption").show(); // Might not be there for elements other than table
  }
  function headerLeave(h,desctitle,e) {
    var title = h.find(".title,.term");
    if (title.text().trim() == '') {
      title.prepend(desctitle);
      if (title.closest(".definition-header").length) {
        title.find(".hint-text").html('Enter key term to be defined here (required) <img src="content_files/warning-01.png" class="term-required" title="You are required to have a key term"/>');
      }
      title.blur();
    }
    e.stopPropagation();
  }
  function headerClick(h,e) {
    h.find(".hint-text").hide(100, function(e){
      $(this).replaceWith("&nbsp\;");
    });
    h.find(".title").focus();
    return false;
  }
  $("[class*='-header']").live("click", function(e){
    headerClick($(this),e);
  });
  $("[class*='-header']").live("mouseleave", function(e){
    headerLeave($(this),desctitle,e);
  });

  var tableTitleHintText = '<span class="hint-text">&nbsp\;Add a title (optional)</span>';
  var tableCaptionHintText = '<span class="hint-text table-caption-hint-text">&nbsp\;Add a table caption (optional)</span>';
  function tableCaptionClick(tc) {
    var label = tc.parent().find(".cnx_label").text().trim();
    tc.find(".hint-text").remove();
    if (label.substr(label.length - 1) != ":") {
      tc.parent().find(".cnx_label").text(label + ":");
    }
    tc.focus();
  }
  function tableHeaderLeave(h,desctitle,desccaption) {
    var caption = h.find(".table-caption");
    var label = h.find(".cnx_label");
    var labelt = label.text().trim();
    if (caption.find(".hint-text").length) {
      caption.hide();
    }
    if (caption.text().trim() == '') {
      caption.hide();
      caption.prepend(desccaption);
    }
    caption.blur();
    if (caption.find(".hint-text").length && labelt.substr(labelt.length - 1) == ":") {
        label.text(labelt.substring(0, labelt.length - 1));
    }
  }
  $("table>caption>.table-caption").live("click", function(e){
    tableCaptionClick($(this),e);
  });

  $("#video-services li").live("click", function(e){
    $(this).siblings().removeClass("selected");
    $(this).addClass("selected");
    if ($(this).attr("id") == 'harddrive') {
//      if ($("#video-results").is(":visible")) {
        $("#video-results").hide();
        $("#harddrive-results").show();
//      }
    } else {
//      if ($("#harddrive-results").is(":visible")) {
        $("#harddrive-results").hide();
        $("#video-results").show();
//      }
    }
    $("#video-results-button").val("Search " + $(this).text());
    e.preventDefault();
  });

  $("#video-results-button").live("click", function(e){
    $(this).closest("#video-results").find(".video-results-results").show();
  });
  $(".video-results-results tr").live("click", function(e){
    $(this).siblings().removeClass("selected");
    $(this).addClass("selected");
    // FIX: insert "Next" button
    $(".video-forward").text("Next").removeClass("hidden");
  });

  $("#video-searches").live("click", function(e){
    $("#vid-us-searches").prop("checked",true);
  });
  $("#video-url").live("click", function(e){
    $("#vid-us-url").prop("checked",true);
  });

  function cbEnter(cb) {
    cb.css("background-color","#666");
    cb.parent().css("background-color","#f2f2f2");
//    $(".make-copy").css("background-color","#f2f2f2");
    cb.find("img").attr("src","content_files/drag-element-20.png");
    cb.parent().children(".canvas-buddy-2").hide();
    $(".make-copy").hide();
  }
  function cbLeave(cb) {
    cb.css("background-color","transparent");
    cb.parent().css("background-color","transparent");
//    $(".make-copy").css("background-color","transparent");
    cb.find("img").attr("src","content_files/drag-element-19.png");
    cb.parent().children(".canvas-buddy-2").show();
    $(".make-copy").show();
  }
  $(".canvas-buddy").live("mouseenter", function(){
    cbEnter($(this));
  });
  $(".canvas-buddy").live("mouseleave", function(){
    cbLeave($(this));
  });
  $(".make-copy").live("mouseenter", function(){
    $(this).add($(this).closest(".canvas")).css("background-color","#f2f2f2");
  });
  $(".make-copy").live("mouseleave", function(){
    $(this).css("background-color","#ffffff");
    $(this).closest(".canvas").css("background-color","transparent");
  });
  $(".make-copy").live("click", function(){
//  $("#toolbar-paste input").effect("highlight", { color: "#C5DAE9" }, 1000);
//    $("#toolbar-paste input").effect("highlight", { color: "#336699" }, 1000);
    $("#toolbar-paste input").val("Copied").css("font-weight","bold").removeAttr("disabled");
    setTimeout(function() { $("#toolbar-paste input").css("font-weight","normal").val("Paste") }, 1200);
  });


  function reEnter(re) {
    re.parent().css("border-left-width","0");
    re.parent().parent().children(".canvas-buddy").hide();
    re.parent().find(".edit-element").hide();
    re.parent().parent().parent().css("background-color","#f9f9f9");
    re.parent().parent().addClass("to-remove");
    re.find("img").attr("src","content_files/remove-element-07.png");
  }
  function reLeave(re) {
    re.parent().css("border-left-width","1px");
    re.parent().parent().children(".canvas-buddy").show();
    re.parent().find(".edit-element").show();
    re.parent().parent().parent().css("background-color","transparent");
    re.parent().parent().removeClass("to-remove");
    re.find("img").attr("src","content_files/remove-element-06.png");
  }
  $(".remove-element").live("mouseenter", function(){
    reEnter($(this));
  });
  $(".remove-element").live("mouseleave", function(){
    reLeave($(this));
  });


  function removeElement(el,e) {
      var sol = false;
      var ans = false;
      var exercont = '';
      var questcont = '';
      if (el.parent().parent().parent(".solution").length) {
        sol = true;
        exercont = el.closest(".exercise-contents");
      }
      if (el.parent().parent().parent(".answer").length) {
        ans = true;
        questcont = el.closest(".question-contents");
      }
      el.closest(".canvas-wrap").slideUp("slow", function(){
        $(this).remove();
        if (sol) {
           exercont.append('<div class="add-solution-2" style="display: block;"><a href="#asdf">Click to add an answer/solution (optional)</a></div>');
           exercont.find(".solution-toggle-show").remove();
        }
      });
    e.stopPropagation();
    e.preventDefault();
  }
  $(".remove-element").live("click", function(e){
    removeElement($(this),e);
  });


  function eeEnter(ee,e) {
    ee.find("img").attr("src","content_files/options-06.png");
    ee.parent().css("background-color","transparent");
    ee.parent().css("border-left-color","#c2c2c2");
    ee.parent().parent().parent().css("background-color","#eee");
    $(".make-copy").css("background-color","transparent");
  }
  function eeLeave(ee,e) {
    ee.find("img").attr("src","content_files/options-05.png");
    ee.parent().css("background-color","#f7f7f7");
    ee.parent().css("border-left-color","#ddd");
    ee.parent().parent().parent().css("background-color","transparent");
    $(".make-copy").css("background-color","#ffffff");
  }
  $(".edit-element").live("mouseenter", function(e){
    eeEnter($(this),e);
  });
  $(".edit-element").live("mouseleave", function(e){
    eeLeave($(this),e);
  });


  function ueEnter(ue,e) {
    ue.find("img").attr("src","content_files/broom-01.png");
  }
  function ueLeave(ue,e) {
    ue.find("img").attr("src","content_files/broom-04.png");
  }
  $(".unelement-element").live("mouseenter", function(e){
    ueEnter($(this),e);
  });
  $(".unelement-element").live("mouseleave", function(e){
    ueLeave($(this),e);
  });


  function addHandles(cw,elementtype) {
    var elementType = elementtype.charAt(0).toUpperCase() + elementtype.substring(1);
    var buddies = '\
      <div style="display: none;" class="canvas-buddy-2">\
        <a class="edit-element" href="#" data-elementtype="' + elementtype + '" title="Edit options for this ' + elementtype + '">\
          <img src="content_files/options-05.png">\
        </a>\
        <a class="remove-element" href="#" title="Remove this ' + elementtype + '">\
          <img src="content_files/remove-element-01.png">\
        </a>\
      </div>\
      <div style="display: none;" class="canvas-buddy">\
        <a class="drag-element" href="#" title="Drag this ' + elementtype + ' to another location">\
          <img src="content_files/drag-element-19.png">\
        </a>\
      </div>\
    ';
    cw.children().children().prepend(buddies);
  }

  $("#cnx_module_header h1").live("mouseenter", function(e){
    $(this).addClass("hovered");
  });
  $("#cnx_module_header h1").live("mouseleave", function(e){
    $(this).removeClass("hovered");
  });

//$(".edit-toc-mode #cnx_course_navigation li:not('.droppable-picker')").live("mouseenter", function(e){
  $("#cnx_course_navigation li:not('.droppable-picker,.cl2-rename,.cl2-edit')").live("mouseenter", function(e){
    $(this).parent().closest(".hovered").removeClass("hovered");
//    $(".go-edit").remove();
    $(this).addClass("hovered");
    $(this).attr("title","Drag to a different part of the book.");
    $(this).find("h4").attr("title","Click to open or close this chapter / section");
//    $(this).find("a").attr("title","Edit this module instead");
//    if ($(this).hasClass("cnx_current")) $(this).find("a").attr("title","Return to editing this module");
//    $(this).prepend('<span class="delete-from-toc" title="Remove this chapter/module from the book.">&nbsp;</span>');
/*
    if ($(this).children("a").length) {
//      $(this).children("a").attr("title","Click the title of the module to edit it.");
//      $(this).append('<a href="#" title="Edit the contents of this module." class="go-edit">go edit</a>');
    }
*/
  });
//$(".edit-toc-mode #cnx_course_navigation li").live("mouseleave", function(e){
  $("#cnx_course_navigation li").live("mouseleave", function(e){
    $(this).removeClass("hovered");
//    $(this).find(".go-edit").remove();
//    $(".delete-from-toc").remove();
  });

  $("#cnx_module_headerTEMPORARILYDISABLE").live("mouseenter", function(e){
    var moduleOptions = '\
      <div style="float: right" class="module-options">\
        <span href="#" onclick="return false" style="position: relative\;" class="module-metadata-link">\
          <a href="#">Edit module metadata</a>\
        </span>\
        <span href="#" onclick="return false" style="margin-left: .5em\; cursor: pointer\;" class="module-roles-link">\
          <a href="#">Edit roles</a>\
        </span>\
      </div>\
    ';
    if (!$(this).find(".module-options").length) {
      $("#cnx_module_header").prepend(moduleOptions);
    }
  });
  $("#cnx_module_headerTEMPORARILYDISABLE").live("mouseleave", function(e){
    $("#cnx_module_header").find(".module-options").remove();
  });

  $(".module-metadata-link").live("click", function(e){
    var metadata = '\
      <div class="module-metadata" style="display: none">\
        <b>Metadata and roles form will go here</b>\
      </div>\
    ';
    $(this).append(metadata);
    $(this).find(".module-metadata").slideDown();
  });
  $(".module-metadata-link").live("mouseleave", function(e){
    $(this).find(".module-metadata").remove();
  });


  $("#chapter-title-wrap").live("mouseenter", function(e){
    $("#chapter-title").addClass("hovered");
  });
  $("#chapter-title-wrap").live("mouseleave", function(e){
    $("#chapter-title").removeClass("hovered");
  });

  $("#toc-top").live("click", function(e){
    var toc = '\
      <div id="toc">\
        <div class="top-links">\
          <a href="#" onclick="return false">Edit the collection</a>\
        </div>\
        <ol>\
          <li title="Go to this chapter">\
            <span>Equations and Education</span>\
            <ul>\
              <li>Examples of equations in the classroom (Part I)</li>\
              <li>Examples of equations in the classroom (Part II)</li>\
              <li>Some difficulties of teaching equations</li>\
            </ul>\
          </li>\
          <li title="Go to this chapter">\
            <span style="font-weight: bold">Exponents and Education</span>\
            <ul>\
              <li>\
                Laws of Exponents\
              </li>\
              <li>\
                Theoretical Perspectives on Education\
              </li>\
              <li>\
                Theoretical Perspectives on Education (Part II)\
              </li>\
            </ul>\
          </li>\
          <li title="Go to this chapter">\
            <span>Square Roots and Education</span>\
            <ul>\
              <li>\
                Square roots: an international perspective\
              </li>\
              <li>\
                Square roots: what are they good for?\
              </li>\
              <li>\
                Square roots: what they are not\
              </li>\
              <li>\
                Summary\
              </li>\
              <li>\
                Practice questions\
              </li>\
            </ul>\
          </li>\
        </ol>\
      </div>\
    ';
    if ($("#toc").length && !$(this).closest("#toc").length) {
      $("#toc").remove();
    } else {
      $(this).append(toc);
    }
    return false;
  });
  $("#toc-top").live("mouseleave", function(e){
    $("#toc").remove();
  });

  $("#edit-toc-link a").live("mouseenter", function(e){
    $("#toc-title").addClass("to-edit");
  });
  $("#edit-toc-link a").live("mouseleave", function(e){
    $("#toc-title").removeClass("to-edit");
  });


/*
  $("#to-dashboard-icon").live("mouseenter", function(e){
    if (!$(".edit-toc-mode").length) {
      $("#db-home-link").show();
*/
/*
      $("#db-home-link").show();
alert($("#db-home-link").outerWidth());
//    var dbw = $("#to-dashboard-icon").outerWidth() + $("#db-home-link").outerWidth();
      $("#dashboard-header").animate({
	width: $("#to-dashboard-icon").outerWidth() + $("#db-home-link").outerWidth(),
      }, 500, function(e){
      });
*/
/*
    }
  });
  $("#to-dashboard-icon").live("mouseleave", function(e){
    if (!$(".edit-toc-mode").length) {
      $("#db-home-link").hide();
*/
/*
      var dbw = $("#to-dashboard-icon").outerWidth();
      $("#dashboard-header").animate({
	width: dbw,
      }, 500, function(e){
        $("#db-home-link").hide();
        $("#db-home-link").css("width","auto");
alert($("#db-home-link").outerWidth());
      });
*/
/*
    }
  });
*/

/*
  $("#to-dashboard").live("click", function(e){
    if (!$(".edit-toc-mode").length) {
      if ($("#dashboard-contents").is(":hidden")) {
	$("#overlay-back").fadeIn(1000);
        $(this).removeClass("to-open");
        $(this).removeAttr("title");
	$("#db-sort-and-contents").width($("#toc").outerWidth() + 32);
	$("#dashboard-contents").show();
        $("#to-dashboard").animate({
	  width: $("#toc").outerWidth() + 32,
        }, 500, function(){
	  $("body").addClass("db-peek");
	})
      }
    }
  });
*/

  $("#toc-collapse, #toc-title").live("click", function(e){
    var ew = $("#editor").outerWidth();
    var todbw = $("#to-dashboard").outerWidth();
    $("#toc-title-text").hide();
    $("#toc").animate({
      width: 32,
    }, 500, function(e){
      $("#toc-collapse").hide();
      $("#toc-expand").show();
      $("#toc-title-and-contents>*").hide();
      $("body").addClass("toc-collapsed");
    });
    $("#module-bar, #toolbar, #toolbox, #editor").animate({
      width: ew + 243,
      left: todbw + 32,
    }, 500);
  });

  $("#toc-expand, .toc-collapsed #toc, .toc-collapsed #toc-title").live("click", function(e){
    $("#toc").removeAttr("title");
    $("#toc").removeClass("to-open");
    var ew = $("#editor").outerWidth();
    var todbw = $("#to-dashboard").outerWidth();
    $("#toc-title-and-contents>*").show();
    $("#toc").animate({
      width: 275,
    }, 500, function(e){
      $("#toc-expand").hide();
      $("#toc-collapse").show();
      $("#toc-title-text").show();
/*
	  $("#module-bar").width($("#module-bar").outerWidth() - 243);
	  $("#toolbar").width($("#toolbar").outerWidth() - 243);
	  $("#toolbox").width($("#toolbox").outerWidth() - 243);
	  $("#editor").width($("#editor").outerWidth() - 243);
*/
      $("body").removeClass("toc-collapsed");
    });
    $("#module-bar, #toolbar, #toolbox, #editor").animate({
      width: ew - 243,
//      left: 309,
      left: todbw + 276,
    }, 500);
    return false;
  });

  $("#to-dashboard").live("mouseenter", function(e){
    if (!$(".edit-toc-mode").length) {
      $("#to-dashboard").addClass("to-open");
      $("#to-dashboard").attr("title","Open bookshelf");
    }
  });
  $("#to-dashboard").live("mouseleave", function(e){
    if (!$(".edit-toc-mode").length) {
      $("#to-dashboard").removeClass("to-open");
      $("#to-dashboard").removeAttr("title");
    }
  });

  $(".toc-collapsed #toc").live("mouseenter", function(e){
//    if (!$(".edit-toc-mode").length) {
      $("#toc").addClass("to-open");
      $("#toc").attr("title","Open the Table of Contents back up");
//    }
  });
  $(".toc-collapsed #toc").live("mouseleave", function(e){
//    if (!$(".edit-toc-mode").length) {
      $("#toc").removeClass("to-open");
      $("#toc").removeAttr("title");
//    }
  });

/*
  $("#open-picker").live("mouseenter", function(e){
    if (!$(".edit-toc-mode").length) {
console.log("entering open-picker");
      $("#to-dashboard").addClass("to-open-preview").removeClass("to-open");
return false;
    }
  });
  $("#open-picker").live("mouseleave", function(e){
    if (!$(".edit-toc-mode").length) {
console.log("leaving open-picker");
      $("#to-dashboard").removeClass("to-open-preview");
return false;
    }
  });
*/

/*
  $("#dashboard-header").live("click", function(e){
    return false;
  });
  $("#dashboard-header").live("mouseenter", function(e){
    $("#to-dashboard").addClass("to-edit");
    if ($("#dashboard-contents").is(":hidden") && !$("body.animation-started").length) {
      $(this).css("position","absolute");
      $("#db-home-link").show();
      $(this).css({
	"width" : $("#to-dashboard-icon").outerWidth() + $("#db-home-link").outerWidth(),
      }).addClass("hovered");
    }
  });
  $("#dashboard-header").live("mouseleave", function(e){
    $("#to-dashboard").removeClass("to-edit");
    if ($("#dashboard-contents").is(":hidden")) {
      $("#db-home-link").hide().css("width","auto");
      $(this).css({
	"position" : "static",
	"width" : "auto",
      }).removeClass("hovered");
    }
  });
*/

  function getScrollWidth() { // From David Walsh at http://davidwalsh.name/detect-scrollbar-width
     // Create the measurement node
    var scrollDiv = document.createElement("div");
    scrollDiv.className = "scrollbar-measure";
    document.body.appendChild(scrollDiv);

    // Get the scrollbar width
    var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;

    // Delete the DIV 
    document.body.removeChild(scrollDiv);

    return scrollbarWidth;

  }

  $("#to-dashboard.opened, #sort-by-select-2").live("click", function(e){
    return false;
  });

  $("#to-dashboard.opened #dashboard-header").live("click", function(e){
    var ew = $("#editor").outerWidth();
    var el = $("#editor").offset().left;
    $("#to-dashboard").removeClass("opened");
    $("#dashboard-contents").hide();
    $("#dashboard-title").hide();
    $("#to-dashboard").animate({
      width: 32,
    }, 500, function(e){
      $("#todb-collapse").hide();
      $("#todb-expand").show();
    });
    $("#toc").animate({
      left: 32 + 1,
    }, 500);
    $("#module-bar, #toolbar, #toolbox, #editor").animate({
      width: ew + 225 - 1 - 32,
      left: el - 225 + 1 + 32,
    }, 500);
    return false;
  });

  $("#to-dashboard, #open-picker").live("click", function(e){
    if (!$("#to-dashboard").hasClass("opened")) {
      var ew = $("#editor").outerWidth();
      var el = $("#editor").offset().left;
//alert($("#editor").css("left"));
//    $("#toc-title-text").hide();
      $("#to-dashboard").removeClass("to-open");
      $("#to-dashboard").addClass("opened");
      $("#to-dashboard").animate({
        width: 225,
      }, 500, function(e){
        $("#todb-collapse").show();
        $("#todb-expand").hide();
        var ffh = 0;
        if ($.browser.mozilla != true || ($.browser.mozilla == true && parseInt($.browser.version.split(".")[0]) < 2)) {
          $("#firefox-message").show();
          ffh = $("#firefox-message").outerHeight();
        }
 	var dbih = $("#db-instructions").outerHeight();
  var bth = $("#bookshelves").outerHeight();
//      $("#db-sort-and-contents").height($(window).height() - ffh - $("#dashboard-header").outerHeight());
//	$("#db-sort-and-contents").height($(window).height() - ffh - $("#dashboard-header").outerHeight() - dbih);
	$("#db-sort-and-contents").height($(window).height() - ffh - $("#dashboard-header").outerHeight() - bth);
        $("#db-sort-and-contents nav").css("padding-bottom",dbih + 20 + "px"); // dunno why the extra ~20, not gonna bother to investigate
//alert($("#db-sort-and-contents").css("padding-bottom"));
      });
//    $("#dashboard-contents").delay(1000).fadeIn(900, function(e){
      $("#dashboard-title").show();
      $("#dashboard-contents").show()
      $("#toc").animate({
        left: 225 + 1,
      }, 500);
      $(".section-heading").hide();
      $("#module-bar, #toolbar, #toolbox, #editor").animate({
        width: ew - 225 + 1 + 32,
        left: el + 225 - 1 - 32,
      }, 500);
    }
    return false;
  });

/*
  $("#edit-toc-link a, #to-dashboard, #open-picker").live("click", function(e){
    if (!$(".edit-toc-mode").length && $("#dashboard-contents").is(":hidden")) {
    if ($("#editor").is(":visible")) {
$("#to-dashboard").removeClass("to-open to-open-preview");
$("body").removeClass("toc-collapsed");
      var tdw = $("#to-dashboard").outerWidth();
      var tocw = $("#toc").outerWidth();
tocw = 276;
      var el = $("#editor").offset().left;
el = 309;
      var sb = getScrollWidth();
      var time = 900;
      var time0 = 500;
      $("body").addClass("animation-started");
      $("#current").animate({
        backgroundColor: "transparent",
        borderColor: "transparent",
      }, time0);
      $("#current ul").animate({
	opacity: "hide",
        height: "hide",
      }, time0, function(){
	  $("body").css("overflow","hidden");
	  $("#module-bar").width($("#module-bar").outerWidth() + sb);
	  $("#toolbar").width($("#toolbar").outerWidth() + sb);
	  $("#toolbox").width($("#toolbox").outerWidth() + sb);
	  $("#editor").width($("#editor").outerWidth() + sb);
	  $("#db-sort-and-contents").css("width","auto");
          $(this).hide();
	$("#cnx_course_navigation li").animate({
	  paddingTop: ".2em",
	  paddingBottom: ".2em",
	}, time);
	$("#toc-toolbox").slideDown(time, function(e){
	  $(this).css("width","auto");
	  $("#toc-title-and-contents").outerHeight($("#toc-title-and-contents").outerHeight() - $("#toc-toolbox").outerHeight());
	});
	$("#toc-paper").animate({
	  marginTop: "5px",
	  marginBottom: "2em",
	  marginLeft: "25px",
	  marginRight: "25px",
	}, time, "swing", function(e){
	  $("#dashboard-contents").delay(1000).fadeIn(time, function(e){
            $(this).show();
  var ffh = 0;
  if ($.browser.mozilla != true || ($.browser.mozilla == true && parseInt($.browser.version.split(".")[0]) < 2)) {
    $("#firefox-message").show();
    ffh = $("#firefox-message").outerHeight();
  }
  $("#db-sort-and-contents").height($(window).height() - ffh - $("#dashboard-header").outerHeight());
	  });
	});
	$("#toc-top-title").animate({
	  paddingLeft: "32px",
	  paddingRight: 0,
	  paddingTop: 0,
          fontSize: "2em",
	  color: "#F89406",
	  color: "#E16C26",
	}, time);
        $("#toc").animate({
	  width: tocw * 2.5,
	  left: el - tdw,
	  backgroundColor: "#fff",
        }, time, function(e){
          $("body").addClass("edit-toc-mode");
          $("#to-dashboard").removeAttr("title");
          $("body").removeClass("animation-started");
	  $("#toc-close").show();
        });
        $("#to-dashboard").animate({
	  width: tocw - 1,
        }, time);
      });
    }
    }
  });
*/

/*
  $(".edit-toc-mode #cnx_course_navigation li").live("click", function(e){
    $(".cnx_current").removeClass("cnx_current");
    $(this).addClass("cnx_current");
  });
*/

/*
  $("#toc").livequery(function(){
    $(this).hoverIntent({
      over: function(e){
        $(this).addClass("hovered");
        $("#toc-title-and-contents").slideDown("fast", function(e){
          $(this).show();
        });
      }, 
      out: function(e){
        $(this).removeClass("hovered");
        $("#toc-title-and-contents").slideUp("fast", function(e){
          $(this).hide();
        });
      },
      interval: 200,
      timeout: 800,
    });
  });
*/

  $("#bookshelves").livequery(function(){
    $(this).hoverIntent({
      over: function(e){
      /*
        $(this).addClass("activated");
        $("#bookshelves-listing").slideDown("fast", function(e){
          $(this).show();
//          alert($(this).is(":visible"));
        });
      */
      },
      out: function(e){
        $("#bookshelves-listing").slideUp("fast", function(e){
          $(this).hide();
        });
        $(this).removeClass("activated");
      },
      interval: 200,
      timeout: 800,
    });
  });
  
  $(".activated #bookshelves-trigger").live("click", function(e){
    $("#bookshelves-listing").slideUp("fast", function(e){
      $(this).hide();
    });
    $("#bookshelves").removeClass("activated");
  });
/*
  $("#show-toolbox").live("click", function(e){
    hideToc();
  });
  $("#toc-title-text").live("click", function(e){
    var ttac = $("#toc-title-and-contents");
    var st = $("#show-toolbox");
    if (ttac.is(":hidden")) {
      $("#toc").addClass("hovered");
      ttac.slideDown("fast", function(e){
        ttac.show();
        st.show();
      });
    } else {
      hideToc();
    }
  });

  function hideToc() {
      $("#toc").removeClass("hovered");
        $("#show-toolbox").hide();
      $("#toc-title-and-contents").slideUp("fast", function(e){
        $(this).hide();
      });
  }
*/
/*
  $("#toc").live("mouseenter", function(e){
    $(this).addClass("hovered");
    $("#toc-title-and-contents").slideDown("fast", function(e){
      $(this).show();
    });
  });
  $("#toc").live("mouseleave", function(e){
    $(this).removeClass("hovered");
    $("#toc-title-and-contents").slideUp("fast", function(e){
      $(this).hide();
    });
  });
*/

  $("#add-module-bottom-button").live("click", function(e){
    var amd = '\
      <div id="add-module-dialog">\
        <ul>\
          <li>From scratch</li>\
          <li>Import document</li>\
          <li>Use an existing module</li>\
        </ul>\
        <p>\
          This will add the module to this chapter (<a href="#asdf" onclick="return false">choose different location</a>).\
        </p>\
      </div>\
    ';
    if ($("#add-module-dialog").length && !$(this).closest("#add-module-dialog").length) {
      $("#add-module-dialog").remove();
    } else {
      $(this).append(amd);
    }
    return false;
  });
  $("#add-module-bottom-button").live("mouseleave", function(e){
    $("#add-module-dialog").remove();
  });

  function buildSolution(solhint,e,label) {
    if (label) {
      label = label;
    } else {
      label = "Solution";
    }
    var labell = label.toLowerCase();
    if (label == 'Meaning') {
      var emptymeaning = '\
        <div class="canvas-wrap" contenteditable="false">\
          <div class="meaning canvas canvas-unhovered">\
            <div class="canvas-inner">\
              <div class="meaning-contents">\
                <div class="para content-editable" contentEditable="true">&nbsp\;</div>\
              </div>\
            </div>\
          </div>\
        </div>\
      ';
      meaningparent = solhint.parent();
      solhint.replaceWith(emptymeaning);
      addHandles(meaningparent.children(".canvas-wrap"),'solution');
      meaningparent.find(".meaning-contents .para").focus();
    } else {
      var emptysol = '\
        <div class="canvas-wrap" contenteditable="false">\
          <div class="solution canvas canvas-unhovered">\
            <div class="canvas-inner">\
              <h2 class="solution-header">\
                <span class="cnx_label">' + label + '</span>\
              </h2>\
              <div class="solution-contents">\
               <div class="para content-editable" contentEditable="true">&nbsp\;</div>\
              </div>\
              <div class="' + labell + '-toggle-hide">\
                <span class="' + labell + '-toggle">[ Hide ' + label + ' ]</span>\
              </div>\
            </div>\
          </div>\
        </div>\
        <div class="' + labell + '-toggle-show" style="display: none;">\
          <span class="' + labell + '-toggle">[ Show ' + label + ' ]</span>\
        </div>\
      ';
      solparent = solhint.parent();
      solhint.replaceWith(emptysol);
      addHandles(solparent.children(".canvas-wrap"),'solution');
      solparent.find(".solution-contents .para").focus();
    }
    e.preventDefault();
    e.stopPropagation();
  }
  $(".add-solution-2").live("click", function(e){
    buildSolution($(this),e);
  });
  $(".add-answer").live("click", function(e){
    buildSolution($(this),e,"Answer");
  });
  $(".add-meaning").live("click", function(e){
    buildMeaning($(this),e);
    return false;
  });
  function buildMeaning(am,e) {
    meanings = am.closest(".meanings");
    if (meanings.prop("tagName").toLowerCase() == 'div') { // only one meaning
      var newmeanings = changeElementType2(meanings,"ol");
      meanings.after(newmeanings);
      meanings.remove();
      newmeanings.find(".meaning").each(function(e){
        var newmeaning = changeElementType2($(this),"li");
        $(this).after(newmeaning);
        $(this).remove();
        newmeaning.prepend('<span class="meaning-remove" contenteditable="false"><img src="content_files/remove-element-08.png"/></span>');
      });
    } else { // already 2+ meanings
      newmeanings = meanings;
    }
    newmeanings.find(".add-meaning").before('\
      <li class="meaning" contenteditable="false">\
        <div class="para content-editable" contenteditable="true">\
          <span class="meaning-remove" contenteditable="false"><img src="content_files/remove-element-08.png"/></span>\
          <span class="hint-text definition-hint-text">Type the meaning here</span>\
        </div>\
      </li>');
    return false;
  }
  $(".meaning-remove").live("click", function(e){
    removeMeaning($(this),e);
  });
  function removeMeaning(rm,e){
    meaning = rm.closest(".meaning");
    if (meaning.siblings(".meaning").length <= 2) { // only one meaning left (convert back to div) (2 because $("add-meaning").hasClass("meaning") is true)
      meanings = meaning.closest(".meanings");
      var newmeanings = changeElementType2(meanings,"div");
      meanings.after(newmeanings)
      meanings.remove();
      newmeanings.find(".meaning").each(function(e){
        $(this).find(".meaning-remove").remove();
        var newmeaning = changeElementType2($(this),"div");
        $(this).replaceWith(newmeaning);
      });
      meaning = newmeanings.find(".meaning:not('.add-meaning')").last();
    }
    meaning.remove();
  }
  $("li.meaning:not('.add-meaning')").live("mouseenter", function(e){
    $(this).addClass("hovered");
  });
  $("li.meaning:not('.add-meaning')").live("mouseleave", function(e){
    $(this).removeClass("hovered");
  });

  function changeElementType2(me,newMe) { // Based on solution by kasdega at http://stackoverflow.com/questions/8584098/how-to-change-an-element-type-using-jquery
    var newMe = $("<" + newMe + ">");
    for(var i=0; i<me[0].attributes.length; i++) {
        var myAttr = me[0].attributes[i].nodeName;
        var myAttrVal = me[0].attributes[i].nodeValue;
        newMe.attr(myAttr, myAttrVal);
    }
    newMe.html(me.html());
    return newMe;
  }
  
  function removeHint(ce,e){
    ce.find(".hint-text").replaceWith("&nbsp;");
  }
  $(".example-contents>.content-editable").live("click focus", function(e){
    removeHint($(this),e);
  });
  $(".problem-contents>.content-editable").live("click focus", function(e){
    removeHint($(this),e);
  });
  $(".meaning:not('.add-meaning')").live("click focus", function(e){
    removeHint($(this),e);
  });
  $(".note-contents").live("click focus", function(e){
    removeHint($(this),e);
  });
  $(".quote-contents").live("click focus", function(e){
    removeHint($(this),e);
  });


  function addExamHintIfEmpty(ce,e) {
    if (ce.parent(".example-contents").length && ce.text().trim() == '') {
      var ht = '<span class="hint-text example-hint-text">Type the text of your example here. \
        <span class="in-canvas-helper">\
          <span class="in-canvas-helper-trigger">(?)</span>\
          <span class="in-canvas-helper-text">\
          The example template allows you to illustrate a point to the reader (set apart from the basic text).\
          <span class="in-canvas-helper-types">\
            Supported types of examples include: <i>Example, Illustration, Demonstration, Case in Point, Case Study</i>.\
          </span>\
          </span>\
        </span>\
      </span>';
      ce.html(ht);
      ce.blur();
    }
  }
  $(".example-contents>.content-editable").live("mouseleave", function(e){
    addExamHintIfEmpty($(this),e);
  });

  function addExerHintIfEmpty(ce,e) {
    if (ce.parent(".problem-contents").length && ce.text().trim() == '') {
      var ht = '<span class="hint-text exercise-hint-text">Type the text of your exercise here. \
        <span class="in-canvas-helper">\
          <span class="in-canvas-helper-trigger">(?)</span>\
          <span class="in-canvas-helper-text">\
          The exercise template allows you to ask a question to assess the reader\'s understanding. Exercise templates automatically handle numbering. \
          <span class="in-canvas-helper-types">\
            Supported types of exercises include: <i>Exercise, Homework, Question, Problem, Task</i>.\
          </span>\
          </span>\
        </span>\
      </span>';
      ce.html(ht);
      ce.blur();
    }
  }
  $(".problem-contents>.content-editable").live("mouseleave", function(e){
    addExerHintIfEmpty($(this),e);
  });

  function addNoteHintIfEmpty(ce,e) {
    if (ce.parent(".note-contents").length && ce.text().trim() == '') {
      var ht = '<span class="hint-text note-hint-text">Type the text of your note here. \
        <span class="in-canvas-helper">\
          <span class="in-canvas-helper-trigger">(?)</span>\
          <span class="in-canvas-helper-text">\
          The note template allows you to make a note to the reader (set apart from the basic text). \
          <span class="in-canvas-helper-types">\
            Supported types of notes include: <i>Note, Warning, Tip, Aside, Important</i>.\
          </span>\
          </span>\
        </span>\
      </span>';
      ce.html(ht);
      ce.blur();
    }
  }
  $(".note-contents>.content-editable").live("mouseleave", function(e){
    addNoteHintIfEmpty($(this),e);
  });

  function addQuoteHintIfEmpty(ce,e) {
    if (ce.parent(".quote-contents").length && ce.text().trim() == '') {
      var ht = '<span class="hint-text quote-hint-text">Type the text of your quotation here. \
        <span class="in-canvas-helper">\
          <span class="in-canvas-helper-trigger">(?)</span>\
          <span class="in-canvas-helper-text">\
          The quotation template allows you to set apart an extended quotation from the rest of the text. \
          </span>\
        </span>\
      </span>';
      ce.html(ht);
      ce.blur();
    }
  }
  $(".quote-contents>.content-editable").live("mouseleave", function(e){
    addQuoteHintIfEmpty($(this),e);
  });

  function addDefHintIfEmpty(ce,e) {
    if (ce.length && ce.text().trim() == '') {
      var ht = '<span class="hint-text definition-hint-text">Type the meaning here</span>';
      ce.find(".para").html(ht);
      ce.add(ce.find("*")).blur();
    }
  }
  $(".meaning:not('.add-meaning')").live("mouseleave", function(e){
    addDefHintIfEmpty($(this),e);
  });


  function exerciseOptions(ex) {
    $("#exercise-options").data('exercise',ex).dialog("open");
    return false;
  }
  function exampleOptions(ex) {
    $("#example-options").data('example',ex).dialog("open");
    return false;
  }
  function equationOptions(eq) {
    $("#equation-options").data('equation',eq).dialog("open");
    return false;
  }
  function solutionOptions(so) {
    $("#solution-options").data('solution',so).dialog("open");
    return false;
  }
  function tableOptions(ta) {
    $("#table-options").data('table',ta).dialog("open");
    return false;
  }
  $(".edit-element-menu, .cl2-menu").livequery(function(){
    $(this).hoverIntent({
      over: function(e){
//        $("#dashboard-contents li, #cnx_course_navigation li").die("mouseleave");
      }, 
      out: function(e){
//        $(".change-location, .change-location-2, .change-location-3").css("visibility","hidden");
/*
        $("#dashboard-contents li, #cnx_course_navigation li").live("mouseleave", function(e){
	  moduleLeave($(this),e);
        });
*/
        $(this).remove();
      },
      timeout: 800,
    });
  });
  $(".edit-element").live("click", function(e){
    var elementtype = $(this).data("elementtype");
    if ($(this).find(".edit-element-menu").length) {
      $(this).find(".edit-element-menu").remove();
    } else {
      var opts = '<div class="edit-element-menu">\
        <ul>\
          <li class="edit-element-options" title="Set more advanced options on this ' + elementtype + '">All options for this ' + elementtype+ ' ...</li>\
          <li class="edit-element-unelement" title="Remove the \'' + elementtype + '\' formatting, reverting the content to basic paragraph(s), while retaining things like bold, italics, and links">Sweep away formatting</li>\
        </ul>\
      </div>';
      $(this).append(opts);
      if (elementtype == 'solution') {
        $(this).find(".edit-element-unelement").remove();
        $(this).find(".edit-element-convert").remove();
      }
      if (elementtype == 'figure') {
        $(this).find(".edit-element-convert").remove();
      }
    }
    return false;
  });
  $(".glossary-options a").live("click", function(e){
    $("#glossary-confirm-move").data('definition',$(this).closest(".canvas-wrap")).dialog("open");
    return false;
  });
  $(".image-options-options").live("click", function(e){
    $("#ioo").data('mi',$(this).closest(".media-inner")).dialog("open");
    return false;
  });
  $(".edit-element-options").live("click", function(e){
    var exercise = $(this).closest(".canvas.exercise");
    var example = $(this).closest(".canvas.example");
    var equation = $(this).closest(".canvas.equation");
    var solution = $(this).closest(".canvas.solution");
    var table = $(this).closest(".canvas.table");
    if (exercise.length) {
      exerciseOptions(exercise);
      return false;
      e.stopPropagation();
    } else if (example.length) {
      exampleOptions(example);
      return false;
      e.stopPropagation();
    } else if (equation.length) {
      equationOptions(equation);
      return false;
      e.stopPropagation();
    } else if (solution.length) {
      solutionOptions(solution);
      return false;
      e.stopPropagation();
    } else if (table.length) {
      tableOptions(table);
      return false;
      e.stopPropagation();
    }
    $(".edit-element-menu").remove();
    return false;
  });

  function requireTerm(def) {
    $("#term-is-required").data('definition',def).dialog("open");
  }


  $(".edit-element-unelement").live("click", function(e){
    var ee = $(this).closest(".edit-element");
    $(this).closest(".edit-element-menu").remove();
    eeLeave(ee,e);
    var elementtype = ee.data("elementtype");
    var origElem = ee.closest(".canvas-wrap");
    var origClone = origElem.mouseleave().clone();
    if (elementtype == 'table') {
      var ttl = origElem.find(".title");
      var contents = '';
      origElem.find("thead").each(function(e){
        contents += '<p contenteditable="true" class="para content-editable">';
        origElem.find("tr th").each(function(e){
          contents += $(this).html() + '<br/>';
        });
        contents += '</p>';
      });
      origElem.find("tbody").each(function(e){
        contents += '<p contenteditable="true" class="para content-editable">';
        origElem.find("tr td").each(function(e){
          contents += $(this).html() + '<br/>';
        });
        contents += '</p>';
      });
      origElem.find("tfoot").each(function(e){
        contents += '<p contenteditable="true" class="para content-editable">';
        origElem.find("tr th").each(function(e){
          contents += $(this).html() + '<br/>';
        });
        contents += '</p>';
      });
      var caption = origElem.find(".table-caption").html();
      if (caption.trim() == '' || caption.trim().indexOf("Add a table caption (optional)") > -1) {
        caption = '';
      } else {
        caption = '<p contenteditable="true" class="para content-editable">' + caption + '</p>';
      }
    } else if (elementtype == 'figure') {
      var ttl = '';
      if (origElem.find(".media-title-text").length > 0) ttl = origElem.find(".media-title-text").html();
      if (ttl.trim() == '' || ttl.trim().indexOf("Add a title for this image (optional)") > -1) {
        ttl = '';
      } else {
        ttl = '<p contenteditable="true" class="para content-editable"><strong class="emphasis">' + ttl + '</strong></p>';
      }
      var contents = origElem.find(".media-inner-plus-alt");
      var caption = '';
      if (origElem.find(".media-caption-text").length > 0) caption = origElem.find(".media-caption-text").html();
      if (caption.trim() == '' || caption.trim().indexOf("Add a caption for this image (optional)") > -1) {
        caption = '';
      } else {
        caption = '<p contenteditable="true" class="para content-editable">' + caption + '</p>';
      }
    } else if (elementtype == 'exercise') {
      var ttl = ee.parent().parent().children("[class*='-header']").find(".title");
      var contents = ee.parent().parent().children("[class*='-contents']");
      contents.find(".hint-text, .add-solution-2, .add-answer, .solution-toggle-show, .solution-toggle-hide, .solution-header").remove();
      contents.find(".solution").show();
      contents.find(".solution-contents").unwrap().unwrap().unwrap();
      contents = contents.html();
      var caption = '';
    } else if (elementtype == 'definition') {
      var ttl = ee.parent().parent().children("[class*='-header']").find(".term");
      var contents = ee.parent().parent().children("[class*='-contents']");
      contents.find(".hint-text, .add-meaning, .meaning-header").remove();
      contents = contents.html();
      var caption = '';
    } else {
      var title1 = ee.parent().parent().children("[class*='-header']");
      var title2 = ee.parent().parent().children().children("[class*='-header']"); // to account for things like .example-decoration
      var ttl = title1.add(title2).find(".title");
      var contents1 = ee.parent().parent().children("[class*='-contents']");
      var contents2 = ee.parent().parent().children().children("[class*='-contents']"); // to account for things like .example-decoration
      var contents = contents1.add(contents2);
      contents.find(".hint-text").remove();
      contents = contents.html();
      contents = '<p contenteditable="true" class="para content-editable">' + contents + '</p>';
      var caption = '';
    }
    $(".unelemented").contents().unwrap(); // any left around previously
    var unelemented = '<div class="unelemented" style="display: none"></div>';
    if (ttl != '') {
      ttl.find(".hint-text").remove();
      ttl = ttl.contents().unwrap();
    }
    $("body").append(unelemented);
    $(".unelemented").append(ttl,contents,caption);
    origElem.slideUp("slow", function(){
      $(this).replaceWith($(".unelemented").hide())
      $(".unelemented").slideDown("slow", function(e){
        $(".undo-unelemented-2").remove();
        var undoUnelemented = '<div class="undo-unelemented-2"><span class="undo-unelemented-2-close" title="Dismiss this message"><img src="content_files/remove-element-08.png"/></span>Formatting of ' + elementtype + ' removed. <a href="#">Undo</a></div>';
        $("#editor").append(undoUnelemented);
        centerUE2($(".undo-unelemented-2"));
        $(".undo-unelemented-2").data("original",origClone);
      });
    });
    return false;
  });
  $(".undo-unelemented-3-close").live("click", function(e){
    $(".unelemented").contents().unwrap();
    $(this).parent().remove();
  });
  $(".undo-unelemented-3 a").live("click", function(e){
    var original = $(this).parent().data("original");
    $(".unelemented").fadeOut("fast", function(){
      $(this).replaceWith(original.hide())
      original.fadeIn("fast");
    });
    $(this).parent().remove();
    return false;
  });

  $(".edit-element-convert").livequery(function(){
    $(this).hoverIntent({
      over: function(e){
        var elementtype = $(this).closest(".edit-element").data("elementtype");
        $(this).append('\
          <ul class="edit-element-convert-submenu" title="Change the ' + elementtype + ' to another type of element. We\'ll try our best not to lose too much in translation.">\
            <li class="ct-example">To an <strong>example</strong></li>\
            <li class="ct-exercise">To an <strong>exercise</strong></li>\
            <li class="ct-note">To a <strong>note</strong></li>\
            <li class="ct-definition">To a <strong>definition</strong></li>\
          </ul>\
        ');
        $(this).find(".ct-" + elementtype).remove();
      }, 
      out: function(e){
        $(".edit-element-convert-submenu").remove();
      },
      timeout: 700,
    });
  });

  $(".edit-element-convert").live("click", function(e){
    return false;
  });

  function centerUE(ue){
    var ew = $("#editor").width();
    var uew = $(ue).width();
    ue.css("left", (ew - uew) / 2 + "px");
  }
  $(".undo-unelemented-close").live("click", function(e){
    $(".unelemented").contents().unwrap();
    $(this).parent().remove();
  });
  $(".undo-unelemented a").live("click", function(e){
    $(".unelemented").replaceWith($(this).parent().data("original"));
    $(this).parent().remove();
    return false;
  });
  function centerUE2(ue){
    var ew = $("#editor").width();
    var uew = $(ue).width();
    ue.css("left", (ew - uew) / 2 + "px");
  }

  $(".undo-unelemented-2-close").live("click", function(e){
    $(".unelemented").contents().unwrap();
    $(this).parent().remove();
  });
  $(".undo-unelemented-2 a").live("click", function(e){
    var original = $(this).parent().data("original");
    $(".unelemented").fadeOut("fast", function(){
      $(this).replaceWith(original.hide())
      original.fadeIn("fast");
    });
    $(this).parent().remove();
    return false;
  });


  $(".media-table-add div").live("click", function(e){
    $("#image-options").data('div',$(this)).data('e',e).dialog("open");
    return false;
  });

  $(".media-table-add .add-video").live("click", function(e){
    $("#video-options").data('div',$(this)).data('e',e).dialog("open");
    return false;
  });

  $("#upload-image-link").live("click", function(e){
    $("#upload-image").click();
    $("#upload-url").hide();
    e.preventDefault();
  });

  $("#upload-video-link").live("click", function(e){
    $("#upload-video").click();
//    $("#upload-url").hide();
    e.preventDefault();
  });

  $("#upload-image").live("change", function(e){
    $("#drag-image").css("background-image","url(content_files/cigarette-factory-200.jpg)");
    $(".image-forward").removeClass("disabled");
    $("#drag-image").removeClass("warning3").addClass("invisible");
    $("#drag-image").append('<div id="image-try-over">Change image</div>')
  });

  $("#image-try-over").live("click", function(e){
    $(this).remove();
    $("#drag-image").removeClass("invisible").css("background-image","none");
    $(".image-forward").addClass("disabled");
  });

  $("#upload-video").live("change", function(e){
    $("#video-options-step-1").hide();
    $("#video-options-step-2").show();
    $(".video-back").show();
    $(".video-forward").show().text("Insert Video");
    $("#video-dialog-caption input").val('');
  });

  $("#video-try-over").live("click", function(e){
    $("#video-options-step-2").hide();
    $("#video-options-step-1").show();
    $(".video-back").hide();
    $(".video-forward").text("Next");
  });

  $("#video-url-button").live("click", function(e){
    $("#video-options-step-1").hide();
    $("#video-options-step-2").show();
    $(".video-back").show();
    $(".video-forward").text("Insert Video").removeClass("hidden");
  });

  $("#upload-url-link").live("click", function(e){
    $("#upload-url").show();
    e.preventDefault();
  });

  $("#upload-url input[type='submit']").live("click", function(e){
    img = $(this).siblings().val();
    $("#drag-image").css("background-image","url(" + img + ")");
    $("#drag-image").removeClass("warning3").addClass("invisible");
    $(".image-forward").removeClass("disabled");
    $("#drag-image").append('<div id="image-try-over">Change image</div>')
    e.preventDefault();
  });


  $("#reuse-footnote-edit").live("click", function(e){
    var rft = $("#reuse-footnote-text");
    if ($(this).is(":checked") == true) {
      rft.attr("contentEditable","true");
      rft.removeClass("disabled");
    } else {
      rft.attr("contentEditable","false");
      rft.addClass("disabled");
    }
  });

  $("#reuse-author").live("keyup", function(e){
    $("#rft-text-1").show();
    $("#rft-author").show().text($(this).val().trim());
    $("#rft-text-2").show();
  });

  $("#reuse-url").live("keyup", function(e){
    $("#rft-url").show().find("a").attr("href",$(this).val().trim());
    $("#rft-text-3").show();
  });

  $("#reuse-license").live("change", function(e){
    if (this.selectedIndex != 0 && this.selectedIndex != this.length-1) {
      $("#rft-text-4").show();
      $("#rft-license").show().text($(this).val());
      $("#rft-text-5").show();
    } else {
      $("#rft-text-4").hide();
      $("#rft-license").hide();
      $("#rft-text-5").hide();
    }
  });



  $("#whats-mathtype-dialog").live("click", function(e){
    var helptext = $("#whats-mathtype-dialog-text");
    if (helptext.css("display") == 'none') {
       helptext.slideDown("fast", function(e){
         helptext.show();
       });
    } else {
       helptext.slideUp("fast", function(e){
         helptext.hide();
       });
    }
    e.preventDefault();
  });

  function mathHelpHideAllFirst(h,e) {
    if ( !$(".math-help-text").not(":hidden").length ) {
          mathHelpOpen(h,e);
    } else {
      $(".math-help-text").not(":hidden").each(function(e){
        $(this).animate({
          left: -250,
          height: 0,
        }, "fast", function(e){
          var hwrap = $(".math-help-text-wrap");
          $(this).css("height","auto");
          $(this).hide();
          if (h.attr("id") != this.id) {
            mathHelpOpen(h,e);
          }
        });
      });
    }
    e.preventDefault();
  }

  function mathHelpOpen(h,e) {
    var hwrap = $(".math-help-text-wrap");
    h.show();
    var hh = h.outerHeight();
    hwrap.css("height",hh + 17 + "px"); // 17 = padding + border + shadow 
    h.animate({
      left: 0,
      height: hh,
    }, "fast", function(e){
    });
  }

  $(".math-help-text-close").live("click", function(e){
    mathHelpHideAllFirst($(this).parent(),e);
  });
  $("#math-type-help, #math-type-help-2").live("click", function(e){
    mathHelpHideAllFirst($("#math-type"),e);
  });
  $("#math-editor-help").live("click", function(e){
    mathHelpHideAllFirst($("#math-editor-help-text"),e);
  });



  function cthListHelpEnter(ht,e) {
    if (!ht.is(":hidden")) {
    } else {
      var hwrap = ht.parent();
      ht.show();
      var hh = ht.outerHeight();
      hwrap.css("height",hh + 17 + "px"); // 17 = padding + border + shadow 
       ht.animate({
        left: 0,
        height: hh,
      }, "fast", function(e){
      });
    }
    e.preventDefault();
  }
  function cthListHelpToggle(ht,e) {
    if (!ht.is(":hidden")) {
      ht.animate({
        left: -250,
        height: 0,
      }, "fast", function(e){
        ht.css("height","auto");
        ht.hide();
      });
    } else {
      var hwrap = ht.parent();
      ht.show();
      var hh = ht.outerHeight();
      hwrap.css("height",hh + 17 + "px"); // 17 = padding + border + shadow 
       ht.animate({
        left: 0,
        height: hh,
      }, "fast", function(e){
      });
    }
    e.preventDefault();
  }
  $(".cth-list-help-text-close, .ctt-list-help-text-close").live("click", function(e){
    cthListHelpToggle($(this).parent(),e);
  });
  $(".cth-list-help a, .ctt-list-help a").live("click", function(e){
    cthListHelpToggle($(this).closest(".cth-list, .ctt-list").find(".cth-list-help-text, .ctt-list-help-text"),e);
  });


  function semanticHelpClose(e) {
    var sha = $("#semantic-help-answer");
    if (!sha.is(":hidden")) {
      sha.animate({
        left: -600,
        height: 0,
      }, "fast", function(e){
        sha.css("height","auto");
        sha.hide();
        sha.parent().css("height","0");
      });
    }
  }
  $("#semantic-help-question").live("click", function(e){
    $("#sidebar-what-are-these-dialog").dialog("open");
    return false;
  }); 
  $("#semantic-help-answer").live("click", function(e){
    return false;
  });


$(function() {

  $(".table th, .table td").live("contextmenu", function(e){
    e.preventDefault();
    $(this).addClass("current-cell");
    $("#table-context-menu").show().css({"top": e.pageY + "px", "left": e.pageX + "px"});
    $(this).append('<div id="TableNew"></div>');
  });

//  $("#sidebar .pedagog-blocks .node").draggable({
//  $("#toolbox .pedagog-blocks .node").draggable({
  $("#toolbox .pedagog-blocks .node, #sidebar .pedagog-blocks .node").draggable({
    appendTo: "#artboard",
    containment: "#artboard",
    scroll: true,
    drag: function(){
      $(".droppable-all").not(".droppable-hover").css("height","1px");
    },
    helper: function(){
      var exercisehelper = '\
        <div class="dragged">\
          <div class="exercise">\
            <h2 class="exercise-header">\
              <span class="cnx_label">' + $(this).clone().children().remove().end().text() + ':</span>\
            </h2>\
            <div class="exercise-contents">\
              <div class="problem">\
                <div class="problem-contents">\
                  <div class="para">\
                    <i>Drag me to the desired location on the canvas.</i>\
                  </div>\
                </div>\
              </div>\
            </div>\
          </div>\
        </div>\
        ';
      return exercisehelper;
    },
    mouse: "move",
    revert: "invalid",
    opacity: "0.8",
    start: function(){
      $(".droppable-all").addClass("droppable-active");
      $("body").addClass("dragging");
      $(".pedagog-blocks .node").addClass("dragging");
      $("#canvas").addClass("dragging");
      $("#toolbar").addClass("no-drop");
      $(".canvas-wrap").unbind("mouseenter mouseleave");
    },
    stop: function(){
      $(".droppable-all").removeClass("droppable-active");
      $(".droppable-all").css("background-image","none"); // Unsure why this is needed.
      $("body").removeClass("dragging");
      $(".pedagog-blocks .node").removeClass("dragging");
      $("#canvas").removeClass("dragging");
      $("#toolbar").removeClass("no-drop");
    },
  });

/*
  $("#dashboard-contents li[data-media-type='application/vnd.org.cnx.module'] > .editor-node-body").each(function(e){
    $(this).prepend('<span class="change-location" title="Close the current content and edit this module instead"><a href="#">edit<img src="content_files/pencil-03.png" width="12"/></a></span>')
  });
  $("#dashboard-contents li[data-media-type='application/vnd.org.cnx.collection'] > .editor-node-body").each(function(e){
    $(this).prepend('<span class="change-location" title="Close the current content and edit this book instead"><a href="#">edit<img src="content_files/pencil-03.png" width="12"/></a></span>')
  });
*/
/*
  $("#dashboard-contents li[data-media-type='application/vnd.org.cnx.module'] > .editor-node-body > .edit-action, #cnx_course_navigation li:not(.cnx_current) a").each(function(e){
    $(this).append('<span class="change-location-2" title="Edit this module"><a href="#"><img src="content_files/pencil-03.png" width="12"/></a></span>')
    $(this).append('<span class="change-location-3" title="Delete this module"><a href="#"><img src="content_files/remove-element-08.png"/></a></span>')
  });
  $("#cnx_course_navigation #current a .change-location-2, #cnx_course_navigation #current a .change-location-3").remove();
  $("#dashboard-contents li[data-media-type='application/vnd.org.cnx.collection'] > .editor-node-body > .edit-action").each(function(e){
    $(this).append('<span class="change-location-2" title="Edit this book"><a href="#"><img src="content_files/pencil-03.png" width="12"/></a></span>')
    $(this).append('<span class="change-location-3" title="Delete this book"><a href="#"><img src="content_files/remove-element-08.png"/></a></span>')
  });
  $("#dashboard-contents li[data-media-type='application/vnd.org.cnx.folder'] > .editor-node-body > .edit-action").each(function(e){
    $(this).append('<span class="change-location-2" title="Edit this folder"><a href="#"><img src="content_files/pencil-03.png" width="12"/></a></span>')
    $(this).append('<span class="change-location-3" title="Delete this folder"><a href="#"><img src="content_files/remove-element-08.png"/></a></span>')
  });
*/
  $("#dashboard-contents li[data-media-type='application/vnd.org.cnx.module'] > .editor-node-body").each(function(e){
    $(this).prepend('<span class="change-location-2" title="Edit/rename this module" data-cltype="module"><a href="#"><img src="content_files/pencil-03.png" width="12"/></a></span>')
    $(this).prepend('<span class="change-location-3" title="Delete this module"><a href="#"><img src="content_files/remove-element-08.png"/></a></span>')
  });
  $("#cnx_course_navigation li:not(.cnx_current) a").each(function(e){
    $(this).before('<span class="change-location-3" title="Delete this module"><a href="#"><img src="content_files/remove-element-08.png"/></a></span>')
    $(this).before('<span class="change-location-2" title="Edit/rename this module" data-cltype="module"><a href="#"><img src="content_files/pencil-03.png" width="12"/></a></span>')
  });
  $("#cnx_course_navigation .cnx_chapter_header").each(function(e){
    $(this).before('<span class="change-location-3" title="Delete this division"><a href="#"><img src="content_files/remove-element-08.png"/></a></span>')
    $(this).before('<span class="change-location-2" title="Rename this division" data-cltype="division"><a href="#"><img src="content_files/pencil-03.png" width="12"/></a></span>')
  });
  $("#cnx_course_navigation #current .change-location-2, #cnx_course_navigation #current .change-location-3").remove();
  $("#dashboard-contents li[data-media-type='application/vnd.org.cnx.collection'] > .editor-node-body").each(function(e){
    $(this).prepend('<span class="change-location-2" title="Edit/rename this book" data-cltype="book"><a href="#"><img src="content_files/pencil-03.png" width="12"/></a></span>')
    $(this).prepend('<span class="change-location-3" title="Delete this book"><a href="#"><img src="content_files/remove-element-08.png"/></a></span>')
  });
  $("#dashboard-contents li[data-media-type='application/vnd.org.cnx.folder'] > .editor-node-body").each(function(e){
    $(this).prepend('<span class="change-location-2" title="Rename this folder" data-cltype="folder"><a href="#"><img src="content_files/pencil-03.png" width="12"/></a></span>')
    $(this).prepend('<span class="change-location-3" title="Delete this folder"><a href="#"><img src="content_files/remove-element-08.png"/></a></span>')
  });
  $("#dashboard-contents li, #cnx_course_navigation li").live("mouseenter", function(e){
/*
    $(".change-location").css("visibility","hidden");
    $(".change-location-2").css("visibility","hidden");
    $(".change-location-3").css("visibility","hidden");
*/
    var thiscl2 = $(this).find(".change-location-2").first();
    $(".cl2-menu").each(function(){
      if (!$(this) == thiscl2.find(".cl2-menu")) $(this).remove();
    });
    $(this).find(".change-location").first().css("visibility","visible");
    $(this).find(".change-location-2").first().css("visibility","visible");
    $(this).find(".change-location-3").first().css("visibility","visible");
    e.stopPropagation();
  });
  $("#dashboard-contents li, #cnx_course_navigation li").live("mouseleave", function(e){
    if (!$(".cl2-menu").length) {
      moduleLeave($(this),e);
    }
  });
  function moduleLeave (m,e) {
    $(".change-location").css("visibility","hidden");
    $(".change-location-2").css("visibility","hidden");
    $(".change-location-3").css("visibility","hidden");
  }
  $(".change-location").click(function(e){
    return false;
  });
  $(".change-location-2").click(function(e){
    var cltype = $(this).data("cltype");
    if ($(this).find(".cl2-menu").length) {
      $(this).find(".cl2-menu").remove();
    } else {
      var opts = '<div class="cl2-menu">\
        <ul>\
          <li class="cl2-rename" title="Rename this ' + cltype + '">Rename this ' + cltype + '</li>\
          <li class="cl2-edit" title="Leave the ' + cltype + ' you are currently on and go edit this one">Go edit this ' + cltype + '</li>\
        </ul>\
      </div>';
      $(this).append(opts);
      $(this).siblings(".change-location-3").css("visibility","hidden");
      if (cltype == "division") {
	$(this).find(".cl2-edit").remove();
      }
    }
    return false;
  });
  $(".change-location-3").click(function(e){
    window.confirm("Are you sure you really want to delete this item and all of its contents?  It will be moved to the Recycle Bin in case you need to retrieve it later.");
    return false;
  });

  $("#dashboard-contents li[data-media-type='application/vnd.org.cnx.collection'], #dashboard-contents li[data-media-type='application/vnd.org.cnx.folder']").live("click",function(e){
    if ($(this).find("ol").is(":hidden")) {
      $(this).find("ol").slideDown();
    } else {
      $(this).find("ol").slideUp();
    }
    return false;
  });

/*
  $("#dashboard-contents li .edit-action").draggable({
//    appendTo: "body",
//    containment: "body",
//    appendTo: "body",
//    containment: "window",
    scroll: false,
    drag: function(){
    },
    mouse: "move",
    revert: "invalid",
    opacity: "0.8",
    start: function(){
    },
    stop: function(){
    },
  });
*/

  $("#dashboard-contents li[data-media-type='application/vnd.org.cnx.module'] .editor-node-title").draggable({
//    appendTo: "body",
//    containment: "parent",
//    appendTo: "#toc",
    scroll: false,
    helper: 'clone',
    drag: function(event, ui){
      ui.helper.addClass("dragged");
/*
.css({
	"z-index": 600,
	"background-color": "#ffffff",
	"white-space": "nowrap",
      });
*/
    },
    mouse: "move",
    revert: "invalid",
    opacity: "0.8",
    start: function(event, ui){
      $("#overlay-back").fadeIn(500);
      $("body").addClass("dragging-picker");
      $("body").data('dropped', false); // To test if it was correctly dropped or not. Solution from here: http://stackoverflow.com/questions/8092771/jquery-drag-and-drop-checking-for-a-drop-outside-a-droppable
    },
    stop: function(event, ui){
//      alert("correctly dropped?:" + $("body").data("dropped"));
      if ($("body").data("dropped") == false) {
        $("#overlay-back").fadeOut(500);
      }
      $("body").removeClass("dragging-picker");
    },
  });


});

$(function() {

  $(".pedagog-blocks .node").mousedown(function(e){
    $(this).addClass("dragging");
  });
  $(".pedagog-blocks .node").mouseup(function(e){
    $(this).removeClass("dragging");
  });

//  $("#sidebar .pedagog-blocks .node").mousedown(function(e){
//  $("#toolbox .pedagog-blocks .node").mousedown(function(e){
  $("#toolbox .pedagog-blocks .node, #sidebar .pedagog-block .node").mousedown(function(e){
    return false;
  });
//  $("#sidebar .pedagog-blocks .node").click(function(e){
//  $("#toolbox .pedagog-blocks .node").click(function(e){
  $("#toolbox .pedagog-blocks .node, #sidebar .pedagog-blocks .node").click(function(e){
    var selText = $(".selected-text-text").text();
    if (selText.trim() != '') {
      var exText = selText;
    } else {
      var exText = getSelectionText();
    }
    var clsFormal = $(this).clone().children().remove().end().text().trim();
    var cls = clsFormal.toLowerCase();
    if (cls == 'note to reader') cls = 'note';
    if (cls == 'definition') cls = cls;
    if (cls == 'numbered equation') cls = 'equation';
    if (cls.indexOf('exercise') > -1) cls = 'exercise';
    if (cls.indexOf('question') > -1) cls = 'question';
    if (cls.indexOf('quotation') > -1) cls = 'quote';
    clsUpper = cls.replace(/^(.)|\s(.)/g, function($1){ return $1.toUpperCase( ); }); // From Darrell Brogdon at http://stackoverflow.com/questions/2017456/with-jquery-how-do-i-capitalize-the-first-letter-of-a-text-field-while-the-user
//    if (exText != '') {
      var elemnum = '';
      if (cls != 'definition') { // Do definitions slightly different from other semantic elements
        pasteHtmlAtCaret('<div id="SemanticNew" class="canvas-wrap" contenteditable="false"><div class="canvas canvas-unhovered ' + cls + '"><div class="canvas-inner"><div class="' + cls + '-contents">' + exText + '</div></div></div></div>');
        var snci = $("#SemanticNew .canvas-inner")
        if (cls == 'example') {
          elemnum = snci.add($(".example")).index(snci);
          snci.prepend('<h2 class="example-header"><span class="cnx_label">Example ' + elemnum + '</span><strong class="title content-editable" style="display: none;" contenteditable="true"><span class="hint-text">Add a title (optional)</span></strong></h2>');
          snci.find(".example-contents").contents().wrap('<div class="para content-editable" contenteditable="true"></div>');
          snci.find(".para").before('<div class="droppable-all"/>').after('<div class="droppable-all"/>');
          snci.find(".droppable-all").droppable( droppableAllOptions );
          snci.contents().wrapAll('<div class="example-decoration"></div>');
        }
        if (cls == 'exercise') {
          elemnum = snci.add($(".exercise")).index(snci);
          snci.prepend('<h2 class="exercise-header"><span class="cnx_label">Exercise ' + elemnum + '</span><strong class="title content-editable" style="display: none;" contenteditable="true"><span class="hint-text">Add a title (optional)</span></strong></h2>');
          snci.find(".exercise-contents").contents().wrap('<div class="problem"><div class="problem-contents"><div class="para content-editable" contenteditable="true"></div></div></div>');
          snci.find(".para").before('<div class="droppable-all"/>').after('<div class="droppable-all"/>');
          snci.find(".droppable-all").droppable( droppableAllOptions );
          snci.find(".exercise-contents").append('<div class="add-solution-2" style="display: none"><a href="#asdf">Click to add a solution (optional)</a></div>');
        }
        if (cls == 'note') {
          snci.prepend('<h2 class="note-header"><span class="cnx_label">Note</span></h2>');
          snci.find(".note-contents").contents().wrap('<div class="para content-editable" contenteditable="true"></div>');
          snci.find(".para").before('<div class="droppable-all"/>').after('<div class="droppable-all"/>');
          snci.find(".droppable-all").droppable( droppableAllOptions );
          snci.contents().wrapAll('<div class="note-decoration"></div>');
        }
        if (cls == 'equation') {
          elemnum = snci.add($(".equation")).index(snci);
          snci.append('<span class="equation-number">(' + elemnum + ')</span>');
          snci.find(".equation-contents").addClass("content-editable");
          snci.find(".equation-contents").attr("contenteditable","true");
        }
        if (cls == 'quote') {
          elemnum = snci.add($(".quote")).index(snci);
          snci.find(".quote-contents").addClass("content-editable");
          snci.find(".quote-contents").attr("contenteditable","true");
          snci.contents().wrapAll('<div class="quote-decoration"></div>');
        }
        $("#SemanticNew").after('<div class="droppable-all"/>');
        $("#SemanticNew").next(".droppable-all").droppable( droppableAllOptions );
        addHandles($("#SemanticNew"),cls);
        $("#SemanticNew").children(".canvas").uniqueId();
        adjustCount($("#SemanticNew"),cls,clsUpper);
        $("#SemanticNew").removeAttr("id").effect("highlight", { color: "#C5DAE9" }, 1500);

      } else if (cls == 'definition') {
        var nearestp = $(getSelectionContainerElement()).closest(".para,.list,.canvas-wrap");
        elemnum = nearestp.add($(".definition")).index(nearestp) + 1;
        pasteHtmlAtCaret('<a href="Definition ' + elemnum + ': ' + exText + '" class="term cnxn" id="NewLinkToDef">' + exText + '</a>');
        $("#NewLinkToDef").parent().find(".edhint").remove();
        if ($("#NewLinkToDef").parent(".selected-text").length) {
          $("#NewLinkToDef").unwrap();
        }
        $("#NewLinkToDef").removeAttr("id");
        newDefinitionFromTerm(exText,nearestp,elemnum);
      }
      //$(this).next(".helper").hide();
      $(this).mouseleave()
      $(this).closest("li").mouseenter();

      $(".selected-text").each(function(){
        if ($(this).contents().length == 0) {
          $(this).remove();
        } else {
          $(this).contents().unwrap();
        }
      });
/*
    } else { // If no text had been highlighted/selected in the document ...
      $(this).closest("dl").find("dt").stop().css({
        backgroundPosition: "-200px 0",
      }).animate(
        {backgroundPosition:"(250px 0)"},
        {duration: 1800}
      ).css("background-position: -200px 0");
    }
*/
  });

/**
 * @author Alexander Farkas
 * v. 1.02
 *
 * Edited by Nelson Wells for jQuery 1.8 compatibility
 */
(function($) {
    $.extend($.fx.step,{
        backgroundPosition: function(fx) {
            if (fx.pos === 0 && typeof fx.end == 'string') {
                var start = $.css(fx.elem,'backgroundPosition');
                start = toArray(start);
                fx.start = [start[0],start[2]];
                var end = toArray(fx.end);
                fx.end = [end[0],end[2]];
                fx.unit = [end[1],end[3]];
            }
            var nowPosX = [];
            nowPosX[0] = ((fx.end[0] - fx.start[0]) * fx.pos) + fx.start[0] + fx.unit[0];
            nowPosX[1] = ((fx.end[1] - fx.start[1]) * fx.pos) + fx.start[1] + fx.unit[1];
            fx.elem.style.backgroundPosition = nowPosX[0]+' '+nowPosX[1];

            function toArray(strg){
                strg = strg.replace(/left|top/g,'0px');
                strg = strg.replace(/right|bottom/g,'100%');
                strg = strg.replace(/([0-9\.]+)(\s|\)|$)/g,"$1px$2");
                var res = strg.match(/(-?[0-9\.]+)(px|\%|em|pt)\s(-?[0-9\.]+)(px|\%|em|pt)/);
                return [parseFloat(res[1],10),res[2],parseFloat(res[3],10),res[4]];
            }
        }
    });
})(jQuery);


  $("#add-new-flyout .pedagog-blocks .node").live("click", function(e){
    var exText = $("#SemanticNew");
    var exTextText = exText.text();
    var clsFormal = $(this).clone().children().remove().end().text().trim();
    var cls = clsFormal.toLowerCase();
    if (cls == 'note to reader') cls = 'note';
    if (cls == 'definition') cls = cls;
    if (cls == 'numbered equation') cls = 'equation';
    if (cls.indexOf('exercise') > -1) cls = 'exercise';
    if (cls.indexOf('question') > -1) cls = 'question';
    if (cls.indexOf('quotation') > -1) cls = 'quote';

    $("#add-new-flyout").remove();
    $("#toolbar-add-new").removeClass("selected hovered");

    clsUpper = cls.replace(/^(.)|\s(.)/g, function($1){ return $1.toUpperCase( ); }); // From Darrell Brogdon at http://stackoverflow.com/questions/2017456/with-jquery-how-do-i-capitalize-the-first-letter-of-a-text-field-while-the-user
      var elemnum = '';
      if (cls != 'definition') { // Do definitions slightly different from other semantic elements
        exText.replaceWith('<div id="SemanticNew" class="canvas-wrap" contenteditable="false"><div class="canvas canvas-unhovered ' + cls + '"><div class="canvas-inner"><div class="' + cls + '-contents">' + exTextText + '</div></div></div></div>');
        var snci = $("#SemanticNew .canvas-inner");
        if (cls == 'example') {
          elemnum = snci.add($(".example")).index(snci);
          snci.prepend('<h2 class="example-header"><span class="cnx_label">Example ' + elemnum + '</span><strong class="title content-editable" style="display: none;" contenteditable="true"><span class="hint-text">Add a title (optional)</span></strong></h2>');
          if (exTextText.trim() == '') {
            var ht = '<span class="hint-text example-hint-text">Type the text of your example here. \
              <span class="in-canvas-helper">\
                <span class="in-canvas-helper-trigger">(?)</span>\
                <span class="in-canvas-helper-text">\
                  The example template allows you to illustrated a point to the reader. \
                  <span class="in-canvas-helper-types">\
                    Supported types of examples include: <i>Example, Illustration, Demonstration, Cased in Point, Case Study</i>\
                  </span>\
                </span>\
              </span>\
            </span>';
            snci.find(".example-contents").append('<div class="para content-editable" contenteditable="true">' + ht + '</div>');
          } else {
            snci.find(".example-contents").contents().wrap('<div class="para content-editable" contenteditable="true"></div>');
          }
          snci.find(".para").before('<div class="droppable-all"/>').after('<div class="droppable-all"/>');
          snci.find(".droppable-all").droppable( droppableAllOptions );
          snci.contents().wrapAll('<div class="example-decoration"></div>');
        }
        if (cls == 'exercise') {
          elemnum = snci.add($(".exercise")).index(snci);
          snci.prepend('<h2 class="exercise-header"><span class="cnx_label">Exercise ' + elemnum + '</span><strong class="title content-editable" style="display: none;" contenteditable="true"><span class="hint-text">Add a title (optional)</span></strong></h2>');
          if (exTextText.trim() == '') {
            var ht = '<span class="hint-text exercise-hint-text">Type the text of your exercise here. \
              <span class="in-canvas-helper">\
                <span class="in-canvas-helper-trigger">(?)</span>\
                <span class="in-canvas-helper-text">\
                  The exercise template allows you to ask a question to assess the reader\'s understanding. Exercise templates automatically handle numbering. \
                  <span class="in-canvas-helper-types">\
                    Supported types of exercises include: <i>Exercise, Homework, Question, Problem, Task</i>.\
                  </span>\
                </span>\
              </span>\
            </span>';
            snci.find(".exercise-contents").append('<div class="para content-editable" contenteditable="true">' + ht + '</div>');
          } else {
            snci.find(".exercise-contents").contents().wrap('<div class="problem"><div class="problem-contents"><div class="para content-editable" contenteditable="true"></div></div></div>');
          }
          snci.find(".para").before('<div class="droppable-all"/>').after('<div class="droppable-all"/>');
          snci.find(".droppable-all").droppable( droppableAllOptions );
          snci.find(".exercise-contents").append('<div class="add-solution-2" style="display: none"><a href="#asdf">Click to add a solution (optional)</a></div>');
        }
        if (cls == 'note') {
          snci.prepend('<h2 class="note-header"><span class="cnx_label">Note</span></h2>');
          if (exTextText.trim() == '') {
            var ht = '<span class="hint-text note-hint-text">Type the text of your note here. \
              <span class="in-canvas-helper">\
                <span class="in-canvas-helper-trigger">(?)</span>\
                <span class="in-canvas-helper-text">\
                  The note template allows you to make a note to the reader (set apart from the basic text). \
                  <span class="in-canvas-helper-types">\
                    Supported types of notes include: <i>Note, Warning, Tip, Aside, Important</i>.\
                  </span>\
                </span>\
              </span>\
            </span>';
            snci.find(".note-contents").append('<div class="para content-editable" contenteditable="true">' + ht + '</div>');
          } else {
            snci.find(".note-contents").contents().wrap('<div class="para content-editable" contenteditable="true"></div>');
          }
          snci.find(".para").before('<div class="droppable-all"/>').after('<div class="droppable-all"/>');
          snci.find(".droppable-all").droppable( droppableAllOptions );
          snci.contents().wrapAll('<div class="note-decoration"></div>');
        }
        if (cls == 'equation') {
          elemnum = snci.add($(".equation")).index(snci);
          snci.append('<span class="equation-number">(' + elemnum + ')</span>');
          snci.find(".equation-contents").addClass("content-editable");
          snci.find(".equation-contents").attr("contenteditable","true");
          if (exTextText.trim() == '') {
            snci.find(".equation-contents").prepend('\
                    <div class="MathJax" contentEditable="false">\
                      <span class="hint-text">\
                        Enter your math notation here\
                      </span>\
                      <span class="ascii-notation"/>\
                      <span class="ascii-math"/>\
                    </div>\
            ');
          }
        }
        if (cls == 'quote') {
          elemnum = snci.add($(".quote")).index(snci);
          snci.find(".quote-contents").addClass("content-editable");
          snci.find(".quote-contents").attr("contenteditable","true");
          if (exTextText.trim() == '') {
            var ht = '<span class="hint-text quote-hint-text">Type the text of your quotation here. \
              <span class="in-canvas-helper">\
                <span class="in-canvas-helper-trigger">(?)</span>\
                <span class="in-canvas-helper-text">\
                  The quotation template allows you to set apart an extended quotation from the rest of the text. \
                </span>\
              </span>\
            </span>';
            snci.find(".quote-contents").append('<div class="para content-editable" contenteditable="true">' + ht + '</div>');
          } else {
            snci.find(".quote-contents").contents().wrap('<div class="para content-editable" contenteditable="true"></div>');
          }
          snci.find(".para").before('<div class="droppable-all"/>').after('<div class="droppable-all"/>');
          snci.find(".droppable-all").droppable( droppableAllOptions );
          snci.contents().wrapAll('<div class="quote-decoration"></div>');
        }
      } else if (cls == 'definition') {
        if (exTextText.trim() == '') { // No text has already been selected to serve as key term
          exText.replaceWith('<div id="SemanticNew" class="canvas-wrap" contenteditable="false"><div class="canvas canvas-unhovered ' + cls + '"><div class="canvas-inner"><div class="' + cls + '-contents">' + exTextText + '</div></div></div></div>');
          var snci = $("#SemanticNew .canvas-inner");
          var elemnum = snci.add($(".definition")).index(snci);
          snci.prepend('<h2 class="definition-header"><span class="cnx_label">Definition ' + elemnum + '</span><span class="term content-editable" contenteditable="true"><span class="hint-text">Enter they key term to be defined here (required) <img src="content_files/warning-01.png" class="term-required" title="You are required to have a key term" contenteditable="false"/></span></span></h2>');
          snci.find(".definition-contents").append('<div class="meanings" contenteditable="false"><div class="meaning"><div class="para content-editable" contenteditable="true"><span class="hint-text definition-hint-text">Type the meaning here</span></div></div></div>');
          snci.find(".meanings").append('<div class="meaning add-meaning"><span class="hint-text add-meaning-hint-text"><a href="#">Click to add another meaning (optional)</a></span></div>');
          snci.find(".definition-contents").after('<div class="glossary-options" style="display: none"><span>Optional: </span><a href="#">Move this definition to the glossary</a></div>');
        } else { // Text has been selected to serve as the key term
          var nearestp = exText.closest(".para,.list,.canvas-wrap");
          elemnum = nearestp.add($(".definition")).index(nearestp) + 1;
          exText.replaceWith('<a href="Definition ' + elemnum + ': ' + exTextText + '" class="term cnxn" id="NewLinkToDef">' + exTextText + '</a>');
          $("#NewLinkToDef").parent().find(".edhint").remove();
          if ($("#NewLinkToDef").parent(".selected-text").length) {
            $("#NewLinkToDef").unwrap();
          }
          $("#NewLinkToDef").removeAttr("id");
          newDefinitionFromTerm(exTextText,nearestp,elemnum);
        }
      }
      if ($("#SemanticNew").length) {
        $("#SemanticNew").after('<div class="droppable-all"/>');
        $("#SemanticNew").next(".droppable-all").droppable( droppableAllOptions );
        addHandles($("#SemanticNew"),cls);
        $("#SemanticNew").children(".canvas").uniqueId();
        adjustCount($("#SemanticNew"),cls,clsUpper);
        if (cls == 'definition' && exTextText.trim() == '') { 
          requireTerm($("#SemanticNew"));
        }
        $("#SemanticNew").removeAttr("id").effect("highlight", { color: "#C5DAE9" }, 1500);
      }
    return false;
  });

  $("#toolbar-what-are-these").live("click", function(e){
    $("#add-new-flyout").remove();
    $("#toolbar-add-new").removeClass("selected hovered");

    $("#toolbar-what-are-these-dialog").dialog("open");

    return false;
  });

  $("#format-text-flyout a").live("click", function(e){
alert("Sorry, this feature is not yet implemented.");
return false;
  });


  $(".more-block").live("click", function(e){
    $("#more-blocks-dialog").dialog("open");
    return false;
  });

  $("#bookshelves-trigger").live("click", function(e){
    if ($("#bookshelves-listing").is(":hidden")) {
      $(this).parent().addClass("activated");
      $("#bookshelves-listing").slideDown("fast", function(e){
        $(this).show();
      });
    }
    return false;
  });
  $("#bookshelves a").live("click", function(e){
    return false;
  });

  $("#toolbar-what-are-these-dialog").dialog({
    width: 700,
    autoOpen: false,
    modal: true,
    resizable: true,
    zIndex: 500,
    open: function(){
    },
    close: function(){
    },
    buttons: {
      "Ok": {
        text: 'Ok',
        class: '', 
        click: function() {
          $(this).dialog("close");
        }
      },
    }
  });

  $("#sidebar-what-are-these-dialog").dialog({
    width: 700,
    autoOpen: false,
    modal: true,
    resizable: true,
    zIndex: 500,
    open: function(){
    },
    close: function(){
    },
    buttons: {
      "Ok": {
        text: 'Ok',
        class: '', 
        click: function() {
          $(this).dialog("close");
        }
      },
    }
  });

  $("#more-blocks-dialog").dialog({
    width: 700,
    autoOpen: false,
    modal: true,
    resizable: true,
    zIndex: 500,
    open: function(){
    },
    close: function(){
      $("#more-blocks-choose dl dd:lt(1)").addClass("selected").find("input").attr("checked","checked");
      $("#more-blocks-choose dl ddli:gt(0)").removeClass("selected").find("input").removeAttr("checked");
    },
    buttons: {
      "Ok": {
        text: 'Ok',
        class: '', 
        click: function() {
          $(this).dialog("close");
        }
      },
      Cancel: function() {
        $(this).dialog("close");
      }
    }
  });

  
  $("#bookshelves-dialog").dialog({
    width: 700,
    autoOpen: false,
    modal: true,
    resizable: true,
    zIndex: 1000,
    open: function(){
    },
    close: function(){
    },
    buttons: {
/*
      "Ok": {
        text: 'Ok',
        class: '', 
        click: function() {
          $(this).dialog("close");
        }
      },
*/
      Cancel: function() {
        $(this).dialog("close");
      }
    }
  });

  
  $(".in-canvas-helper-trigger").livequery(function(){
    $(this).hoverIntent({
      over: function(e){
        $(this).siblings(".in-canvas-helper-text").show();
      }, 
      out: function(e){
        $(this).siblings(".in-canvas-helper-text").hide();
      },
      timeout: 300,
      interval: 300,
    });
  });

  $(".in-canvas-helper-trigger").live("mouseup click mousedown", function(e){
    $(this).siblings(".in-canvas-helper-text").show();
    // $(this).effect("highlight", { color: "#E5EEF5" }, 1000); // blinking 3x. ugh.
    return false;
  });
/*
  $(".in-canvas-helper-trigger").live("click", function(e){ // Don't know why this isn't working!
    $(this).siblings(".in-canvas-helper-text").hide().delay(500).show();
    return false;
  });
*/

  var droppableAllOptions = {
    accept: ".pedagog-blocks .node, .canvas-wrap",
    hoverClass: "droppable-hover",
    tolerance: "touch",
    over: function(event,ui){
      $(this).addClass("copy-draggable");
      var helperHeight = '';
      if (ui.draggable.hasClass("canvas-wrap")){
        helperHeight = ui.draggable.outerHeight();
      } else {
        helperHeight = $(".dragged").outerHeight();
      }
      $(this).css("height", helperHeight + "px");
      $(".droppable-all").not(this).css("height","1px").removeClass("droppable-hover");
    },
    out: function(event,ui) {
      $("#canvas").removeClass("copy-draggable");
      $(this).css("height","1px");
    },
    drop: function(event,ui) {
      $(this).removeClass("copy-draggable");
      if (ui.draggable.hasClass("canvas-wrap")) {
        $(this).after(ui.draggable);
        ui.draggable.context.effect("highlight", { color: "#E5EEF5" }, 1000);
      } else {
        $("body").find(".dragged").remove();
        var semanticElem = $(ui.draggable).clone().children().remove().end().text();
        if (semanticElem.indexOf('Exercise') > -1) {
          semanticElem = 'Exercise';
        } else if (semanticElem.indexOf('Question') > -1) {
          semanticElem = 'Question';
        } else if (semanticElem == 'Note to Reader') {
          semanticElem = 'Note';
        } else if (semanticElem == 'Definition') {
          semanticElem = 'Definition';
        } else if (semanticElem == 'Numbered Equation') {
          semanticElem = 'Equation'
        } else if (semanticElem == 'Quotation') {
          semanticElem = 'Quotation'
        } else {
          semanticElem = semanticElem;
        }
        var semanticelem = semanticElem.toLowerCase();
        var semanticelem2 = '<div>' + semanticelem + '</div>';
        var elemnum = '';
        if (semanticelem == 'exercise') {
          elemnum = $(this).add($(".exercise")).index($(this)) + 1;
          semanticelem2 = $('\
            <div class="canvas-wrap" contenteditable="false">\
              <div class="exercise canvas canvas-unhovered">\
                <div class="canvas-inner">\
                  <h2 class="exercise-header">\
                    <span class="cnx_label">Exercise ' + elemnum + '</span>\
                    <strong class="title content-editable" style="display: none" contentEditable="true">\
                      <span class="hint-text">Add a title (optional)</span>\
                    </strong>\
                  </h2>\
                  <div class="exercise-contents">\
                    <div class="problem">\
                      <div class="problem-contents">\
                        <div class="droppable-all"/>\
                        <div class="para content-editable" contentEditable="true">\
                          <span class="hint-text exercise-hint-text">Type the text of your exercise here. \
                            <span class="in-canvas-helper">\
                              <span class="in-canvas-helper-trigger">(?)</span>\
                              <span class="in-canvas-helper-text">\
                                The exercise template allows you to ask a question to assess the reader\'s understanding. Exercise templates automatically handle numbering. \
                                <span class="in-canvas-helper-types">\
                                 Supported types of examples include: <i>Exercise, Homework, Question, Problem, Task</i>.\
                                </span>\
                              </span>\
                            </span>\
                          </span>\
                        </div>\
                        <div class="droppable-all"/>\
                      </div>\
                    </div>\
                    <div class="add-solution-2" style="display: block;">\
                      <a href="#asdf">Click to add a solution (optional)</a>\
                    </div>\
                  </div>\
                </div>\
              </div>\
            </div>\
            <div class="droppable-all"/>\
          ').hide();
        } else if (semanticelem == 'example') {
          elemnum = $(this).add($(".example")).index($(this)) + 1;
          semanticelem2 = $('\
            <div class="canvas-wrap" contenteditable="false">\
              <div class="example canvas canvas-unhovered">\
                <div class="canvas-inner">\
                  <div class="example-decoration">\
                  <h2 class="example-header">\
                    <span class="cnx_label">Example ' + elemnum + '</span>\
                    <strong class="title content-editable" style="display: none" contentEditable="true">\
                      <span class="hint-text">Add a title (optional)</span>\
                    </strong>\
                  </h2>\
                  <div class="example-contents">\
                    <div class="droppable-all"/>\
                    <div class="para content-editable" contentEditable="true">\
                      <span class="hint-text example-hint-text">Type the text of your example here. \
                        <span class="in-canvas-helper">\
                          <span class="in-canvas-helper-trigger">(?)</span>\
                          <span class="in-canvas-helper-text">\
                            The example template allows you to illustrate a point to the reader (set apart from the basic text). \
                            <span class="in-canvas-helper-types">\
                              Supported types of examples include: <i>Example, Illustration, Demonstration, Case in Point, Case Study</i>.\
                            </span>\
                          </span>\
                        </span>\
                      </span>\
                    </div>\
                    <div class="droppable-all"/>\
                  </div>\
                  </div>\
                </div>\
              </div>\
            </div>\
            <div class="droppable-all"/>\
          ').hide();
        } else if (semanticelem == 'note') {
          elemnum = $(this).add($(".note")).index($(this)) + 1;
          semanticelem2 = $('\
            <div class="canvas-wrap" contenteditable="false">\
              <div class="note canvas canvas-unhovered">\
                <div class="canvas-inner">\
                  <div class="note-decoration">\
                  <h2 class="note-header">\
                    <span class="cnx_label">Note</span>\
                    <strong class="title content-editable" style="display: none" contentEditable="true">\
                      <span class="hint-text">Add a title (optional)</span>\
                    </strong>\
                  </h2>\
                  <div class="note-contents">\
                    <div class="droppable-all"/>\
                    <div class="para content-editable" contentEditable="true">\
                      <span class="hint-text note-hint-text">Type the text of your note here. \
                        <span class="in-canvas-helper">\
                          <span class="in-canvas-helper-trigger">(?)</span>\
                          <span class="in-canvas-helper-text">\
                            The note template allows you to make a note to the reader (set apart from the basic text). \
                            <span class="in-canvas-helper-types">\
                              Supported types of notes include: <i>Note, Warning, Tip, Aside, Important</i>.\
                            </span>\
                          </span>\
                        </span>\
                      </span>\
                    </div>\
                    <div class="droppable-all"/>\
                  </div>\
                  </div>\
                </div>\
              </div>\
            </div>\
            <div class="droppable-all"/>\
          ').hide();
        } else if (semanticelem == 'definition') {
          elemnum = $(this).add($(".definition")).index($(this)) + 1;
          semanticelem2 = $('\
            <div class="canvas-wrap" contenteditable="false">\
              <div class="definition canvas canvas-unhovered">\
                <div class="canvas-inner">\
                  <h2 class="definition-header">\
                    <span class="cnx_label">Definition ' + elemnum + '</span>\
                    <span class="term content-editable" contentEditable="true">\
                      <span class="hint-text">Enter key term to be defined here (required) <img src="content_files/warning-01.png" class="term-required" title="You are required to have a key term"/ contentEditable="false"></span>\
                    </span>\
                  </h2>\
                  <div class="definition-contents">\
                    <div class="meanings" contenteditable="false">\
                      <div class="meaning">\
                        <div class="para content-editable" contenteditable="true">\
                          <span class="hint-text definition-hint-text">\
                            Type the meaning here\
                          </span>\
                        </div>\
                      </div>\
                      <div class="meaning add-meaning">\
                        <span class="hint-text add-meaning-hint-text">\
                          <a href="#">Click to add another meaning (optional)</a>\
                        </span>\
                      </div>\
                    </div>\
                  </div>\
                  <div class="glossary-options" style="display: none">\
                    <span>Optional: </span><a href="#">Move this definition to the glossary</a>\
                  </div>\
                </div>\
              </div>\
            </div>\
            <div class="droppable-all"/>\
          ').hide();
        } else if (semanticelem == 'equation') {
          elemnum = $(this).add($(".equation")).index($(this)) + 1;
          semanticelem2 = $('\
            <div class="canvas-wrap" contenteditable="false">\
              <div class="equation canvas canvas-unhovered">\
                <div class="canvas-inner">\
                  <div class="equation-contents">\
                    <div class="MathJax" contentEditable="false">\
                      <span class="hint-text">\
                        Enter your math notation here\
                      </span>\
                      <span class="ascii-notation"/>\
                      <span class="ascii-math"/>\
                    </div>\
                    <span class="equation-number">(' + elemnum + ')</span>\
                  </div>\
                </div>\
              </div>\
            </div>\
            <div class="droppable-all"/>\
          ').hide();
        } else if (semanticelem == 'quotation') {
          elemnum = $(this).add($(".note")).index($(this)) + 1;
          semanticelem2 = $('\
            <div class="canvas-wrap" contenteditable="false">\
              <div class="quotation canvas canvas-unhovered">\
                <div class="canvas-inner">\
                  <div class="quote-decoration">\
                  <div class="quote-contents">\
                    <div class="droppable-all"/>\
                    <div class="para content-editable" contentEditable="true">\
                      <span class="hint-text quote-hint-text">Type the text of your quotation here. \
                        <span class="in-canvas-helper">\
                          <span class="in-canvas-helper-trigger">(?)</span>\
                          <span class="in-canvas-helper-text">\
                            The quotation template allows you to set apart an extended quotation from the rest of the text. \
                          </span>\
                        </span>\
                      </span>\
                    </div>\
                    <div class="droppable-all"/>\
                  </div>\
                  </div>\
                </div>\
              </div>\
            </div>\
            <div class="droppable-all"/>\
          ').hide();
        }
        $(this).after(semanticelem2);
        var newelem = $(this).next();
        $(this).remove();
        newelem.find(".droppable-all").droppable( droppableAllOptions );
        newelem.next(".droppable-all").droppable( droppableAllOptions );
        addHandles(newelem,semanticelem);
        newelem.children(".canvas").uniqueId();
        adjustCount(newelem,semanticelem,semanticElem);
        newelem.stop().show("slow");
        newelem.effect("highlight", { color: "#E5EEF5" }, 1000);
        if (semanticelem == 'definition') {
          requireTerm(newelem);
        }
      }
      $("#canvas").removeClass("copy-draggable");
    },
  }


  var droppablePickerOptions = {
    accept: "#dashboard-contents .editor-node-title",
    hoverClass: "droppable-hover",
    tolerance: "touch",
    over: function(event,ui){
      $(this).addClass("copy-draggable");
      var helperHeight = $(".dragged").outerHeight();
      $(this).css("height", helperHeight + "px");
//      $(".droppable-picker").not(this).css("height","1px").removeClass("droppable-hover");
    },
    out: function(event,ui) {
/*
      $("#canvas").removeClass("copy-draggable");
      $(this).css("height","1px");
*/
    },
    drop: function(event,ui) {
      $("body").data('dropped', true); // To note that it got successfully dropped.  Solution from here: http://stackoverflow.com/questions/8092771/jquery-drag-and-drop-checking-for-a-drop-outside-a-droppable
      var helperText = ui.helper.text();
      var original = '';
      $("#dashboard-contents li .editor-node-title").each(function(e){
	if ($(this).text().trim() == helperText.trim()) original = $(this); // cheap cheat, oh well
      });
      if (original.closest("ol").length) {
        $("#copy-or-link").addClass("b2b").data("uix",$(this)).data("helper",ui.helper).dialog("open");
      } else {
        $("#copy-or-link").removeClass("b2b").data("uix",$(this)).data("helper",ui.helper).dialog("open");
/*
        $(this).removeClass("copy-draggable");
        $("body").find(".dragged").remove();
        var movedmodule = '<li style="padding: .2em 0" title="Drag to a different part of the book"><a title="Edit this module instead" href="#">' + helperText + '</a></li>';
        $(this).after(movedmodule);
        var newelem = $(this).next();
        newelem.hide();
	original.remove();
        $(this).remove();
        newelem.removeClass("ui-draggable").stop().show("slow");
        newelem.effect("highlight", { color: "#E5EEF5" }, 1000);
        $("#canvas").removeClass("copy-draggable");
        $(".droppable-picker").css("height","1px");
*/
      }
    },
  }


  $(".droppable-picker").droppable( droppablePickerOptions );

  $(".droppable-all").droppable( droppableAllOptions );

  function adjustCount(element,elementtype,elemFormal,glossary){
    var elemid = element.children(".canvas").attr("id");
    var typeblock = $("#sidebar ." + elementtype + "-block");
//    var typeblock = $("#toolbox ." + elementtype + "-block");
    var typecount = typeblock.find(".count");
    var typect = typecount.find(".count-total");
    if (glossary == 'Glossary'){
      var glossaryul = typecount.find("ul.glossary-defs");
      if (typecount.hasClass("zero")) {
        typecount.replaceWith('<div class="count"><a href="#" class="count-total">1</a><div class="node-list"><p class="glossary-defs-header"><strong>Definitions in the glossary</strong> (linked from this document)</p><ul class="glossary-defs"><li><a href="#' + elemid + '" title="Go to this definition in the glossary">Definition 1</a></li></ul></div></div>');
      } else if (glossaryul.length) {
        var newcount = glossaryul.children().length + 1;
        glossaryul.append('<li><a href="#' + elemid + '" title="Go to this definition in the glossary">Definition ' + newcount + '</li>');
        indocdefs = glossaryul.siblings("ul").children("li");
        if (indocdefs.length == 1) {
          glossaryul.prevAll().not(".glossary-defs-header").remove();
        } else if (indocdefs.length > 1) {
          indocdefs.each(function(){
            if ($(this).find("a").attr("href") == '#' + elemid) $(this).remove();
          });
        }
      } else {
        typecount.find(".node-list").append('<p class="glossary-defs-header"><strong>Definitions in the glossary</strong> (linked from this document)</p><ul class="glossary-defs"><li><a href="#' + elemid + '" title="Go to this definition in the glossary">Definition 1</li></ul>');
        indocdefs = typecount.find("ul:not('.glossary-defs')").children("li");
        if (indocdefs.length == 1) {
          indocdefs.parent().prevAll().remove();
          indocdefs.parent().remove();
        } else if (indocdefs.length > 1) {
          indocdefs.each(function(){
            if ($(this).find("a").attr("href") == '#' + elemid) $(this).remove();
          });
        }
      }
      typeblock.find(".count-total").effect("highlight", { color: "#C5DAE9" }, 1000);
    } else {
      setTimeout(function() {
        if (typecount.hasClass("zero")) {
          typecount.replaceWith('<div class="count"><a href="#" class="count-total">1</a><div class="node-list"><p><strong>' + elemFormal + 's in this document</strong></p><ul><li><a href="#' + elemid + '" title="Jump to this ' + elementtype + '">' + elemFormal + ' 1</a></li></ul></div></div>');
        } else {
          var newcount = parseInt(typect.text()) + 1;
          typect.text(newcount);
          typecount.find(".node-list ul:not('glossary-defs')").append('<li><a href="#' + elemid + '" title="Jump to this ' + elementtype + '">' + elemFormal + ' ' + newcount + '</li>');
        }
        typeblock.find(".count-total").effect("highlight", { color: "#C5DAE9" }, 1000);
      }, 1200);
    }
  }

  $(".change-label").live("mouseenter", function(e){
    $(this).addClass("hovered");
    e.stopPropagation();
    pedagogLiLeave($(this).closest(".pedagog"),e);
  });
  $(".change-label").live("mouseleave", function(e){
    $(this).removeClass("hovered");
    $(this).find(".change-label-list").hide();
    if (e.relatedTarget.parentNode.className.indexOf("pedagog") > -1) {
      pedagogLiEnter($(this).closest(".pedagog"),e);
    }
  });

  $(".change-label").live("click", function(e){
    var cll = $(this).find(".change-label-list");
    if (cll.is(":hidden")) {
      cll.show();
    } else {
      cll.hide();
    }
    e.stopPropagation();
  });
  $(".change-label-list").live("click", function(e){
    e.stopPropagation();
  });

  $(".pedagog-blocks .count").live("mouseenter", function(e){
    var arrow = "<span class='count-arrow' style='height: ";
    var height = $(this).outerHeight();
    var arrow = arrow + height + "px\; width: " + height/2 + "px\;'></span>"
    $(this).find(".count-total").append(arrow);
    $(this).parent().removeAttr("title");
    $(this).find(".count-total").addClass("hovered");
    $(this).find(".node-list").show();
    e.stopPropagation();
    pedagogLiLeave($(this).closest(".pedagog"),e);
  });
  $(".pedagog-blocks .count").live("mouseleave", function(e){
    $(".node-list").hide();
    $(this).find(".count-total").removeClass("hovered");
    $(this).find(".count-arrow").remove();
    if (e.relatedTarget.parentNode.className.indexOf("pedagog") > -1) {
      pedagogLiEnter($(this).closest(".pedagog"),e);
    }
  });

  $(".pedagog-blocks li.pedagog").live("mouseenter", function(e){
    pedagogLiEnter($(this),e);
  });
  $(".pedagog-blocks li.pedagog").live("mouseleave", function(e){
    pedagogLiLeave($(this),e);
  });
  
  function pedagogLiEnter(pl,e) {
    if (pl.attr("id") != "toolbar-what-are-these") {
      setTimeout(function() {
        $("#SemanticNew").addClass("hovered");
      }, 50);
    }
    pl.addClass("hovered");
  }
  function pedagogLiLeave(pl,e) {
    $("#SemanticNew").removeClass("hovered");
    pl.removeClass("hovered");
  }

  function previewNewDrop(e) {
    var ne = $("#newElement");
    if (ne.length) {
      if (ne.text().trim() == '') {
        ne.addClass("element-temp-empty");
      } else {
        ne.addClass("element-temp-text");
      }
    } else {
      var prevText = getSelectionText();
      var prevCont = $(getSelectionContainerElement());
      if (prevCont.closest("#canvas").length) {
        if (prevText == "&nbsp\;" || prevText == '') {
          pasteHtmlAtCaret('<span id="newElement" class="element-temp-empty">' + prevText + '</span>');
        } else {
          pasteHtmlAtCaret('<span id="newElement" class="element-temp-text">' + prevText + '</span>');
        }
      }
    }
  }

  $(".pedagog-blocks .count").live("click", function(e){
    return false;
  });

  $(".node-list a, #current a").live("click", function(e){
    var canvasOT = $("#canvas").offset().top;
    e.preventDefault();
    $('body,html').animate({
        scrollTop:$(this.hash).offset().top - canvasOT,
      }, 500);
    $(this.hash).effect("highlight", { color: "#E5EEF5" }, 1500);
  });


  $('#copy-or-link').keypress(function(e) {
    if (e.keyCode == $.ui.keyCode.ENTER) {
      $(this).dialog("close");
      if ($(".copy-or-link-cancel").not(":focus")) {
        copyOrLinkOk($(this));
      }
    }
  });

  $("#copy-or-link").dialog({
    width: 600,
    autoOpen: false,
    modal: true,
    zIndex: 1000,
    open: function(){
      $(".copy-or-link-ok").focus();
    },
    close: function(){
      $("#overlay-back").fadeOut(500);
    },
    buttons: {
      "Ok": {
        text: 'Ok',
        class: 'copy-or-link-ok', 
        click: function() {
	  $(this).dialog("close");
	  copyOrLinkOk($(this));
        }
      }, 
      "Cancel": {
        text: 'Cancel',
        class: 'copy-or-link-cancel', 
        click: function() {
	  $(this).dialog("close");
        }
      }, 
/*
      "OK": function() {
        $( this ).dialog("close");
	copyOrLinkOk($(this));
      },
      Cancel: function() {
        $( this ).dialog("close");
      }
*/
    }
  });


  function copyOrLinkOk(dlg) {
      var uix = dlg.data("uix");
      var helper = dlg.data("helper");

      uix.removeClass("copy-draggable");
      var helperText = helper.text().trim();
      $("body").find(".dragged").remove();
      var original = '';
      $("#dashboard-contents li .editor-node-title").each(function(e){
	if ($(this).text().trim() == helperText) { // Terrible way to look for match. Hack.
	  original = $(this).closest("li");
	}
      });
      original.mouseleave();
      if ($("#col-copy").prop("checked")) { // Copy
        var movedmodule = '<li style="padding: .2em 0" title="Drag to a different part of the book">\
	  <a title="Edit this module instead" href="#">Copy of ' + helperText + '</a>\
        </li>';
      } else if ($("#col-link").prop("checked")) { // Link
        var movedmodule = '<li style="padding: .2em 0" class="linked-module" title="Drag to a different part of the book">\
	  <a title="Edit this module instead" href="#">' + helperText + '</a>\
        </li>';
	original.addClass("linked-module");
original.find(".edit-action .icon-content").attr("title","This icon indicates that this module is being used in more than one place in your Dashboard. You can see where, or split them apart when you open the module to edit it");
      } else { // Move
        var movedmodule = '<li style="padding: .2em 0" title="Drag to a different part of the book">\
	  <a title="Edit this module instead" href="#">' + helperText + '</a>\
        </li>';
	original.slideUp("slow", function(e){
	  $(this).hide().remove();
	});
      }
      uix.after(movedmodule);
      var newelem = uix.next();
      newelem.hide();
//      newelem.droppable( droppablePickerOptions );
      newelem.removeClass("ui-draggable").stop().show("slow");
      newelem.effect("highlight", { color: "#E5EEF5" }, 1000);
//      $("#canvas").removeClass("copy-draggable");
//      $("#col-link").attr("checked","checked");
//      $(".droppable-picker").css("height","1px");
  }


  $("#exercise-options").dialog({
    width: 600,
    autoOpen: false,
    modal: true,
    zIndex: 500,
    open: function(){
      $(this).data("exercise").addClass("element-being-edited");
    },
    close: function(){
      $(this).data("exercise").removeClass("element-being-edited");
      $(".edit-element-menu").remove();
    },
    buttons: {
      "Save Changes": function() {
        $( this ).dialog("close");
      },
      Cancel: function() {
        $( this ).dialog("close");
      }
    }
  });

  $("#example-options").dialog({
    width: 600,
    autoOpen: false,
    modal: true,
    zIndex: 500,
    open: function(){
      $(this).data("example").addClass("element-being-edited");
    },
    close: function(){
      $(this).data("example").removeClass("element-being-edited");
      $(".edit-element-menu").remove();
    },
    buttons: {
      "Save Changes": function() {
        $(this).dialog("close");
      },
      Cancel: function() {
        $(this).dialog("close");
      }
    }
  });

  $("#equation-options").dialog({
    width: 600,
    autoOpen: false,
    modal: true,
    zIndex: 500,
    open: function(){
      $(this).data("equation").addClass("element-being-edited");
    },
    close: function(){
      $(this).data("equation").removeClass("element-being-edited");
      $(".edit-element-menu").remove();
    },
    buttons: {
      "Save Changes": function() {
        $(this).dialog("close");
      },
      Cancel: function() {
        $(this).dialog("close");
      }
    }
  });
  $("#solution-options").dialog({
    width: 600,
    autoOpen: false,
    modal: true,
    zIndex: 500,
    open: function(){
      $(this).data("solution").addClass("element-being-edited");
    },
    close: function(){
      $(this).data("solution").removeClass("element-being-edited");
      $(".edit-element-menu").remove();
    },
    buttons: {
      "Save Changes": function() {
        $(this).dialog("close");
      },
      Cancel: function() {
        $(this).dialog("close");
      }
    }
  });
  $("#table-options").dialog({
    width: 600,
    autoOpen: false,
    modal: true,
    zIndex: 500,
    open: function(){
      $(this).data("table").addClass("element-being-edited");
    },
    close: function(){
      $(this).data("table").removeClass("element-being-edited");
      $(".edit-element-menu").remove();
    },
    buttons: {
      "Save Changes": function() {
        $(this).dialog("close");
      },
      Cancel: function() {
        $(this).dialog("close");
      }
    }
  });

  $("#term-is-required").dialog({
    width: 300,
    autoOpen: false,
    modal: false,
    zIndex: 500,
    open: function(){
      $(this).data("definition").children(".canvas").addClass("element-being-edited");
    },
    close: function(){
      var definition = $(this).data("definition").children(".canvas");
      definition.removeClass("element-being-edited");
      var terminput = $(this).find("input");
      var termval = terminput.val().trim();
      if (termval != '') {
        definition.find(".term .hint-text").replaceWith(termval);
      }
      terminput.val("");
    },
    buttons: {
      "Save": function() {
        $( this ).dialog("close");
      },
      Cancel: function() {
        $( this ).dialog("close");
      }
    }
  });

  $("#glossary-confirm-move").dialog({
    width: 600,
    autoOpen: false,
    modal: true,
    zIndex: 500,
    open: function(){
      $(this).data("definition").children().addClass("element-being-edited");
    },
    close: function(){
      $(this).data("definition").children().removeClass("element-being-edited");
    },
    buttons: {
      "Yes, move to glossary": function() {
        var def = $(this).data("definition");
        $(this).dialog("close");
        var defclone = def.clone();
        cwLeave(defclone,'','');
        defclone.appendTo("#sidebar");
        var defpos = def.position();
        def.css("visibility","hidden");
        defclone.css("position","absolute");
        defclone.css("left",defpos.left - 20 + 'px');
        defclone.css("top", defpos.top - $(window).scrollTop() - 53 + 'px');
        defclone.css("background-color", "#ffffff");
        defclone.css("border", "1px solid #bbbbbb");
        defclone.css("width", def.width() + "px");
        defclone.css("height", def.height() + "px");
        defclone.css("font-size", "1em");
        defclone.css("overflow", "hidden");
        defclone.find("h2,h3,h4,h5,h6").css("margin", "0");
        defclone.find("h2,h3,h4,h5,h6").css("font-size", "1em");
//        var defblock = $("#sidebar .definition-block");
        var defblock = $("#toolbox .definition-block");
        var defblockpos = defblock.position();
        $(".canvas-wrap").die("mouseenter mouseleave"); // Temporarily kill (turn back on when animation ends)
        defclone.animate({
          left: defblockpos.left + defblock.outerWidth() - 10 + 'px',
          top: defblockpos.top + 20 + 'px',
          width: defblock.outerHeight() + 'px',
          height: defblock.outerHeight() + 'px',
        },1400, function(){
          $(this).remove();
          $(".canvas-wrap").live("mouseenter", function(e){
            cwEnter($(this),e);
          });
          $(".canvas-wrap").live("mouseleave", function(e){
            cwLeave($(this),"",e);
          });
          $("#sidebar .definition-block .count-total").effect("highlight", { color: "#C5DAE9" }, 1400);
//          $("#toolbox .definition-block .count-total").effect("highlight", { color: "#C5DAE9" }, 1400);
          adjustCount(def,'definition','Definition','Glossary');
        });
        def.slideUp("slow", function(){
          $(this).remove();
        });
      },
      Cancel: function() {
        $(this).dialog("close");
      }
    }
  });

  $("#ioo").dialog({
    width: 720,
    autoOpen: false,
    modal: true,
    zIndex: 500,
    open: function(){
      var mi  = $(this).data("mi");
      var image = mi.find(".image");
      var proportion = image.width() / image.height();
      $("#ioo-width").val(Math.round(image.width()));
      $("#ioo-height").val(Math.round(image.height()));
      $("#ioo-proportion").val(proportion);
      var alt = image.attr("alt");
      $("#ioo-alt textarea").val(alt);
      if (alt.trim() != '') {
        $("#alt-warning-upload-2").hide();
      }
      mi.addClass("element-being-edited");
    },
    close: function(){
      var mi  = $(this).data("mi");
      var image = mi.find(".image");
      $("#ioo-width").val("");
      $("#ioo-height").val("");
      $("#ioo-alt textarea").val("");
      $("#ioo-proportion").val("1");
      mi.removeClass("element-being-edited");
    },
    buttons: {
      "Save": function() {
        var mi = $(this).data("mi");
        var image = mi.find(".image");
        var iw = $("#ioo-width").val();
        var ih = $("#ioo-height").val();
        var ia = $("#ioo-alt textarea").val();
        image.css("width",iw + "px");
        image.css("height",ih + "px");
        if (ia.trim() != '') {
          image.attr("alt",ia);
          image.closest(".media-inner-plus-alt").children(".alt-warning-wrap").remove();
        }
        $(this).dialog("close");
      },
      Cancel: function() {
        $(this).dialog("close");
      }
    }
  });

  $("#ioo-width, #ioo-height").keydown(function(e) { // From "Robert" at http://stackoverflow.com/a/3737110/752122
    var a=[8,9,13,16,17,18,20,27,35,36,37,38,39,40,45,46,91,92];
    var k = e.which;
    for (i = 48; i < 58; i++)
        a.push(i);
    for (i = 96; i < 106; i++)
        a.push(i);    
    if (!(a.indexOf(k)>=0))
        e.preventDefault();
  });
  $("#ioo-width, #ioo-height, #ioo-proportional").live("keyup click", function(e) {
    if ($("#ioo-proportional").is(":checked")) {
      var proportion = $("#ioo-proportion").val();
      if ($(this).attr("id") == "ioo-height") {
        $("#ioo-width").val(Math.round($(this).val() * proportion))
      } else {
        $("#ioo-height").val(Math.round($("#ioo-width").val() / proportion))
      }
    }
  });

  $("#image-options").dialog({
    width: 700,
    autoOpen: false,
    modal: true,
    zIndex: 500,
    open: function(){
    },
    close: function(){
      unSelectIcon($("#toolbar-image"),$(this).data('e'));
      resetImageDialogs();
      $(".edit-element-menu").remove();
    },
    buttons: {
      "Back": {
        text: 'Back',
        class: 'image-back', 
        click: function() {
          $("#image-options-step-2").hide();
          $("#image-options-step-1").show();
          $(".image-back").hide();
          $(".image-forward").text("Next").removeClass("disabled");
        }
      }, 
      "Next": {
        text: 'Next',
        class: 'image-forward disabled', 
        click: function() {
          // On the first step (choosing an image, caption, alt text)
          if ($("#image-options-step-1").is(":visible")) {
            if ($(".image-forward").hasClass("disabled")) {
              $("#drag-image").addClass("warning3");
              return false;
            } else {
              var reuseUrl = $("#upload-url input[type='text']").val();
              $("#reuse-url").val(reuseUrl);
              if (reuseUrl != '') $("#rft-url").show().find("a").attr("href",reuseUrl.trim());
              $("#image-options-step-1").hide();
              $("#image-options-step-2").show();
              $(".image-back").show();
              $(".image-forward").text("Insert Image");
              if (!$("input[name='img-perms']:checked").val()) $(".image-forward").addClass("disabled");
            }
          // On the second step (image source)
          } else {
            if ($(".image-forward").hasClass("disabled")) {
              $("#img-perms-required").addClass("warning");
              return false;
            } else {
              var div = $(this).data("div");
              var alt = $("#enter-alt input").val().trim();
              var altwarn = '';
              if (alt == '') {
                altwarn = '<span class="alt-warning-wrap">\
                            <img class="alt-warning" src="content_files/warning-01.png">\
                            <span class="alt-warning-text">Description missing</span>\
                          </span>';
              }
              var captionText = $("#image-dialog-caption input").val().trim();
              var captionHtml = '\
                <div class="media-caption" style="display: block;">\
                  <span class="cnx_label">Figure 1</span>\
                  <div class="media-caption-removable">\
                    <span class="media-caption-close" title="Remove caption"><img src="content_files/remove-element-08.png"/></span>\
                    <span class="hint-text">Add a caption for this image (optional)</span>\
                  </div>\
                  <div style="clear: both\;"></div>\
                </div>\
              ';
              if (captionText != '') {
                captionHtml = '\
                  <div class="media-caption" style="display: block;">\
                    <span class="cnx_label">Figure 1:</span>\
                    <div class="media-caption-removable">\
                      <span class="media-caption-close" title="Remove caption"><img src="content_files/remove-element-08.png"/></span>\
                      <div class="media-caption-text content-editable" contenteditable="true">' + captionText + '</div>\
                    </div>\
                    <div style="clear: both\;"></div>\
                  </div>\
                ';
              }
              var selectedImg = $("#drag-image").css("background-image").trim();
              if (selectedImg.charAt(4) == "'" || selectedImg.charAt(4) == '"') {
                selectedImg = selectedImg.substring(5,selectedImg.length - 2);
              } else {
                selectedImg = selectedImg.substring(4,selectedImg.length - 1); // Chrome doesn't include quotes as part of .css("background-image"), apparently
              }
              selectedImg = '<img src="' + selectedImg + '" class="image content-editable" contenteditable="true" width="200" alt="' + alt + '"/>'; // The width for KEF.
              var imgWrap = '<span class="media-inner-plus-alt">\
                ' + altwarn + '\
                  <span class="media-inner content-editable" contentEditable="true">\
                  ' + selectedImg + '\
                  <span class="image-options" contenteditable="false">\
                    <span class="image-add-options">\
                      <label class="image-options-add">Add:</label>\
                      <a href="#asaefafedfas" class="image-options-title">Title</a>\
                      &#183;\
                      <a href="#asdsdfasdfs" class="image-options-caption">Caption</a>\
                    </span>\
                    <a href="#adsfasasdfas" class="image-options-options">\
                      More options ...\
                    </a>\
                  </span>\
                </span>\
              </span>\
              ';
              if (div.attr("id") == "ImageNew") {
                // As a new figure somewhere in the document.
                div.replaceWith('\
                <div class="canvas-wrap" id="ImageNew" contenteditable="false">\
                  <div class="canvas canvas-unhovered figure">\
                    <div class="canvas-inner">\
                <div class="media-block" contenteditable="false">\
                  <div class="media-title">\
                    <span class="media-title-close" title="Remove title"><img src="content_files/remove-element-08.png"/></span>\
                    <div class="hint-text">Add a title for this image (optional)</div>\
                  </div>\
                  <table class="media-table" contentEditable="false">\
                    <tbody>\
                      <tr>\
                        <td class="media-table-add add-image">\
                          <div>\
                            Click to add another image here\
                          </div>\
                        </td>\
                        <td style="width: 200px\; padding: 0 16px\;">\
                          ' + imgWrap + '\
                        </td>\
                        <td class="media-table-add add-image">\
                          <div>\
                            Click to add another image here\
                          </div>\
                        </td>\
                      </tr>\
                    </tbody>\
                  </table>\
                  ' + captionHtml + '\
                </div>\
                    </div>\
                  </div>\
                </div>\
                ');
                addHandles($("#ImageNew"),'figure');
                $("#ImageNew").removeAttr("id");
              } else {
                // As a subfigure next to an existing one 
                if (div.closest("td").index() == 0) {
                  div.closest("td").after('<td style="width: 200px\; padding: 0 16px\;">' + imgWrap + '</td>');
                } else {
                  div.closest("td").before('<td style="width: 200px\; padding: 0 16px\;">' + imgWrap + '</td>');
                }
              }
              $(this).dialog("close");
            }
          }
        }
      },
      Cancel: function() {
        $(this).dialog("close");
      }
    }
  });


  $("#video-options").dialog({
    width: 700,
    autoOpen: false,
    modal: true,
    zIndex: 500,
    open: function(){
    },
    close: function(){
      unSelectIcon($("#toolbar-video"),$(this).data('e'));
      resetVideoDialogs();
      $(".edit-element-menu").remove();
    },
    buttons: {
      "Back": {
        text: 'Back',
        class: 'video-back', 
        click: function() {
          $("#video-options-step-2").hide();
          $("#video-options-step-1").show();
          $(".video-back").hide();
          $(".video-forward").text("Next").removeClass("hidden");
        }
      }, 
      "Next": {
        text: 'Next',
        class: 'video-forward hidden', 
        click: function() {
          // On the first step (choosing an image, caption, alt text)
          if ($("#video-options-step-1").is(":visible")) {
            $("#video-options-step-1").hide();
            $("#video-options-step-2").show();
            $(".video-back").show();
            $(".video-forward").text("Insert Video");
          // On the second step (confirm thumbnail and add/edit caption)
          } else {
              var div = $(this).data("div");
              var captionText = $("#video-dialog-caption input").val().trim();
              var captionHtml = '\
                <div class="media-caption" style="display: block;">\
                  <span class="cnx_label">Figure 1</span>\
                  <div class="media-caption-removable">\
                      <span class="media-caption-close" title="Remove caption"><img src="content_files/remove-element-08.png"/></span>\
                    <span class="hint-text">Add a caption for this video (optional)</span>\
                  </div>\
                  <div style="clear: both\;"></div>\
                </div>\
              ';
              if (captionText != '') {
                captionHtml = '\
                  <div class="media-caption" style="display: block;">\
                    <span class="cnx_label">Figure 1:</span>\
                    <div class="media-caption-removable">\
                      <span class="media-caption-close" title="Remove caption"><img src="content_files/remove-element-08.png"/></span>\
                      <div class="media-caption-text content-editable" contenteditable="true">' + captionText + '</div>\
                    </div>\
                    <div style="clear: both\;"></div>\
                  </div>\
                ';
              }
//            var selectedVid = '<iframe width="560" height="315" src="http://www.youtube.com/embed/kpCJyQ2usJ4" frameborder="0" allowfullscreen></iframe>'
//            var selectedVid = '<span class="image" style="height: 315px"><iframe width="560" height="315" src="http://www.youtube.com/embed/60OVlfAUPJg" frameborder="0" allowfullscreen></iframe></span>'
              var selectedVid = '<span class="image" style="height: 315px"><object width="560" height="315"><param name="movie" value="http://www.youtube.com/v/60OVlfAUPJg?hl=en_US&amp;version=3"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="http://www.youtube.com/v/60OVlfAUPJg?hl=en_US&amp;version=3" type="application/x-shockwave-flash" width="560" height="315" allowscriptaccess="always" allowfullscreen="true"></embed></object></span>'
              var vidWrap = '\
                <span class="media-inner-plus-alt">\
                  <span class="media-inner content-editable" contentEditable="true">\
                  ' + selectedVid + '\
                  <span class="image-options" contenteditable="false">\
                    <span class="image-add-options">\
                      <label class="image-options-add">Add:</label>\
                      <a href="#asaefafedfas" class="image-options-title">Title</a>\
                      &#183;\
                      <a href="#asdsdfasdfs" class="image-options-caption">Caption</a>\
                    </span>\
                    <a href="#adsfasasdfas" class="image-options-options">\
                      More options ...\
                    </a>\
                  </span>\
                </span>\
              </span>\
              ';
              if (div.attr("id") == "VideoNew") {
                // As a new figure somewhere in the document.
                div.replaceWith('\
                <div class="canvas-wrap" id="VideoNew" contenteditable="false">\
                  <div class="canvas canvas-unhovered figure">\
                    <div class="canvas-inner">\
                <div class="media-block" contenteditable="false">\
                  <div class="media-title">\
                    <span class="media-title-close" title="Remove title"><img src="content_files/remove-element-08.png"/></span>\
                    <div class="hint-text">Add a title for this video (optional)</div>\
                  </div>\
                  <table class="media-table" contentEditable="false">\
                    <tbody>\
                      <tr>\
                        <td class="media-table-add add-video">\
                          <div>\
                            Click to add another video here\
                          </div>\
                        </td>\
                        <td style="padding: 0 16px\;">\
                          ' + vidWrap + '\
                        </td>\
                        <td class="media-table-add add-video">\
                          <div>\
                            Click to add another video here\
                          </div>\
                        </td>\
                      </tr>\
                    </tbody>\
                  </table>\
                  ' + captionHtml + '\
                </div>\
                    </div>\
                  </div>\
                </div>\
                ');
                addHandles($("#VideoNew"),'figure');
                $("#VideoNew").removeAttr("id");
              } else {
                // As a subfigure next to an existing one 
                if (div.closest("td").index() == 0) {
                  div.closest("td").after('<td style="width: 200px\; padding: 0 16px\;">' + vidWrap + '</td>');
                } else {
                  div.closest("td").before('<td style="width: 200px\; padding: 0 16px\;">' + vidWrap + '</td>');
                }
            }
              $(this).dialog("close");
          }
        }
      },
      Cancel: function() {
        $(this).dialog("close");
      }
    }
  });


  $("#enter-alt input").live("keyup", function(e){
    if ($(this).val().trim() != '') {
      $("#alt-warning-upload").hide();
    } else {
      $("#alt-warning-upload").show();
    }
  });

  $("#ioo-alt textarea").live("keyup", function(e){
    if ($(this).val().trim() != '') {
      $("#alt-warning-upload-2").hide();
    } else {
      $("#alt-warning-upload-2").show();
    }
  });

  function resetImageDialogs() {
      var imageTempText = $("#ImageNew").text();
      $("#ImageNew").replaceWith(imageTempText)
      // Set form back to empty
      $("#image-options-step-2").hide();
      $("#image-options-step-1").show();
      $("#image-dialog-title input").val('');
      $("#image-dialog-caption input").val('');
      $("#drag-image").css("background-image","none");
      $("#drag-image").removeClass("invisible warning3");
      $("#image-try-over").remove();
      $("#upload-url").hide();
      $("#upload-url input[type='text']").val('');
      $("#enter-alt input").val('');
      $("#alt-warning-upload").show();
      $(".image-forward").addClass("disabled");
      $(".image-forward").text("Next");
      $(".image-back").hide();
      $("#image-options").removeData("ip");
      $("input[name='img-perms']").each(function(e){
        this.checked = false;
      });
      $("#img-perms-required").removeClass("warning");
      $("#drag-image").removeClass("warning3");
      $("#reuse-author").val('');
      $("#reuse-url").val('');
      $("#reuse-license")[0].selectedIndex = 0;
      $("#include-in-footnote").attr("checked", true);
      $("#reuse-footnote-edit").attr("checked", false);
      $("#reuse-footnote-text").addClass("disabled");
      $("#reuse-footnote-text").attr("contentEditable","false");
      $("#reuse-footnote-text span").hide();
  }

  function resetVideoDialogs() {
      var videoTempText = $("#VideoNew").text();
      $("#VideoNew").replaceWith(videoTempText);
      // Set form back to empty
      $("#youtube").click();
      $(".video-results-results").hide();
      $(".video-results-results tr").removeClass("selected");
      $("#vid-us-url").click();
      $("#video-options-step-2").hide();
      $("#video-options-step-1").show();
      $("#video-dialog-title input").val('');
//      $("#video-dialog-caption input").val('');
//      $("#video-try-over").remove();
      $("#video-url input[type='text']").val('');
      $(".video-results-buttons input[type='text']").val('');
      $(".video-forward").addClass("hidden");
      $(".video-forward").text("Next");
      $(".video-back").hide();
      $("#video-options").removeData("ip");
      $("input[name='vid-perms']").each(function(e){
        this.checked = false;
      });
      $("#vid-perms-required").removeClass("warning");
      $("#video-reuse-author").val('');
      $("#video-reuse-url").val('');
      $("#video-reuse-license")[0].selectedIndex = 0;
      $("#video-include-in-footnote").attr("checked", true);
      $("#video-reuse-footnote-edit").attr("checked", false);
      $("#video-reuse-footnote-text").addClass("disabled");
      $("#video-reuse-footnote-text").attr("contentEditable","false");
      $("#video-reuse-footnote-text span").hide();
  }

  $("#link-options").dialog({
/* 
   TODO: 
   .cnxns
   "preview this link" link
   make newly-contstructed links editable and unlinkable
*/
    width: 600,
    autoOpen: false,
    modal: true,
    resizable: true,
    zIndex: 500,
    open: function(){
      var linkText = $(this).data("link").clone().children().remove().end().text(); // clone...end to remove children text
      var linkURL = $(this).data("link").attr("href");
      $("#link-text-input").val(linkText);
      $("#ltw-webpage-url").val(linkURL);
      if (true) { // this clearly needs to change
        $("#ltw-webpage").attr("checked", true);
        $("#ltw-webpage-url").focus();
      } else {
        $("#ltw-place").attr("checked", true);
      }
      var lbl = '';
      var ttl = '';
      var txt = '';
      $(".section-header:visible, .figure:visible, .table:visible, .example:visible, .rule:visible, .note:visible, .exercise:visible, .equation:visible, .quote:visible").each(function(e){
        // get label
        if ($(this).hasClass("equation")) {
          lbl = 'Equation ' + $(this).find(".equation-number").text().trim().replace('(','').replace(')','');
        } else if ($(this).hasClass("section-header")) {
          lbl = $(this).find(".cnx_label").text().trim() // doubtful that this will exist, but possible.
        } else if ($(this).hasClass("table")) {
          lbl = $(this).find(".table-text").find(".cnx_label").text().trim();
        } else if ($(this).hasClass("figure")) {
          lbl = $(this).find(".media-caption").find(".cnx_label").text().trim();
        } else {
          lbl = $(this).children().children("[class*='-header']").find(".cnx_label").text().trim();
        }
        if (lbl.length && lbl != '') {
          lbl = '<span class="cnx_label">' + lbl + ' </span>';
        } else {
          lbl = '';
        }
        // get title
        if ($(this).hasClass("section-header")) {
          ttl = $(this).find(".title").text().trim();
        } else if ($(this).hasClass("figure")) {
          ttl = $(this).find(".media-title-text").text().trim();
        } else {
          ttl = $(this).children().children("[class*='-header']").find(".title").clone().children().remove().end().text().trim(); // the .clone()....end() part to remove the 'Add a title' child
        }
        if (ttl.length && ttl != '') {
          ttl = '<strong class="title">' + ttl + ' </strong>';
        } else {
          ttl = '';
        }
        // get text
        if ($(this).hasClass("table")) {
          txt = $(this).find("thead, tbody").text().trim();
        } else if ($(this).hasClass("section-header")) {
          txt = '';
        } else if ($(this).hasClass("equation")) {
          txt = '';
        } else if ($(this).hasClass("figure")) {
          txt = $(this).find(".media-caption-text").text().trim();
        } else {
          txt = $(this).children().children("[class*='-contents']").text().trim();
        }
        if (txt.length && txt != '') {
          txt = '<span class="txt">' + txt + '</span>';
        } else {
          txt = '';
        }
        // put it all together
        $("#link-parts").append('<div class="linkable-part">' + lbl + ttl + txt + '</div>');
        var classes = new Array("section-header","figure","table","example","rule","note","exercise","equation","quote");
        for (var i=0; i < classes.length; i++) {
          if ($(this).hasClass(classes[i])) {
            $(".linkable-part").last().addClass("linkable-" + classes[i]);
          }
        }
      });
    },
    close: function(){
      // remove the hooks used to identify the currently-edited link
      $("#LinkNew").removeAttr("id");
      $(".LinkNew").removeClass("LinkNew");
      // reset values to default/empty
      $("#link-text-input").val('');
      $("#ltw-webpage-url").val('');
      $("#ltw-webpage-url").removeClass("disabled");
      $("#ltw-webpage-url").removeProp("disabled");
      $("#ltw-webpage").attr("checked", false);
      $("#ltw-place").attr("checked", false);
      $("#link-parts").empty();
      $("#link-parts").addClass("disabled");
      $("#link-parts-filters li").removeClass("selected");
      // return the toolbar icon to normal
      unSelectIcon($("#toolbar-link"),$("#link-options").data('e'));
    },
    buttons: {
      "Submit": {
        text: 'Submit',
        class: '', 
        click: function() {
          // apply the new link values
          var newLinkText = $("#link-text-input").val();
          var newLinkURL = $("#ltw-webpage-url").val();
          $("#LinkNew, .LinkNew").replaceWith('<a href="' + newLinkURL + '" class="link">' + newLinkText + '</a>')
          // Close the dialog (and everything that entails);
          $(this).dialog("close");
        }
      },
      Cancel: function() {
        $(this).dialog("close");
      }
    }
  });

  $("#link-parts, #link-parts-filters, #ltw-place").on("click", function(e){
    $("#ltw-place").attr("checked", true);
    $("#link-parts").removeClass("disabled");
    if (this.id == 'ltw-place') {
      $("#lp-all").click();
    }
    $("#ltw-webpage-url").addClass("disabled");
    $("#ltw-webpage-url").prop("disabled", true);
  });
  $("#ltw-place").on("click", function(e){
    $("#ltw-place").attr("checked", true);
    $("#link-parts").removeClass("disabled");
  });

  $(".linkable-part").live("mouseenter", function(e){
    $(this).addClass("hovered");
  });
  $(".linkable-part").live("mouseleave", function(e){
    $(this).removeClass("hovered");
  });
  $(".linkable-part").live("click", function(e){
    $(".linkable-part.selected").removeClass("selected");
    $(this).addClass("selected");
    $("#ltw-place").attr("checked", true);
    if (!$("#link-parts-preview").length) {
      $("#link-parts").after('<div id="link-parts-preview"><a href="#">Preview this link</a></div>');
    }
  });
  $("#ltw-webpage, #ltw-webpage-url").live("click", function(e){
    $(".linkable-part").removeClass("selected");
    $("#ltw-webpage").attr("checked", true);
    $("#ltw-webpage-url").removeClass("disabled");
    $("#ltw-webpage-url").prop("disabled", false);
    $("#link-parts").addClass("disabled");
    $("#link-parts-filters li").removeClass("selected");
    $("#link-parts-preview").remove();
  });
  $("#link-parts-preview a").live("click", function(e){
    return false;
  });
  $("#ltw-webpage-test a").live("click", function(e){
    window.open($("#ltw-webpage-url").val(), '_blank', 'width=800, height=600');
    return false;
  });

  $("#link-parts-filters li").live("click", function(e){
    var filter = this.id.substring(3,this.id.length - 1); // e.g. convert "lp-headers" to "header"
    if (filter != 'heade') { // "Show:"
      $("#link-parts .nothing-to-display").remove();
      $(".linkable-part").removeClass("selected");
      $("#link-parts-preview").remove();
      $("#link-parts div").hide();
      $("#link-parts-filters .selected").removeClass("selected");
      $(this).addClass("selected");
      if (filter == 'al') {  // "All"
        $("#link-parts div").show();
        if (!$("#link-parts div").length) {
          $("#link-parts").append('<div class="nothing-to-display">There are no other elements to link to</div>');
        }
      } else if (filter == 'othe') { // "Other"
        $("#link-parts .linkable-rule, #link-parts .linkable-exercise, #link-parts .linkable-note, #link-parts .linkable-equation, #link-parts .linkable-example, #link-parts .linkable-quote ").show();
        if (!$("#link-parts .linkable-rule, #link-parts .linkable-exercise, #link-parts .linkable-note, #link-parts .linkable-equation, #link-parts .linkable-example, #link-parts .linkable-quote").length) {
          $("#link-parts").append('<div class="nothing-to-display">There are no other elements to link to</div>');
        }
      } else {
        var filter2 = "#link-parts div.linkable-" + filter;
        $(filter2).show();
        if (!$(filter2).length) {
          if (filter == "section-header") {
            $("#link-parts").append('<div class="nothing-to-display">There are no section headings to link to</div>');
          } else {
            $("#link-parts").append('<div class="nothing-to-display">There are no ' + filter + 's to link to</div>');
          }
        }
      }
    }
  });

  $("#ascii-or-latex").dialog({
    width: 600,
    autoOpen: false,
    modal: true,
    zIndex: 500,
    open: function(){
    },
    close: function(){
        $(this).data("e").stopPropagation();
    },
    buttons: {
      "OK": function() {
        $(this).dialog("close");
        var aol = $("input[name=ascii-or-latex-radio]:checked").attr("id");
        $("[class*='-header']").die("mouseenter mouseleave"); // Turning hovers off (temporarily)
        $(".canvas-wrap").die("mouseenter mouseleave"); // Have to do this one separately from above, apparently
        $(".MathJax").die("mouseenter mouseleave");
        $("table caption").die("mouseenter mouseleave");
        cwLeave($(".canvas-wrap"),"special",e);
        $("#toolbar-math").addClass("selected");
        var e = $(this).data("e");
        var exText = $(this).data("exText");
        mathClickNew2(aol,exText,e);
        e.stopPropagation();
      },
      Cancel: function() {
        $(this).dialog("close");
        var exText = $(this).data("exText");
        if (exText.trim() == '&nbsp\;') {
          $("#MathJaxNew").remove();
        } else {
          $("#MathJaxNew").replaceWith(exText);
        }
        $("#toolbar-math").removeClass("selected");
        e.stopPropagation();
      }
    }
  });


  $("#hints-checkbox").click(function(e){
    if ( $(this).is(":checked") ) {
      $("#hints").addClass("selected");
      cthEnter($(".convert-to-header, .section-header"),e);
      $(".convert-to-header, .section-header").die("mouseenter mouseleave")
    } else {
      $("#hints").removeClass("selected");
      cthLeave($(".convert-to-header, .section-header"),e);
      $(".convert-to-header, .section-header").live("mouseenter", function(e){
        cthEnter($(this),e);
      });
      $(".convert-to-header, .section-header").live("mouseleave", function(e){
        cthLeave($(this),e);
      });
    }
    e.stopPropagation();
  });


  function cthEnter(cth,e) {
    if (!cth.find(".cth-list").length) {
      cth.children().append('<span class="edhint" contentEditable="false" title="Show menu to see more options"><span class="chevrons">&nbsp;</span><img src="content_files/menu-hint-right-edge-01.png"/></span>');
    }
  }
  function cthLeave(cth,e) {
    cth.children().children(".edhint").remove();
  }
  $(".convert-to-header").live("click", function(e){
    cthLeave($(this),e);
  });
  $(".convert-to-header .edhint, .section-header .edhint").live("click", function(e){
    if ($(this).next(".cth-list").length) {
      $(this).next(".cth-list").remove();
    } else {
      $(this).after('<ul class="cth-list" contentEditable="false"></ul>')
      $(this).next(".cth-list").append('<li class="cth-list-help"><a href="#" title="What\'s this?  Click to find out more about this feature.">(?)</a>Is this a heading? Choose level:</li>');
      $(this).next(".cth-list").append('<li class="cth-list-help-text-wrap">\
          <div class="cth-list-help-text">\
            <span class="cth-list-help-text-close"><img src="content_files/remove-element-08.png"/></span>\
            <p>\
              Section headings help readers understand the flow of the content and help visually-impaired learners listen to the document. \
              Section headings show up in the table of contents and you can easily make links to them.\
            </p>\
            <p style="display: none">\
              <strong>Why did this show up here?</strong>\
            </p>\
            <p style="display: none>\
              The text above this menu is a line of bold text. Often bold suggests a section heading. This menu provides a quick way to convert to a heading (or back to plain text).\
            </p>\
          </div>\
      ');
      var ish2 = $(this).closest("h2").length ? true : false;
      var ish3 = $(this).closest("h3").length ? true : false;
      var prevh2 = ish2 ? $(this).add($("h2.section-header:visible")).index($(this)) - 1 : $(this).add($("h2.section-header:visible")).index($(this));
      var prevh3 = ish3 ? $(this).add($("h3.section-header:visible")).index($(this)) - 1 : $(this).add($("h3.section-header:visible")).index($(this));
      $(this).next(".cth-list").append('<li class="cth-list-item cth-list-h2"><span class="cth-level">Section heading</span></li>');
      $(this).next(".cth-list").append('<li class="cth-list-item cth-list-h3 disabled" title="You cannot add a subsection at this level of the document"><span class="cth-level">Subsection heading</span></li>');
      if (prevh2 > 0) {
        $(this).next(".cth-list").find(".cth-list-h3").removeClass("disabled");
        $(this).next(".cth-list").find(".cth-list-h3").removeAttr("title");
      }
      $(this).next(".cth-list").append('<li class="cth-list-item cth-list-h4 disabled" title="You cannot add a subsubsection at this level of the document"><span class="cth-level">Subsubsection heading</span></li>');
      if (prevh3 > 0) {
        $(this).next(".cth-list").find(".cth-list-h4").removeClass("disabled");
        $(this).next(".cth-list").find(".cth-list-h4").removeAttr("title");
      }
      $(this).next(".cth-list").append('<li class="cth-list-item cth-list-regular"><span class="cth-level">Just bold <span style="font-weight: normal">(not a heading)</span></span></li>');
      if ($(this).closest(".section-header:visible").length) {
        $(this).next(".cth-list").find("cth-list-regular").removeClass("disabled");
      }
      if ($(this).closest("h2:visible").length) {
        $(this).next(".cth-list").find(".cth-list-h2").addClass("selected");
      } else if ($(this).closest("h3:visible").length) {
        $(this).next(".cth-list").find(".cth-list-h3").addClass("selected");
      } else if ($(this).closest("h4:visible").length) {
        $(this).next(".cth-list").find(".cth-list-h4").addClass("selected");
      } else {
        $(this).next(".cth-list").find(".cth-list-regular").addClass("selected");
      }
      $(this).closest(".convert-to-header, .section-header").find(".edhint").remove();
    }
  });
  $(".cth-list-item").live("click", function(e){
    var cvt = $(this).closest(".convert-to-header, .section-header");
    var cls = $(this).removeClass("selected hovered").attr("class");
    var level = cls.substring(cls.length -2, cls.length); // may result in "ar" for regular text, as opposed to h2, h3, h4
    cvt.find(".cth-list").remove();
    cvt.find(".edhint").remove();
    var content = cvt.children(".emphasis, .title").contents();
    if (level == 'ar') { // Change back to regular text
      content.unwrap().unwrap().wrap('<div class="para content-editable convert-to-header" contenteditable="true"><em class="emphasis"></em></div>');
    } else {
      content.unwrap().unwrap().wrap('<' + level + ' class="section-header"><strong class="title content-editable" contenteditable="true"></strong></' + level + '>');
    }
    content.parent().parent().effect("highlight", { color: "#C5DAE9" }, 800);
    if ($("#hints-checkbox").is(":checked")) {
      cthEnter(content.closest(".convert-to-header, .section-header"),e);
    }
  });
  $(".cth-list-item").live("mouseenter", function(e){
    $(this).addClass("hovered");
  });
  $(".cth-list-item").live("mouseleave", function(e){
    $(this).removeClass("hovered");
  });
//$("dfn.term .edhint, .emphasis .edhint, .selected-text .edhint, .foreign .edhint, .codeline .edhint, .cite .edhint").live("click", function(e){
  $(".term .edhint, .emphasis .edhint, .selected-text .edhint, .foreign .edhint, .codeline .edhint").live("click", function(e){
//  var cvt = $(this).closest("dfn.term, .emphasis, .selected-text, .foreign, .codeline, .cite");
    var cvt = $(this).closest(".term, .emphasis, .selected-text, .foreign, .codeline");
console.log(cvt);
    cvt.removeClass("temp-select");
    cvt.addClass("selected");
//  if (cvt.is(".emphasis, .term, .foreign, .codeline, .cite")) {
    if (cvt.is(".emphasis, .term, .foreign, .codeline")) {
      $(".selected-text-text").contents().unwrap().unwrap();
      cvt.contents().wrap('<span class="selected-text-text"></span>');
    }
    selectText(".selected-text-text");
    if ($(this).next(".ctt-list").length) {
      $(this).next(".ctt-list").remove();
    } else {
      $(this).after('<ul class="ctt-list" contentEditable="false"></ul>')
      $(this).next(".ctt-list").append('<li class="ctt-list-help">\
         <a href="#" title="What\'s this?  Click to find out more about this feature.">(?)</a>\
         Format the selected text (optional):\
        </li>');
      $(this).next(".ctt-list").append('<li class="ctt-list-help-text-wrap">\
          <div class="ctt-list-help-text">\
            <span class="ctt-list-help-text-close"><img src="content_files/remove-element-08.png"/></span>\
            <p>\
              <strong>Why did this show up here?</strong>\
            </p>\
            <p>\
              This menu appears under key terms or emphasized text.\
              It provides a quick way to change the styling of words or phrases, or mark them as key \
              terms, taking advantage of extra features that key terms support.\
            </p>\
            <p>\
              <strong>Why format text as a key term?</strong>\
            </p>\
            <p>\
              If you mark words or phrases as key terms, you can easily attach definitions to these terms, and include the terms automatically in an index.\
            </p>\
          </div>\
      ');
      $(this).next(".ctt-list").append('<li class="ctt-list-item ctt-list-term"><span class="ctt-level">key term</span></li>');
      $(this).next(".ctt-list").append('<li class="ctt-list-item ctt-list-foreign">foreign text</li>');
      $(this).next(".ctt-list").append('<li class="ctt-list-item ctt-list-code">code font</li>');
//      $(this).next(".ctt-list").append('<li class="ctt-list-item ctt-list-citation">citation</li>');
      $(this).next(".ctt-list").append('<li class="ctt-list-item ctt-list-unformatted">unformatted</li>');
      if ($(this).closest(".term").length) {
        $(this).next(".ctt-list").find(".ctt-list-term").addClass("selected");
      } else if ($(this).closest(".foreign").length) {
        $(this).next(".ctt-list").find(".ctt-list-foreign").addClass("selected");
      } else if ($(this).closest(".codeline").length) {
        $(this).next(".ctt-list").find(".ctt-list-code").addClass("selected");
//    } else if ($(this).closest(".cite").length) {
//      $(this).next(".ctt-list").find(".ctt-list-citation").addClass("selected");
      } else if ($(this).closest(".selected-text").length) {
        $(this).next(".ctt-list").find(".ctt-list-unformatted").addClass("selected");
      }
      cvt.find(".edhint").remove();
    }
    return false;
  });

function selectText(element) { // From Jason (with some edits) at http://stackoverflow.com/questions/985272/jquery-selecting-text-in-an-element-akin-to-highlighting-with-your-mouse
    var doc = document
//      , text = doc.getElementById(element)
        , text = $(element).first().get(0)
        , range, selection
    ;    
    if (doc.body.createTextRange) { //ms
        range = doc.body.createTextRange();
        range.moveToElementText(text);
        range.select();
    } else if (window.getSelection) { //all others
        selection = window.getSelection();        
        range = doc.createRange();
        range.selectNodeContents(text);
        selection.removeAllRanges();
        selection.addRange(range);
    }
}

  function preventSelection(){  // Found this on stackoverflow, but no longer remember exactly where in order to attribute it. Doh!
var sel ;
if(document.selection && document.selection.empty){
document.selection.empty() ;
} else if(window.getSelection) {
sel=window.getSelection();
if(sel && sel.removeAllRanges)
sel.removeAllRanges() ;
}
  }

  $(".ctt-list").live("click", function(e){
    preventSelection();
    selectText(".selected-text-text");
    return false;
  });
  $(".ctt-list").live("mouseup", function(e){
    return false;
  });
$(".ctt-list-item").live("click", function(e){
//  $(".ctt-list-item").on("click", event.data.mouseleave, null, function(e){
//console.log(ev
    preventSelection();
    $(this).parent().children().removeClass("selected");
    $(this).addClass("selected");
    if ($(".ctt-list-help-text").is(":visible")) {
      cthListHelpToggle($(".ctt-list-help-text"),e);
    }
//  var cvt = $(this).closest("dfn.term, .emphasis, .selected-text, .foreign, .codeline, .cite");
    var cvt = $(this).closest(".term, .emphasis, .selected-text, .foreign, .codeline");
/*
    var pa = cvt.hasClass("place-above") ? "place-above" : "";
    var pl = cvt.hasClass("place-left")  ? "place-left"  : "";
    var pclass = pa + " " + pl;
*/
    cvt.removeClass("term emphasis selected-text foreign codeline");
    if (cvt.find(".fake-out").length) {
      cvt.find(".fake-out").children().unwrap();
    }
    if ($(this).hasClass("ctt-list-term")) {
//      cvt.wrapInner('<dfn class="term selected"></dfn>');
//      cvt.children().addClass(pclass).unwrap();
      cvt.addClass("term");
    } else if ($(this).hasClass("ctt-list-foreign")) {
//      cvt.wrapInner('<span class="foreign selected"></span>');
//      cvt.children().addClass(pclass).unwrap();
      cvt.addClass("foreign");
    } else if ($(this).hasClass("ctt-list-code")) {
//      cvt.wrapInner('<code class="codeline selected"></code>');
//      cvt.children().addClass(pclass).unwrap();
      cvt.addClass("codeline");
    } else if ($(this).hasClass("ctt-list-citation")) {
//      cvt.wrapInner('<cite class="cite selected"></cite>');
//      cvt.children().addClass(pclass).unwrap();
      cvt.addClass("cite");
    } else { // unformatted
//      cvt.wrapInner('<span class="selected-text selected"></span>');
//      cvt.find(".selected-text").addClass(pclass);
      cvt.addClass("selected-text");
      cvt.find(".ctt-list").wrap('<div class="fake-out"></div>');
//console.log(cvt.find(".fake-out").length);
//console.log(cvt.find(".fake-out").length);
cvt.find(".fake-out").mouseenter();
      cvt.find(".fake-out").css({
        width: cvt.width(),
        height: cvt.height(),
      });
//      cvt.children().unwrap();
    }
//  copyEvents(cvt, cvt.children());
//  cvt.children().addClass(pclass).bind("mouseleave").unwrap();
//  cvt.children().addClass(pclass).unwrap();
//  cttLiClick($(this),e);
//console.log(cvt);
    $(this).mouseenter();
    selectText(".selected-text-text");
    return false;
  });

/*
$(".ctt-list-itemTEMPORARILYDISABLEDSEEABOVE").live("click", function(e){
    preventSelection();
    $(this).parent().children().removeClass("selected");
    $(this).addClass("selected");
    if ($(".ctt-list-help-text").is(":visible")) {
      cthListHelpToggle($(".ctt-list-help-text"),e);
    }
//  var cvt = $(this).closest("dfn.term, .emphasis, .selected-text, .foreign, .codeline, .cite");
    var cvt = $(this).closest(".term, .emphasis, .selected-text, .foreign, .codeline");
    var pa = cvt.hasClass("place-above") ? "place-above" : "";
    var pl = cvt.hasClass("place-left")  ? "place-left"  : "";
    var pclass = pa + " " + pl;
    cvt.find(".fake-out").children().unwrap();
    if ($(this).hasClass("ctt-list-term")) {
      cvt.wrapInner('<dfn class="term selected"></dfn>');
//      cvt.children().addClass(pclass).unwrap();
    } else if ($(this).hasClass("ctt-list-foreign")) {
      cvt.wrapInner('<span class="foreign selected"></span>');
//      cvt.children().addClass(pclass).unwrap();
    } else if ($(this).hasClass("ctt-list-code")) {
      cvt.wrapInner('<code class="codeline selected"></code>');
//      cvt.children().addClass(pclass).unwrap();
    } else if ($(this).hasClass("ctt-list-citation")) {
      cvt.wrapInner('<cite class="cite selected"></cite>');
//      cvt.children().addClass(pclass).unwrap();
    } else { // unformatted
      cvt.wrapInner('<span class="selected-text selected"></span>');
//      cvt.find(".selected-text").addClass(pclass);
      cvt.find(".ctt-list").wrap('<div class="fake-out"></div>');
      cvt.find(".fake-out").css({
        width: cvt.width(),
        height: cvt.height(),
      });
//      cvt.children().unwrap();
    }
//  copyEvents(cvt, cvt.children());
//  cvt.children().addClass(pclass).bind("mouseleave").unwrap();
//  cvt.children().addClass(pclass).unwrap();
//  cttLiClick($(this),e);
    selectText(".selected-text-text");
    return false;
  });
*/


  function copyEvents(oldEl,newEl) { // Made from post by "BBonifield" at http://stackoverflow.com/questions/2337521/copy-events-from-one-elm-to-other-using-jquery
var events = oldEl.data("events");
var events = $._data(document, "events")
console.log(events);
//console.log(document.data("events"));
if ( events ) {
    for ( var eventType in events ) {
        for ( var idx in events[eventType] ) {
            // this will essentially do new.click( fn ) for each bound event
            newEl[ eventType ]( events[eventType][idx].handler );
        }
    }
}
}

  function cttLiSubHover(cttli,e){
//console.log("asdf");
//  var cvt = cttli.closest("dfn.term, .emphasis, .selected-text, .foreign, .codeline, .cite");
    var cvt = cttli.closest(".term, .emphasis, .selected-text, .foreign, .codeline");
    if (cttli.hasClass("ctt-list-term")) {
        cttli.append('\
          <ul class="ctt-list-submenu ctt-list-term-submenu">\
            <li class="define-here"><strong style="font-weight: normal">Define now (optional)</strong></li>\
          </ul>\
        ');
/*
    } else if (cttli.hasClass("ctt-list-emphasis")) {
        $(".ctt-list-term-submenu").remove();
        $(".ctt-list-convertwrap-submenu").remove();
        cttli.append('\
          <ul class="ctt-list-submenu ctt-list-emphasis-submenu">\
            <li class="ctt-bold"><b>Bold</b></li>\
            <li class="ctt-italics"><i>Italics</i></li>\
            <li class="ctt-underline"><u>Underline</u></li>\
          </ul>\
        ');
*/
    }
  }
/*
  function cttLiClick(cttli,e){
  }
*/
  function cttLiSubRemove(cttli,e){
    cttli.find("ul").remove();
  }
  $(".ctt-list-item").live("mouseenter", function(e){
    $(this).addClass("hovered");
//console.log($(this).attr("class"));
    if($(this).hasClass("selected")) {
      cttLiSubHover($(this),e);
    }
  });
  $(".ctt-list-item").live("mouseleave", function(e){
    $(this).removeClass("hovered");
    if ($(this).hasClass("selected")) {
      cttLiSubRemove($(this),e);
    }
  });
  $(".ctt-list-submenu li").live("mouseenter", function(e){
    $(this).addClass("hovered");
    cttLiSubHover($(this),e);
  });
  $(".ctt-list-submenu li").live("mouseleave", function(e){
    $(this).removeClass("hovered");
    cttLiSubRemove($(this),e);
  });
  $(".define-here").live("click", function(e){
//  var cvt = $(this).closest("dfn.term, .emphasis, .selected-text, .codeline, .foreign, .cite");
    var cvt = $(this).closest(".term, .emphasis, .selected-text, .codeline, .foreign");
    var cvtp = cvt.closest(".para, .list, .canvas-wrap");
    cvt.find(".ctt-list").remove();
    cvt.find(".edhint").remove();
    var elemnum = cvtp.add($(".definition")).index(cvtp) + 1;
    var cvtt = cvt.text();
    cvt.contents().unwrap().wrap('<a href="Definition ' + elemnum + ': ' + cvtt + '" class="term cnxn"></a>');
    newDefinitionFromTerm(cvtt,cvtp,elemnum);
e.stopPropagation();
  });
  function newDefinitionFromTerm(termtext,termcontext,elemnum){
    var newelem = $('\
            <div class="canvas-wrap" contenteditable="false">\
              <div class="definition canvas canvas-unhovered">\
                <div class="canvas-inner">\
                  <h2 class="definition-header">\
                    <span class="cnx_label">Definition ' + elemnum + '</span>\
                    <span class="term content-editable" contentEditable="true">' + termtext + '</span>\
                  </h2>\
                  <div class="definition-contents" contenteditable="false">\
                    <div class="meanings">\
                      <div class="meaning">\
                        <div class="para content-editable" contenteditable="true">\
                          <span class="hint-text definition-hint-text">\
                            Type the meaning here\
                          </span>\
                        </div>\
                      </div>\
                      <div class="meaning add-meaning">\
                        <span class="hint-text add-meaning-hint-text">\
                          Click to add another meaning (optional)\
                        </span>\
                      </div>\
                    </div>\
                  </div>\
                  <div class="glossary-options" style="display: none">\
                    <span>Optional: </span><a href="#">Move this definition to the glossary</a>\
                  </div>\
                </div>\
              </div>\
            </div>\
    ').hide();
    termcontext.after(newelem);
    newelem = termcontext.next();
    addHandles(newelem,'definition');
    newelem.children(".canvas").uniqueId();
    adjustCount(newelem,'definition','Definition');
    newelem.stop().show("slow");
    newelem.effect("highlight", { color: "#E5EEF5" }, 1000);
    return false;
  }
  $(".ctt-list-emphasis-submenu li").live("click", function(e){
//  var cvt = $(this).closest("dfn.term, .emphasis, .selected-text, .codeline, .foreign, .cite");
    var cvt = $(this).closest(".term, .emphasis, .selected-text, .codeline, .foreign");
    $(this).closest(".ctt-list-emphasis").siblings().removeClass("selected");
    $(this).closest(".ctt-list-emphasis").addClass("selected");
    $(this).siblings().removeClass("selected");
    $(this).addClass("selected");
    var typeOfEm = 'em';
    if ($(this).text().indexOf('talic') > 0) typeOfEm = 'i';
    if ($(this).text().indexOf('nderline') > 0) typeOfEm = 'u';
    cvt.wrapInner('<' + typeOfEm + ' class="emphasis selected"></' + typeOfEm + '>');
    cvt.children().unwrap();
    return false;
  });

/*
function isTextSelected(input){ // By ShankarSangoli at http://stackoverflow.com/questions/9065828/javascript-check-if-text-selected
   var startPos = input.selectionStart;
   var endPos = input.selectionEnd;
   var doc = document.selection;
   if(doc && doc.createRange().text.length != 0){
      return true;
   }else if (!doc && input.value.substring(startPos,endPos).length != 0){
      return true;
   }
   return false;
}
*/

function saveSelection() {  // From Tim Down at http://stackoverflow.com/questions/3315824/preserve-text-selection-in-contenteditable-while-interacting-with-jquery-ui-dial
    if (window.getSelection) {
        sel = window.getSelection();
        if (sel.getRangeAt && sel.rangeCount) {
            return sel.getRangeAt(0);
        }
    } else if (document.selection && document.selection.createRange) {
        return document.selection.createRange();
    }
    return null;
}
function restoreSelection(range) {
    if (range) {
        if (window.getSelection) {
            sel = window.getSelection();
            sel.removeAllRanges();
            sel.addRange(range);
        } else if (document.selection && range.select) {
            range.select();
        }
    }
}

  function cttEnter(ctt,e) {

   var st = saveSelection();
/*
   var sts = $(st.startContainer).closest(ctt).length;
   var ste = $(st.endContainer).closest(ctt).length;
*/
   var stc = $(st.commonAncestorContainer).find(ctt).length;

//console.log(stc);
//st.extractContents();

   //        return container.nodeType === 3 ? container.parentNode : container;

// if (!sts && !ste || st.collapsed) {
   if (!stc || st.collapsed) {

    if (!ctt.find(".ctt-list").length) {

      //selectText(ctt);
      ctt.addClass("temp-select");
//    ctt.append('<span class="edhint" contentEditable="false" title="Click menu for more formatting options"><span class="chevrons">&nbsp;</span><img src="content_files/menu-hint-right-edge-02.png"/></span>');
      ctt.append('<span class="edhint" contentEditable="false" title="Click menu for more formatting options"><span class="chevrons">&nbsp;</span></span>');

      var eh = ctt.find(".edhint").last() // .last() because I am apparently creating multiples of these
      cttPlacement(ctt,eh,e);

    }
   }
  }

  function cttPlacement(ctt,eh,e){
    ctt.removeClass("place-above place-left");

    var distAbove = eh.offset().top - $(window).scrollTop() - $("#toolbar").outerHeight();
    if (eh.hasClass("fake-out")) distAbove = distAbove + 10;
    var distBelow = $(window).height() - distAbove;
    var distLeft  = eh.offset().left - $(window).scrollLeft();
    if (eh.hasClass("fake-out")) distLeft = distLeft + 10;
    var distRight = $(window).width() - distLeft;
//console.log("Above: " + distAbove + ", Below: " + distBelow + ", Left: " + distLeft + ", Right: " + distRight);
    if (distAbove > distBelow) {
      ctt.addClass("place-above");
    }
//  if (distLeft > distRight) {
    if (distRight < 500 && distLeft > distRight) { // 500 = submenu + help flyout
      ctt.addClass("place-left");
    }
//console.log(ctt.attr("class"));
  }

  function stEnter(ctt,e) {
    if (!ctt.find(".ctt-list").length) {
      var fow = ctt.find(".fake-out").width();
      ctt.find(".fake-out").append('<span class="edhint" contentEditable="false" title="Click menu for more formatting options">\
                    <span class="chevrons">&nbsp;</span>\
                  </span>').find(".edhint").css({
//                    'width': fow + 'px',
                  });
      var eh = ctt.find(".fake-out").last() // .last() because I am apparently creating multiples of these
      cttPlacement(ctt,eh,e);
    }
  }
  function stFadeIn(ctt,time,e) {
    if (!ctt.find(".ctt-list").length) {
      var fow = ctt.find(".fake-out").width();
      ctt.find(".fake-out").append('<span class="edhint" contentEditable="false" title="Click menu for more formatting options">\
                    <span class="chevrons">&nbsp;</span>\
                  </span>').find(".edhint").css({
//                    'width': fow + 'px',
//                }).hide().delay(500).fadeIn(time);
                  }).hide().fadeIn(time);
      var eh = ctt.find(".fake-out").last() // .last() because I am apparently creating multiples of these
      cttPlacement(ctt,eh,e);
    }
  }

  function cttLeave(ctt,e) {
//console.log("cttleave");
/*
console.log(ctt.find(".ctt-list"));
*/
    ctt.find(".ctt-list").remove();
//console.log("cttleave2");
    ctt.removeClass("temp-select");
    ctt.removeClass("selected");
    activateToolbar(e);  // to stop "bold" from staying selected
//    ctt.children(".edhint").hide();
    ctt.children(".edhint").remove();
    ctt.find(".selected-text-text").contents().unwrap();
  }

/*
  function stmDestroy(e) {
    var stm = $(".selected-text");
    stm.find(".ctt-list").remove();
    stm.removeClass("selected");
    activateToolbar(e);  // to stop "bold" from staying selected
    $(".selected-text").contents().unwrap();
  }
*/

  $(".cth-list").livequery(function(){
    $(this).hoverIntent({
      over: function(e){
      }, 
      out: function(e){
        $(this).remove();
      },
      timeout: 800,
    });
  });
  $(".convert-to-header, .section-header").livequery(function(){
    $(this).hoverIntent({
      over: function(e){
        cthEnter($(this),e);
        $(this).prepend('<span class="make-copy section-copy"><span class="make-copy-text">copy section</span></span>');
      }, 
      out: function(e){
        $(this).find(".cth-list").remove();
        cthLeave($(this),e);
        $(".make-copy").remove();
      },
      timeout: 600,
    });
  });
//$("dfn.term .ctt-list, .emphasis .ctt-list, .foreign .ctt-list, .codeline .ctt-list, .cite .ctt-list").livequery(function(){
  $(".term .ctt-list, .emphasis .ctt-list, .foreign .ctt-list, .codeline .ctt-list").livequery(function(){
//$(".term .ctt-list, .emphasis .ctt-list, .foreign .ctt-list, .codeline .ctt-list, .fake-out .ctt-list").livequery(function(){
    $(this).hoverIntent({
      over: function(e){
      }, 
      out: function(e){
//console.log("asdf");
//      cttLeave($(this).closest("dfn.term, .emphasis, .foreign, .codeline, .cite"),e);
        cttLeave($(this).closest(".term, .emphasis, .foreign, .codeline"),e);
//      cttLeave($(this).closest(".term, .emphasis, .foreign, .codeline, .fake-out"),e);
      },
      timeout: 1000,
    });
  });
//$("dfn.term, .emphasis, .foreign, .codeline, .cite").livequery(function(){
//$(".term, .emphasis, .foreign, .codeline").livequery(function(){
  $(".term:not('a'):not('.definition .term'), .emphasis, .foreign, .codeline").livequery(function(){
    $(this).hoverIntent({
      over: function(e){
        cttEnter($(this),e);
      }, 
      out: function(e){
        cttLeave($(this),e);
      },
      timeout: 400,
    });
  });
/*
  $("dfn.term, .emphasis, .foreign, .codeline, .cite").live("mouseleave", function(){
    $(this).removeClass("temp-select");
    $(this).find(".edhint").hide();
  });
*/
//$("dfn.term, .emphasis, .foreign, .codeline, .cite").live("click", function(){
  $(".term, .emphasis, .foreign, .codeline").live("click", function(){
    $(this).find(".edhint").remove();
    $(this).removeClass("temp-select");
  });
  $(".selected-text").livequery(function(){
    $(this).hoverIntent({
      over: function(e){
        stEnter($(this),e);
      }, 
      out: function(e){
      },
      timeout: 600,
    });
  });


  function imageOptionsPlacement(img,io,e) {
    // this centers the .image-options box under 
    var iow = io.outerWidth();
    var imgw = img.outerWidth();
      io.css("left", (iow / 2 - imgw / 2) * -1 );
  }

  function mediaInnerEnter(mi,e){
    var io = mi.children(".image-options");
    imageOptionsPlacement(mi.children(".image"),io,e);
    io.show();
  }
  function mediaInnerLeave(mi,e){
    mi.children(".image-options").hide();
  }
  $(".media-inner").live("mouseenter", function(e){
    mediaInnerEnter($(this),e);
  });
  $(".media-inner").live("mouseleave", function(e){
    mediaInnerLeave($(this),e);
  });


  $(".image-options .already-added").live("click", function(e){
    return false;
  });

  function imageOptionsTitleOrCaption(iol,mb,mi) {
    iol.closest(".image-options").hide();
    iol.addClass("already-added");
    iol.attr("title","This has already been added");
  }

  $(".image-options-title:not('.already-added')").live("click", function(e){

    var mb = $(this).closest(".media-block");
    var mi = $(this).closest(".media-inner");
    imageOptionsTitleOrCaption($(this),mb,mi);
    var mt = mb.find(".media-title");
    mt.addClass("hovered");
    mt.find(".media-title-close").show();

    mt.slideDown("fast", function(e){

      var imgw = mb.find(".image").outerWidth();
      if (mt.outerWidth() < imgw) mt.css("width",imgw - 28 + "px");
      mi.on("mouseenter", function(e){ // Turning back on
        mediaInnerEnter(mi,e);
      });
    });

    return false;

  });

  $(".image-options-caption:not('.already-added')").live("click", function(e){

    var mb = $(this).closest(".media-block");
    var mc = mb.find(".media-caption");

    $(this).closest(".image-options").hide();
    $(this).addClass("already-added");
    $(this).attr("title","This has already been added");

    addColonToLabel(mc);

    var mcr = mb.find(".media-caption-removable");
    mcr.slideDown("fast", function(){
      mc.addClass("hovered");
    });

    return false;

  });

  $(".media-caption").live("click", function(e){
    var mb = $(this).closest(".media-block");
    if (!$(this).find(".media-caption-text").length) {
      addColonToLabel($(this));
      $(this).find(".hint-text").replaceWith('<div class="content-editable media-caption-text" contentEditable="true">&nbsp\;</div>');
      mb.find(".image-options-caption").addClass("already-added");
      mb.find(".image-options-caption").attr("title","This has already been added");
    }
    $(this).find(".media-caption-text").focus();
    return false;
  });

  $(".media-caption").live("mouseenter", function(e){
    $(this).addClass("hovered");
    $(this).find(".media-caption-removable").show();
  });

  $(".media-caption").live("mouseleave", function(e){
    var mb = $(this).closest(".media-block");
    $(this).removeClass("hovered");
    var mct = $(this).find(".media-caption-text");
    if (mct.length && mct.text().trim() == '') {
      mct.replaceWith('<span class="hint-text">Add a caption for this image (optional)</span>');
      removeColonFromLabel($(this));
      mb.find(".image-options-caption").removeClass("already-added");
      mb.find(".image-options-caption").removeAttr("title");
    }
    $(this).find("*").blur();
    $(this).blur();
  });

  $(".media-caption-close").live("click", function(e){
    var mb = $(this).closest(".media-block");
    var mc = $(this).closest(".media-caption");
    var mcr = mc.find(".media-caption-removable");
    mcr.slideUp("fast", function(){
      if (mc.find(".media-caption-text").length) {
        mc.find(".media-caption-text").replaceWith('<span class="hint-text">Add a caption for this image (optional)</span>');
        removeColonFromLabel(mc);
      }
    });
    mb.find(".image-options-caption").removeClass("already-added");
    mb.find(".image-options-caption").removeAttr("title");
    return false;
  });

  function addColonToLabel(mc) {
    var mcl = mc.find(".cnx_label");
    var mclt = mcl.text().trim();
    if (mclt.substr(mclt.length - 1) != ":") {
      mcl.text(mclt + ": ");
    }
  }
  function removeColonFromLabel(mc) {
    var mclt = mc.find(".cnx_label").text().trim();
    if (mclt.substr(mclt.length - 1) == ":") {
      mc.find(".cnx_label").text(mclt.substring(0, mclt.length - 1));
    }
  }

  $(".media-title").live("click", function(e){
    if (!$(this).find(".media-title-text").length) {
      $(this).find(".hint-text").remove();
      $(this).append('<div class="content-editable media-title-text" contentEditable="true">&nbsp\;</div>');
    }
    $(this).find(".media-title-text").focus();
    return false;
  });
  $(".media-title").live("mouseenter", function(e){
    $(this).addClass("hovered");
  });
  $(".media-title").live("mouseleave", function(e){
    $(this).removeClass("hovered");
    var mtt = $(this).find(".media-title-text");
    if (mtt.length && mtt.text().trim() == '') {
      mtt.remove();
      $(this).append('<span class="hint-text">Add a title for this image (optional)</span>');
    }
    $(this).find("*").blur();
    $(this).blur();
  });
  $(".media-title-close").live("click", function(e){
    var mb = $(this).closest(".media-block");
    $(this).parent().slideUp();
    $(this).parent().addClass("hovered");
    if($(this).siblings(".media-title-text").length) {
      $(this).siblings(".media-title-text").remove();
      $(this).parent().append('<span class="hint-text">Add a title for this image (optional)</span>');
    }
    mb.find(".image-options-title").removeClass("already-added");
    mb.find(".image-options-title").removeAttr("title");

    return false;
  });

  $(".alt-warning-wrap").live("click", function(e){
    $("#alt-text").data("alt-warning",$(this)).dialog("open");
    return false;
  });

  $(".alt-warning-wrap").live("mouseenter", function(e){
    $(this).find(".alt-warning-text").text("Image is missing a description for the visually impaired. Click to provide one.");
    $(this).addClass("hovered");
  });
  $(".alt-warning-wrap").live("mouseleave", function(e){
    $(this).removeClass("hovered");
    $(this).find(".alt-warning-text").text("Description missing");
  });

  $("#alt-text").dialog({
    width: 600,
    autoOpen: false,
    modal: true,
    zIndex: 500,
    open: function(){
    },
    close: function(){
    },
    buttons: {
      "OK": function() {
        $(this).dialog("close");
        var altEntered = $("#alt-text").find("textarea").val().trim();
        $("#alt-text").find("textarea").val('');
        if (altEntered.length) {
          $(this).data("alt-warning").closest("media-inner-plus-alt").find(".image").attr("alt",altEntered);
          $(this).data("alt-warning").replaceWith('<span id="thanks">Thanks!</span>');
          $("#thanks").fadeOut(1450, function(e){
            $(this).remove();
          });
        }
        return false;
      },
      Cancel: function() {
        $(this).dialog("close");
        $("#alt-text").find("textarea").val('');
        return false;
      }
    }
  });

  $(".undo-unelemented a").live("click", function(e){
    $(this).parent().remove();
    return false;
  });

  $("#confirm-unelement").dialog({
    width: 600,
    autoOpen: false,
    modal: true,
    zIndex: 500,
    open: function(){
      var elementtype = $(this).data("elementtype");
      $(this).find("p").html('You have removed the special ' + elementtype + ' formatting, reverting the content to regular paragraphs(s). <strong>Keep this change?</strong>');
    },
    close: function(){
      var original = $(this).data("original");
      $(".unelemented").fadeOut("fast", function(){
        $(this).replaceWith(original.hide())
        original.fadeIn("fast");
      });
      return false;
    },
    buttons: {
      "OK": function() {
        $(".unelemented").contents().unwrap();
        $(this).dialog("close");
      },
      Cancel: function() {
        $(this).dialog("close");
      }
    }
  });


  $(".media-table-add").live("mouseenter", function(e){
        if ($(this).outerWidth() > 172) {
          $(this).siblings(".media-table-add").find("div").css({
            "display": "block",
            "visibility": "hidden",
          })
          $(this).find("div").show();
        }
  });
  $(".media-table-add").live("mouseleave", function(e){
        $(this).find("div").hide();
        $(this).siblings(".media-table-add").find("div").css({
          "display": "none",
          "visibility": "visible",
        })
  });

  $(".link, .cnxn").live("click", function(e){
    href = $(this).attr("href");
    $(this).append('\<div class="link-options" contenteditable="false">\
        <div class="link-information">\
          <a href="#" class="edit-link-icon" title="Change the link\'s text, location, or other properties"><img src="content_files/edit-link-03.png"/></a>\
          <a href="#" class="edit-link" title="Change the link\'s text, location, or other properties">Edit link</a>\
          <a href="#" class="unlink-link-icon" title="Remove the link, leaving just the text"><img src="content_files/unlink-link-02.png"/></a>\
          <a href="#" class="unlink-link" title="Remove the link, leaving just the text">Unlink</a>\
          <a href="' + href + '" target="_blank" class="visit-link" title="Visit the link in a new window or tab">' + href + '</a>\
          <a href="' + href + '" target="_blank" class="visit-link-icon" title="Visit the link in a new window or tab" style="text-decoration: none;"><img src="helper_files/external-link-03.png"/></a>\
        </div>\
      </div>');
    if (!href.match("^http")) { 
      $(this).find(".visit-link-icon").remove(); 
    }
    return false;
  });

  $(".unlink-link, .unlink-link-icon").live("click", function(e){
    var lnk = $(this).closest(".link, .cnxn");
    lnk.replaceWith(lnk.clone().children().remove().end().text());
  });

  $(".link-options").live("click", function(e){
    return false;
  });

  $(".visit-link").live("click", function(e){
    window.open($(this).attr("href"), "_blank");
    return false;
  });

  $("body").on("mouseup", function(e){
    toggleFormatText(e);
  });
  $("#canvas").on("mouseup", function(e){
    activateToolbar(e);
  });
  $("#canvas").on("keypress", function(e){
    var key = e.keyCode || e.which;
    if (key == 37 || key == 38 || key == 39 || key == 40) {
      activateToolbar(e);
    }
  });

  function toggleFormatText(e) {
    var cn = $(getSelectionContainerElement());
    var ftText = $("#toolbar-format-text").find(".toolbar-text");
    if (cn.closest("#canvas").length && cn.closest(".para, .item, .section-header, .codeblock, .preformat").length) {
      $("#toolbar-format-text").removeClass("disabled");
      if (cn.closest("h2.section-header").length > 0) {
        ftText.text("Section Heading");
      } else if (cn.closest("h3.section-header").length > 0) {
        ftText.text("Subsection Heading");
      } else if (cn.closest("h4.section-header").length > 0) {
        ftText.text("Subsubsection Heading");
      } else if (cn.closest(".codeblock").length > 0) {
        ftText.text("Programming Code");
      } else if (cn.closest(".preformat").length > 0) {
        ftText.text("Poetry, Lyrics, etc.");
      } else {
        ftText.text("Normal")
      }
    } else {
      $("#toolbar-format-text").addClass("disabled");
      ftText.text("Text Format");
    }
  }

  // Turn different things on and off in toolbar depending on cursor location (currently only on mouseup, not arrow movements)
  function activateToolbar(e) {
    var cn = $(getSelectionContainerElement());
    var st = saveSelection();
    var sts = st.startContainer.nodeType === 3 ? st.startContainer.parentNode : st.startContainer;
    var ste = st.endContainer.nodeType === 3 ? st.endContainer.parentNode : st.endContainer;
//  var unevenSel = st.startContainer != st.endContainer && st.collapsed == false;
    var unevenSel = sts != ste && st.collapsed == false; // i.e. If my selection is partially in one element and partially out
//  if (cn.closest(".edhint").length) { // I don't think this is even going to work since .edhint is generated by JS and getSelectionContainerElement() doesn't do well with JS-generated elements

    toggleFormatText(e);

    if (cn.closest(".selected-text").length) { // i.e. if the inline context menu is open
      $("#toolbar-bold").removeClass("selected");
      $("#toolbar-italics").removeClass("selected");
      $("#toolbar-underline").removeClass("selected");
      $("#toolbar-superscript").removeClass("selected");
      $("#toolbar-subscript").removeClass("selected");
      e.stopPropagation();
    } else {
//console.log("In Math?: " + cn.closest(".math-editor").length);
     if (unevenSel) {
      $("#toolbar-bold").addClass("disabled").removeClass("selected");
      $("#toolbar-italics").addClass("disabled").removeClass("selected");
      $("#toolbar-underline").addClass("disabled").removeClass("selected");
      $("#toolbar-superscript").addClass("disabled").removeClass("selected");
      $("#toolbar-subscript").addClass("disabled").removeClass("selected");
      e.stopPropagation();      
     } else {
      $("#toolbar-bold").removeClass("disabled");
      $("#toolbar-italics").removeClass("disabled");
      $("#toolbar-underline").removeClass("disabled");
      $("#toolbar-superscript").removeClass("disabled");
      $("#toolbar-subscript").removeClass("disabled");
      if (cn.closest("b.emphasis").length) {
        $("#toolbar-bold").addClass("selected");
      } else {
        $("#toolbar-bold").removeClass("selected");
      }
      if (cn.closest("i.emphasis").length) {
        $("#toolbar-italics").addClass("selected");
      } else {
        $("#toolbar-italics").removeClass("selected");
      }
      if (cn.closest("u.emphasis").length) {
        $("#toolbar-underline").addClass("selected");
      } else {
        $("#toolbar-underline").removeClass("selected");
      }
      if (cn.closest("sup.sup").length) {
        $("#toolbar-superscript").addClass("selected");
      } else {
        $("#toolbar-superscript").removeClass("selected");
      }
      if (cn.closest("sub.sub").length) {
        $("#toolbar-subscript").addClass("selected");
      } else {
        $("#toolbar-subscript").removeClass("selected");
      }
      if (cn.closest(".table").length) {
        $("#toolbar-table").addClass("disabled");
      } else {
        $("#toolbar-table").removeClass("disabled");
      }
     }
    }
  }

  $(".solution-toggle").live("click", function(e){
    var exer = $(this).closest(".exercise");
    var sol = exer.find(".solution").parent();
    var sts = exer.find(".solution-toggle-show");
    if (sol.is(":hidden")) {
      sts.slideUp("fast");
      sol.slideDown("fast");
    } else {
      sts.slideDown("fast");
      sol.slideUp("fast");
    }
  });
  $(".solution-toggle-hide").live("mouseover", function(e){
    $(this).attr("title","When viewed on the web, solutions will be hidden by default.  Click here to preview how that will appear.");
  });
  $(".answer-toggle").live("click", function(e){
    var ques = $(this).closest(".question");
    var ans = ques.find(".solution").parent();
    var ats = ques.find(".answer-toggle-show");
    if (ans.is(":hidden")) {
      ats.slideUp("fast");
      ans.slideDown("fast");
    } else {
      ats.slideDown("fast");
      ans.slideUp("fast");
    }
  });
  $(".answer-toggle-hide").live("mouseenter", function(e){
    $(this).attr("title","When viewed on the web, answers will be hidden by default.  Click here to preview how that will appear.");
  });

  $("#image-dialog-title .hint-link, #image-dialog-caption .hint-link").live("click", function(e){
    $(this).hide();
    $(this).siblings().show();
    $(this).siblings().children().eq(1).focus();
  });

  $("#image-dialog-title-close, #image-dialog-caption-close").live("click", function(e){
    $(this).parent().hide();
    $(this).siblings().text('\xa0');
    $(this).parent().parent().children(".hint-link").show();
  });


  $(".exercise-header>.cnx_label").live("click", function(e){
    preventSelection();
    $("[class*='-header']").die("mouseenter mouseleave");
    var num = $(this).text().match(/[0-9]+/);
    var label = $(this).text().trim().split(" ")[0];
    $(this).parent().append('<span class="label-list">\
      <span class="cnx_label">Exercise</span>\
      <span class="cnx_label">Homework</span>\
      <span class="cnx_label">Problem</span>\
      <span class="cnx_label">Question</span>\
      <span class="cnx_label">Task</span>\
    </span>\
    ');
    $(this).parent().find(".label-list .cnx_label").each(function(e){
      var txt = $(this).text().trim();
      if (label == txt) $(this).addClass("current");
      $(this).text(txt + " " + num);
    });
    e.stopPropagation();
  });
  $(".exercise-header").livequery(function(){
    $(this).hoverIntent({
      over: function(e){
      }, 
      out: function(e){
        removeLabelList();
      },
      timeout: 500,
    });
  });
  $(".exercise-header .label-list .cnx_label").live("click", function(e){
    preventSelection();
    var txt = $(this).text();
    $(this).closest(".exercise-header").children(".cnx_label").text(txt);
    removeLabelList();
    e.stopPropagation();
  });

  $(".solution-header>.cnx_label").live("click", function(e){
    preventSelection();
    $("[class*='-header']").die("mouseenter mouseleave");
    var label = $(this).text().trim().split(" ")[0];
    $(this).parent().append('<span class="label-list">\
      <span class="cnx_label">Solution</span>\
      <span class="cnx_label">Answer</span>\
    </span>\
    ');
    $(this).parent().find(".label-list .cnx_label").each(function(e){
      var txt = $(this).text().trim();
      if (label == txt) $(this).addClass("current");
    });
    e.stopPropagation();
  });
  $(".solution-header").livequery(function(){
    $(this).hoverIntent({
      over: function(e){
      }, 
      out: function(e){
        removeLabelList();
      },
      timeout: 500,
    });
  });
  $(".solution-header .label-list .cnx_label").live("click", function(e){
    preventSelection();
    var txt = $(this).text();
    $(this).closest(".solution-header").children(".cnx_label").text(txt);
    $(this).closest(".exercise").find(".solution-toggle-show").find(".solution-toggle").text("[ Show " + txt + " ]");
    $(this).closest(".exercise").find(".solution-toggle-hide").find(".solution-toggle").text("[ Hide " + txt + " ]");
    removeLabelList();
    e.stopPropagation();
  });

  $(".note-header>.cnx_label").live("click", function(e){
    preventSelection();
    $("[class*='-header']").die("mouseenter mouseleave");
    var label = $(this).text().trim().split(" ")[0].split(":")[0];
    $(this).parent().append('<span class="label-list">\
      <span class="cnx_label">Note</span>\
      <span class="cnx_label">Aside</span>\
      <span class="cnx_label">Warning</span>\
      <span class="cnx_label">Tip</span>\
      <span class="cnx_label">Important</span>\
    </span>\
    ');
    $(this).parent().find(".label-list .cnx_label").each(function(e){
      var txt = $(this).text().trim();
      if (label == txt) $(this).addClass("current");
    });
    e.stopPropagation();
  });
  $(".note-header .label-list .cnx_label").live("click", function(e){
    preventSelection();
    var txt = $(this).text();
    $(this).closest(".note-header").children(".cnx_label").text(txt);
    removeLabelList();
    e.stopPropagation();
  });
  $(".note-header").livequery(function(){
    $(this).hoverIntent({
      over: function(e){
      }, 
      out: function(e){
        removeLabelList();
      },
      timeout: 500,
    });
  });

  $(".definition-header>.cnx_label").live("click", function(e){
    preventSelection();
    $(this).blur();
    $("[class*='-header']").die("mouseenter mouseleave");
    var label = $(this).text().trim().split(" ")[0].split(":")[0];
    $(this).parent().append('<span class="label-list">\
      <span class="cnx_label">Definition</span>\
      <span class="cnx_label">Key Term</span>\
    </span>\
    ');
    $(this).parent().find(".label-list .cnx_label").each(function(e){
      var txt = $(this).text().trim();
      if (label == txt) $(this).addClass("current");
    });
    e.stopPropagation();
  });
  $(".definition-header").livequery(function(){
    $(this).hoverIntent({
      over: function(e){
      }, 
      out: function(e){
        removeLabelList();
      },
      timeout: 500,
    });
  });
  $(".definition-header .label-list .cnx_label").live("click", function(e){
    preventSelection();
    var txt = $(this).text();
    $(this).closest(".definition-header").children(".cnx_label").text(txt);
    removeLabelList();
    e.stopPropagation();
  });

  $(".example-header>.cnx_label").live("click", function(e){
    preventSelection();
    $("[class*='-header']").die("mouseenter mouseleave");
    var num = $(this).text().match(/[0-9]+/);
    var label = $(this).text().trim().split(" ")[0];
    $(this).parent().append('<span class="label-list">\
      <span class="cnx_label">Example</span>\
      <span class="cnx_label">Case in point</span>\
      <span class="cnx_label">Case Study</span>\
      <span class="cnx_label">Demonstration</span>\
      <span class="cnx_label">Illustration</span>\
    </span>\
    ');
    $(this).parent().find(".label-list .cnx_label").each(function(e){
      var txt = $(this).text().trim();
      if (label == txt) $(this).addClass("current");
      $(this).text(txt + " " + num);
    });
    e.stopPropagation();
  });
  $(".example-header").livequery(function(){
    $(this).hoverIntent({
      over: function(e){
      }, 
      out: function(e){
        removeLabelList();
      },
      timeout: 500,
    });
  });
  $(".example-header .label-list .cnx_label").live("click", function(e){
    preventSelection();
    var txt = $(this).text()
    $(this).closest(".example-header").children(".cnx_label").text(txt);
    removeLabelList();
    e.stopPropagation();
  });

  $("#more-blocks-choose dd").live("mouseleave", function(e){
    $(this).removeClass("selected-force");
  });
  $("#more-blocks-choose dd").live("click", function(e){
    var input = $(this).find("input")
    if ($(this).hasClass("selected")) {
      $(this).removeClass("selected");
      if (input.is(":checked")) {
        input.removeAttr("checked");
      }
    } else {
      $(this).addClass("selected selected-forced");
      if (!input.is(":checked")) {
        input.attr("checked","checked");
      }
    }
  });

  function removeLabelList(ll,e) {
    preventSelection();
    $(".label-list").remove();
    $("[class*='-header']").live("mouseenter", function(e){
      headerEnter($(this),e);
    });
  }

  $(".edhint, .ctt-list").live("mousedown", function(e){
    return false;
  });

  $(".edhint, .ctt-list").live("mouseup", function(e){
//alert($(".selected-text-text").length);
//    if ($("")) {
      selectText(".selected-text-text");
//    }
    return false;
  });

  $("html").live("mousedown",function(e) {

//console.log("html mousedown");
    var stm = $(".selected-text");
    // Shouldn't be necessary to use "each", but I seem to get stray spans staying in my document.
    $(".temp-select").each(function(){
      $(this).removeClass("temp-select");
    });
    $(".selected-text").each(function(){
/*
      $(this).find(".fake-out").remove();
      $(this).find(".edhint").remove();
      $(this).find(".ctt-list").remove();
*/
      if ($(this).contents().length == 0) {
        $(this).remove();
      } else {
        $(this).contents().unwrap();
      }
    });
    $(".unbold-text").each(function(){
      if ($(this).contents().length == 0) {
        var afterText = $(this).next().text();
        $(this).prev().append(afterText);
        $(this).next().remove();
        $(this).remove();
      } else {
        $(this).contents().unwrap();
      }
    });
    $(".emphasis").each(function(){
      if ($(this).contents().length == 0) {
        $(this).remove()
      }
    });
    $(".throwaway-class").each(function(){
      if ($(this).contents().length == 0) {
        $(this).remove();
      } else {
        $(this).contents().unwrap();
      }
    });
    $(".fake-out").remove();
    $(".edhint").remove();
    $(".ctt-list").remove();
    $(".selected-text-text").each(function(){
      $(this).contents().unwrap();
    });

  });

  $(".footnote-editor").live("click mousedown", function(e){
    return false;
  });

  $(".fne-textarea").live("click keypress", function(e){
    $(this).find(".hint-text").replaceWith("&nbsp;");
  });

  $(".fne-submit input").live("click", function(e){
    unSelectIcon($("#toolbar-footnote"),e);
    $(this).closest(".footnote-editor").remove();
    $("#FootnoteNew").removeAttr("id");
  });

  $(".content-editable,.content-editable-2").live("mouseup",function(e) {

    var sel = getSelectionHtml();
    var selParent = $(getSelectionContainerElement());
    if (sel.length > 0 && sel.indexOf('<') == -1 && !selParent.closest(".emphasis,.term,a,span,sup,sub").length) {
      wrapSelection(e);
    }

  });

  function wrapSelection(e){ // Thank you to Matt Zukowski at http://stackoverflow.com/questions/4891338/how-can-i-use-jquery-to-apply-css-to-savedrange-text-selection/4928144#4928144

    selection = window.getSelection();
    savedRange = selection.getRangeAt(0);

    wrapper = document.createElement('span');
    savedRange.surroundContents(wrapper);
    selection.selectAllChildren(wrapper);

    $(wrapper).addClass("selected-text");
    $(wrapper).wrapInner('<span class="selected-text-text"></span>');

/*
      var edhintimg = ctt.find(".edhint img");
      var ehiTop = edhintimg.offset().top - $(window).scrollTop();
      var ehiLeft = edhintimg.offset().left - $(window).scrollLeft();
      var eh = ctt.find(".edhint");
*/

    $(wrapper).append('<div class="fake-out"></div>');
    $(wrapper).find(".fake-out").css({
        width: $(wrapper).width(),
        height: $(wrapper).height(),
    });
    stFadeIn($(wrapper),400,e);

    return false;

  }

  function stmLeave(stm,e) {
    //stm.stop().fadeIn();
    if (stm.find(".ctt-list").length) {
      stm.find(".ctt-list").fadeOut(300, function(){
        $(this).remove();
      });
    } else if (stm.find(".edhint").length) {
      stm.find(".edhint").fadeOut(300, function(){
        $(this).remove();
      });
    }
    stm.removeClass("selected");
  }

  $(".selected-text.selected .fake-out").livequery(function(e){
    $(this).hoverIntent({
      over: function(e){
//console.log("entering fake-out");
      },
      out: function(e){
//console.log("leaving fake-out");
        stmLeave($(this).parent(),e);
      },
      timeout: 600,
    });
  });

  $(".selected-text:not(.selected) .fake-out").live("mouseleave", function(e){
    stmLeave($(this).parent(),e);
  });

  $(".selected-text.selected .fake-out .ctt-list").livequery(function(e){
    $(this).hoverIntent({
      over: function(e){
//console.log("entering fake-out");
      },
      out: function(e){
//console.log("leaving fake-out");
        stmLeave($(this).parent().parent(),e);
      },
      timeout: 600,
    });
  });

  $(".selected-text:not(.selected) .fake-out .ctt-list").live("mouseleave", function(e){
    stmLeave($(this).parent().parent(),e);
  });

  function getSelectionHtml() { // From Tim Down at http://stackoverflow.com/questions/4652734/return-html-from-a-user-selection/4652824#4652824
    var html = "";
    if (typeof window.getSelection != "undefined") {
        var sel = window.getSelection();
        if (sel.rangeCount) {
            var container = document.createElement("div");
            for (var i = 0, len = sel.rangeCount; i < len; ++i) {
                container.appendChild(sel.getRangeAt(i).cloneContents());
            }
            html = container.innerHTML;
        }
    } else if (typeof document.selection != "undefined") {
        if (document.selection.type == "Text") {
            html = document.selection.createRange().htmlText;
        }
    }
    return html;
  }

});

</script>


<style type="text/css">

#editor{
  background-color: #bbb;
  background-color: #c7c7c7;
  background-color: #ccc;
  position: relative;
}
#content{
  padding-left: 0em;
  padding-right: 0em;
  padding-bottom: 0em;
padding-top: 0;
}
#pageheader-wrap{
  margin-top: -10px;
  margin-left: 2em;
  margin-right: 2em;
display: none;
}

#workflownav-wrap, #header-wrap{
  display: none;
}

#toolbox{
  height: 45px;
/*
  background-image: url(toolbar/toolbar-bg-01.png);
*/
  background-repeat: repeat-x;
  background-position: 0 0;
  background-color: #eee;
  background-color: #d6d6d6;
  background-color: transparent;
  background-color: #ccc;
  padding: 0 1em;
  padding: 0 25px;
  padding: 0;
  border-bottom: 1px solid #aaa;
border-bottom-width: 0;
  position: relative;
clear: both;
  white-space: nowrap;
position: fixed;
top: 0;
z-index: 530;
z-index: 2;
/*
  box-shadow: 0 0 5px #bbb;
*/
  font-size: .9em;
  font-family: tahoma,verdana,arial,helvetica,sans-serif;
}

#toolbox-inner{
  padding: 0;
  height: 32px;
  margin: 0 25px;
}

#toolbox-inner.scrolled{
  position: relative;
  box-shadow: 0 0 5px #bbb;
  box-shadow: 0px 8px 6px -6px #9f9f9f;
/*
  box-shadow: 0px 0px 10px #9f9f9f;
  box-shadow: 0px 8px 6px -6px black;
*/
  border-bottom: 1px solid #aaa;
}

#toolbox-inner .pedagog-blocks{
  overflow: visible;
}

#toolbar{
  height: 42px;
  background-image: url(toolbar/toolbar-bg-01.png);
  background-repeat: repeat-x;
  background-position: 0 0;
  background-color: #fff;
  border-bottom: 1px solid #aaa;
  position: relative;
clear: both;
  white-space: nowrap;
position: fixed;
top: 0;
width: 100%;
z-index: 530;
z-index: 3;
  box-shadow: 0 0 5px #bbb;
  font-size: .9em;
  font-family: tahoma,verdana,arial,helvetica,sans-serif;
/*
  background-color: #E16C26;
  border-bottom: 1px solid #9E4626;
  background-image: none;
*/
}

#icon-set{
  padding: 4px 0;
  padding: 4px 1em;

}
.toolbar-function{
  position: relative;
  letter-spacing: normal;
  word-spacing: normal;
  height: 33px;
  width: 33px;
  float: left;
}
.toolbar-function.toolbar-dd{
  width: 17px;
  margin-right: 3px;
}
.toolbar-function.toolbar-text-menu{
  width: auto;
  margin-left: .5em;
}
#toolbar-format-text{
  margin-left: 0;
}
#toolbar-format-text:after{
  width: 0;
  height: 0;
}

.toolbar-icon{
  background-image: url(toolbar/toolbar-sprite-08.png);
  outline: 0;
  height: 33px;
  width: 33px;
  display: inline-block;
  letter-spacing: normal;
  word-spacing: normal;
  background-position: -23px -66px;
}
.toolbar-text{
  outline: 0;
  height: 33px;
  height: 19px;
  float: left;
  padding: 9px .25em 5px .7em;
  color: #000 !important;
  text-decoration: none;
  background-repeat: no-repeat;
}
#toolbar-format-text .toolbar-text{
  background-color: white;
  height: 15px;
  line-height: 15px;
  padding: 3px 5px 3px 5px;
  margin-top: 5px;
  border: 1px inset #fff;
  border: 1px solid #eee;
  border-top-color: #bbb;
  border-left-color: #bbb;
  width: 9em;
}

.toolbar-dd .toolbar-icon{
  width: 17px;
/*
  background-image: url(toolbar/arrow-down-black-06.png);
  background-position: 0 0;
*/
}
#toolbar-add-new .toolbar-icon{
  width: 16px;
}

#toolbar-format-text .toolbar-icon{
  height: 25px;
  margin-top: 5px;
}

.disabled a{
  cursor: default;
}

.separator{
  width: 19px;
  height: 33px;
  background-image: url(toolbar/toolbar-sprite-08.png);
  background-position: -3px 0;
/*
  display: inline-block;
  letter-spacing: normal;
  word-spacing: normal;
*/
float: left;
}

.iconlike{
  padding: 0 6px 0 0;
/*
  display: inline-block;
  letter-spacing: normal;
  word-spacing: normal;
  vertical-align: middle;
  height: 48px;
*/
  float: left;
  padding-top: 6px;
}

#module-bar .iconlike{
  padding: 0;
  padding-top: 5px;
  display: inline-block;
  float: none;
  margin-right: 1em;
  margin-left: -1em;
}

.iconlike select{
  width: 9em;
  font-family: tahoma,verdana,arial,helvetica,sans-serif;
}

.iconlike input{
  font-family: tahoma,verdana,arial,helvetica,sans-serif;
}


/*
#module-bar .iconlike input{
  background-color: #99DBAE;
  background-color: #D6F1DE;
  border: 1px solid #137139;
}
*/

a.menu-like{
  padding: .3em .4em;
  color: black;
  text-decoration: none;
  white-space: nowrap;
display: block;
}

.menu-like:hover{
  background-color: #ccc;
  background-color: #fff;
}

#hints{
  float: right;
  padding: 1.2em .4em 0;
  padding: .9em 0;
  margin-right: 22px;
display: none;
}

#hints label{
  font-weight: normal;
}

#hints.selected label{
  background-image: url(content_files/header-hint-07.png);
  background-repeat: repeat-x;
  background-position: left bottom;  
  padding-bottom: .3em;
}

#icon-set{
  padding-right: 10em;
  padding-right: 50px;;
}

#toolbar-undo a                   { background-position: -518px 0; }
#toolbar-undo.disabled a          { background-position: -518px -33px; }
#toolbar-undo.hovered a           { background-position: -518px -66px; }
#toolbar-undo.selected a          { background-position: -518px -99px; }
#toolbar-redo a                   { background-position: -287px 0; }
#toolbar-redo.disabled a          { background-position: -287px -33px; }
#toolbar-redo.hovered a           { background-position: -287px -66px; }
#toolbar-redo.selected a          { background-position: -287px -99px; }
#toolbar-bold a                   { background-position: -56px 0; }
#toolbar-bold.disabled a          { background-position: -56px -33px; }
#toolbar-bold.hovered a           { background-position: -56px -66px; }
#toolbar-bold.selected a          { background-position: -56px -99px; }
#toolbar-italics a                { background-position: -155px 0; }
#toolbar-italics.disabled a       { background-position: -155px -33px; }
#toolbar-italics.hovered a        { background-position: -155px -66px; }
#toolbar-italics.selected a       { background-position: -155px -99px; }
#toolbar-underline a              { background-position: -485px 0; }
#toolbar-underline.disabled a     { background-position: -485px -33px; }
#toolbar-underline.hovered a      { background-position: -485px -66px; }
#toolbar-underline.selected a     { background-position: -485px -99px; }
#toolbar-superscript a            { background-position: -419px 0; }
#toolbar-superscript.disabled a   { background-position: -419px -33px; }
#toolbar-superscript.hovered a    { background-position: -419px -66px; }
#toolbar-superscript.selected a   { background-position: -419px -99px; }
#toolbar-subscript a              { background-position: -386px 0; }
#toolbar-subscript.disabled a     { background-position: -386px -33px; }
#toolbar-subscript.hovered a      { background-position: -386px -66px; }
#toolbar-subscript.selected a     { background-position: -386px -99px; }
#toolbar-link a                   { background-position: -188px 0; }
#toolbar-link.disabled a          { background-position: -188px -33px; }
#toolbar-link.hovered a           { background-position: -188px -66px; }
#toolbar-link.selected a          { background-position: -188px -99px; }
#toolbar-footnote a               { background-position: -89px 0; }
#toolbar-footnote.disabled a      { background-position: -89px -33px; }
#toolbar-footnote.hovered a       { background-position: -89px -66px; }
#toolbar-footnote.selected a      { background-position: -89px -99px; }
#toolbar-unlink a                 { background-position: -551px 0; }
#toolbar-unlink.disabled a        { background-position: -551px -33px; }
#toolbar-unlink.hovered a         { background-position: -551px -66px; }
#toolbar-unlink.selected a        { background-position: -551px -99px; }
#toolbar-unorderedlist a          { background-position: -584px 0; }
#toolbar-unorderedlist.disabled a { background-position: -584px -33px; }
#toolbar-unorderedlist.hovered a  { background-position: -584px -66px; }
#toolbar-unorderedlist.selected a { background-position: -584px -99px; }
#toolbar-orderedlist a            { background-position: -254px 0; }
#toolbar-orderedlist.disabled a   { background-position: -254px -33px; }
#toolbar-orderedlist.hovered a    { background-position: -254px -66px; }
#toolbar-orderedlist.semi-hovered a    { border: 1px solid #bbb; -moz-box-sizing: border-box; background-position: -255px -1px; background-color: #d6d6d6; }
#toolbar-orderedlist.semi-hovered a    { border: 1px solid #bbb; -moz-box-sizing: border-box; background-position: -255px -67px; background-color: transparent; }
#toolbar-orderedlist.selected a   { background-position: -254px -99px; }
#toolbar-indent a                 { background-position: -650px 0; }
#toolbar-indent.disabled a        { background-position: -650px -33px; }
#toolbar-indent.hovered a         { background-position: -650px -66px; }
#toolbar-indent.selected a        { background-position: -650px -99px; }
#toolbar-unindent a               { background-position: -683px 0; }
#toolbar-unindent.disabled a      { background-position: -683px -33px; }
#toolbar-unindent.hovered a       { background-position: -683px -66px; }
#toolbar-unindent.selected a      { background-position: -683px -99px; }
#toolbar-table a                  { background-position: -452px 0; }
#toolbar-table.disabled a         { background-position: -452px -33px; }
#toolbar-table.semi-hovered a          { border: 1px solid #bbb; -moz-box-sizing: border-box; background-position: -453px -1px; background-color: #eee; }
#toolbar-table.semi-hovered a          { border: 1px solid #bbb; -moz-box-sizing: border-box; background-position: -453px -67px; background-color: transparent; }
#toolbar-table.hovered a          { background-position: -452px -66px; }
#toolbar-table.selected a         { background-position: -452px -99px; }
#toolbar-image a                  { background-position: -122px 0; }
#toolbar-image.disabled a         { background-position: -122px -33px; }
#toolbar-image.hovered a          { background-position: -122px -66px; }
#toolbar-image.selected a         { background-position: -122px -99px; }
#toolbar-math a                   { background-position: -221px 0; }
#toolbar-math.disabled a          { background-position: -221px -33px; }
#toolbar-math.hovered a           { background-position: -221px -66px; }
#toolbar-math.selected a          { background-position: -221px -99px; }
#toolbar-video a                  { background-position: -617px 0; }
#toolbar-video.disabled a         { background-position: -617px -33px; }
#toolbar-video.hovered a          { background-position: -617px -66px; }
#toolbar-video.selected a         { background-position: -617px -99px; }
#toolbar-olist-options .toolbar-icon                  { background-image: url(toolbar/arrow-down-black-06.png); background-position: 0 0; }
#toolbar-olist-options.disabled .toolbar-icon         { background-image: url(toolbar/arrow-down-black-06.png); background-position: 0 0; }
#toolbar-olist-options.hovered .toolbar-icon          { background-image: url(toolbar/arrow-down-black-07.png); background-position: 0 0; }
#toolbar-olist-options.selected .toolbar-icon         { background-image: url(toolbar/arrow-down-black-08.png); background-position: 0 0; }
#toolbar-olist-options.semi-hovered a    { background-image: url(toolbar/arrow-down-black-07.png); }
#toolbar-table-options .toolbar-icon                  { background-image: url(toolbar/arrow-down-black-06.png); background-position: 0 0; }
#toolbar-table-options.disabled .toolbar-icon         { background-image: url(toolbar/arrow-down-black-06.png); background-position: 0 0; }
#toolbar-table-options.hovered .toolbar-icon          { background-image: url(toolbar/arrow-down-black-07.png); background-position: 0 0; }
#toolbar-table-options.selected .toolbar-icon         { background-image: url(toolbar/arrow-down-black-08.png); background-position: 0 0; }
#toolbar-table-options.semi-hovered a    { background-image: url(toolbar/arrow-down-black-07.png); }

#toolbar-add-new .toolbar-icon                        { background-image: url(toolbar/arrow-down-black-06.png); background-position: -1px 0; }
#toolbar-add-new.disabled .toolbar-icon               { background-image: url(toolbar/arrow-down-black-06.png); background-position: -1px 0; }
#toolbar-add-new.hovered .toolbar-icon                { background-image: url(toolbar/arrow-down-black-07.png); background-position: -1px 0; }
#toolbar-add-new.selected .toolbar-icon               { background-image: url(toolbar/arrow-down-black-08.png); background-position: -1px 0; }

#toolbar-add-new.disabled .toolbar-text               { background-image: url(noexistenturi); background-position: -1px 0; }
#toolbar-add-new.hovered .toolbar-text                { background-image: url(toolbar/text-menu-background-hover-01.png); background-position: 0 0; }
#toolbar-add-new.selected .toolbar-text               { background-image: url(toolbar/text-menu-background-selected-01.png); background-position: 0 0; }
#toolbar-add-new.disabled .toolbar-text               { color: #8f8f8f; }

#toolbar-format-text .toolbar-icon                    { background-image: url(toolbar/arrow-down-black-10.png); background-position: 0 0; background-repeat: no-repeat; }
#toolbar-format-text.disabled .toolbar-icon           { background-image: url(toolbar/arrow-down-black-10.png); background-position: 0 0; }
#toolbar-format-text.hovered .toolbar-icon            { background-image: url(toolbar/arrow-down-black-11.png); background-position: 0 0; }
#toolbar-format-text.selected .toolbar-icon           { background-image: url(toolbar/arrow-down-black-11.png); background-position: 0 0; }

#toolbar-format-text.disabled .toolbar-text           { color: #666 !important; background-color: #f4f4f4; }
/*
#toolbar-format-text.disabled .toolbar-text           { color: #8f8f8f; background-color: #f4f4f4; }
#toolbar-format-text.disabled .toolbar-text           { background-image: url(noexistenturi); background-position: -1px 0; }
#toolbar-format-text.hovered .toolbar-text            { background-image: url(toolbar/text-menu-background-hover-01.png); background-position: 0 0; }
#toolbar-format-text.selected .toolbar-text           { background-image: url(toolbar/text-menu-background-selected-01.png); background-position: 0 0; }
*/


.btn-toolbar [class^="icon-"]{
  height: 30px !important;
  width: 31px !important;
  background-image: url(toolbar/toolbar-sprite-08.png);
}
.dropdown-toggle{
  height: 33px;
  width: 6px
}
.icon-table-insert{ background-position: -453px -2px; }
.icon-unordered-list{ background-position: -585px -2px; }
.icon-ordered-list{ background-position: -255px -2px; }
.icon-indent-list{ background-position: -651px -35px; }
.icon-unindent-list{ background-position: -684px -35px; }
.btn{
  font-size: 1em;
  line-height: normal;
  padding: 0;
}
.dropdown-menu{
  box-shadow: 0 3px 5px rgba(0,0,0,.12);
}
.btn:hover .icon-table-insert{ background-position: -453px -68px; }
.btn:hover .icon-unordered-list{ background-position: -585px -68px; }
.btn:hover .icon-ordered-list{ background-position: -255px -68px; }
.btn:hover .icon-indent-list{ background-position: -651px -35px; }
.btn:hover .icon-unindent-list{ background-position: -684px -35px; }

#toolbar-table.selected .toolbar-icon{
  box-shadow: 2px 2px 2px #aaa;
}
/*
#toolbar-table-options.selected a{
  box-shadow: 2px 2px 2px #aaa;
}
*/
.toolbar-dd.selected .toolbar-icon, .toolbar-dd.selected .toolbar-text2{
  box-shadow: 2px 2px 2px #aaa;
}

#editor-mode{
  font-size: .85em;
  position: relative;
  z-index: 2;
  height: 30px;
background-color: #666;
display: none;
}

#editor-mode ul, #editor-mode li{
  margin: 0;
  padding: 0;
  display: block;
}

#editor-mode ul{
  position: absolute;
  right: 17px;
  bottom: 0;
}

#editor-mode li{
  float: right;
  padding: .35em 0 .4em;
}

#editor-mode a{
  padding: .5em 1em;
  padding: .35em 1em .4em;
  border: 1px solid #aaa;
  background-color: #eee;
  background-color: #ccc;
  text-decoration: none;
  color: black;
  outline: 0;
  margin-left: -1px;
  color: #666;
font-weight: bold;
}

#editor-mode a:hover{
  color: #000;
}

#editor-mode .current a{
  color: black;
  cursor: default;
  background-color: #fff;
  border-bottom: 1px solid #fff;
  font-weight: bold;
}

#sidebar{
  float: left;
  position: fixed;
  margin: 1em 25px;
  margin: 25px 25px 1em;
  margin: 0 25px 1em;
  width: 200px;
  width: 225px;
  font-family: tahoma,verdana,arial,helvetica,sans-serif;
/*
display: none;
*/
}

#sidebar dl{
  background-color: #eee;
  margin: 0 0 15px;
  padding: 0;
  border: 1px solid #aaa;
  box-shadow: 0px 0px 5px #9f9f9f;
  box-shadow: 0px 0px 5px #aaa;
  box-shadow: 0px 0px 5px #bbb;
background-color: transparent;
box-shadow: none;
border-width: 0;
}

#sidebar dt{
  margin: 0;
  font-weight: bold;
  color: #000;
  font-family: tahoma,verdana,arial,helvetica,sans-serif;
  font-weight: normal;
  font-size: 1.3em;
  margin-top: 0;
  padding: 0 0 .1em;
  margin-bottom: .5em;

        background-image: url(helper_files/shimmer-07.png);
        background-position: -200px 0;
        background-repeat: no-repeat;
}

#sidebar dt span{
  display: block;
  border-bottom: 1px solid #999;
}

#sidebar dt a{
  text-decoration: none;
  color: black;
  color: white;
  display: block;
  padding: .25em .5em;
  padding: .25em 1.5em .25em .5em;
  background-image: url(toolbar/arrow-down-white-02.png);
  background-repeat: no-repeat;
  background-position: right .35em;
}

#sidebar dd{
  margin: 0;
  border-top-width: 0;
}

#artboard{
  overflow: auto;
}

#canvas/*, #toc-paper.editing-toc*/{
  background-color: #ccc;
  border-width: 0;
  margin: 1em 25px 2em 250px;
  margin: 1em 25px 2em 275px;
  margin: 1em 25px 2em 25px;
  margin: 15px 25px 2em 25px;
  border: 1px solid #aaa;
padding: 30px;
  background-color: #fff;
  box-shadow: 0px 0px 10px #9f9f9f;
  cursor: text;
}

#canvas{
  min-height: 100%;
}

#cnx_module_header{
/*
  background-color: #ee7700;
  background-color: #E16C26;
  background-color: #107CA3;
  color: #fff;
  margin: -30px;
  border-color: #0E807D;
  padding: .7em 15px .7em;
*/
}

#cnx_module_header h1{
/*
  font-size: 1.8em;
  color: #fff;
  margin: 0;
  font-weight: normal;
*/
  display: inline;
}
#cnx_module_header h1.hovered{
  background-color: #3199BC;
  background-color: #FDF3E8;
}
/*
#chapter-title-wrap{
  color: #E16C26;
  color: #1FB04C;
  color: #5B9171;
}
#chapter-title.hovered{
  background-color: #eee;
}
*/

/* =============== from earlier mock-ups (edited) ================ */


.example, .definition .example, .rule .example, #canvas .note{
  margin: 0;
  padding: 0;
}

#canvas .note{
  border-color: transparent;
}

.canvas-wrap{
  margin: 1em -20px;
  margin: 1em -10px 1em -10px;
}

.canvas-wrap .canvas-wrap{
  padding-left: 0;
  padding-right: 0;
  margin: 0 .5em 0 1em;
margin: 0 .5em 0 0;
margin: 0 .5em 0 -10px;
margin: 0 -36px 0 -11px;
}

.canvas{
  border: 1px solid transparent;
}
#canvas .canvas-hovered{ /* #canvas ancestor only for override issues */
  border-color: #bbb #ccc;
  border-color: #c8c8c8;
  border-style: dotted;
}


.title .hint-text, .term .hint-text{
  display: none;
}
.header-hovered .hint-text{
  display: inline;
}
.definition-header .hint-text{
  display: inline !important;
}
/*
.header-hovered.definition-header .hint-text img{
  display: none;
}
*/
.definition-header .hint-text img{
  vertical-align: middle;
  padding-left: .75em;
  cursor: default;
}

.solution.canvas, .proof.canvas, .statement{
  margin-left: 1.5em;
margin-left: 0;
}

.canvas-inner{
  position: relative;
  min-height: 35px;
  padding: .5em;
  padding-left: .75em;
  padding: .5em 1em;
  padding: .5em 30px .5em .75em;
  padding: .5em 25px .5em 20px;
  padding: .5em 25px .5em 10px;
  padding: .5em 35px .5em 10px;
}

/*
.active{
  border: 1px dotted #bbb !important;
  background-image: url('source-files/cursor-01.gif');
  background-repeat: no-repeat;
  background-position: .75em 1em;
}
*/

.equation-number{
  right: 1em;
  top: 40%;
  right: 30px;
  right: 25px;
}

.note .equation, .example .equation{
  margin-right: 10px;
}

.canvas-buddy{
  position: absolute;
  left: 47%;
  top: -4px;
  height: 13px;
  width: 50px;
  cursor: url(content_files/openhand.cur), default;
  display: none;
  overflow: hidden;
}

.dragging{
  cursor: url(content_files/closedhand.cur), default !important;
}

.canvas-buddy a{
}

.canvas-buddy img{
  display: block;
}

/*
.nodrag{
  cursor: not-allowed !important;
}

.nodrag img{
  opacity: .5;
}
*/

.canvas-buddy-2{
  position: absolute;
  top: 0;
  left: auto;
  right: 0;
  display: none;
  height: 100%;
  background-color: #f7f7f7;
  border-left: 1px solid #ddd;
  width: 19px;
}

.canvas-buddy a, .canvas-buddy-2 a{
  text-decoration: none;
}

.section-header{
  position: relative;
  padding: 0;
  border-width: 0;
}

.cth-list-item{
  color: #369;
  font-weight: bold;
}

.cth-list-h2{
  letter-spacing: -1px;
}

h3.section-header, .cth-list-h3{
  font-size: 1.25em !important;
  letter-spacing: normal;
}

h4.section-header, .cth-list-h4{
  font-size: 1em !important;
  letter-spacing: normal;
}

.cth-list-regular{
  color: #000;
  letter-spacing: normal;
}

.remove-element{
  position: absolute;
  top: 1px;
  left: 1px;
  cursor: pointer;
  right: 15px;
}
.drag-element{
/*
cursor: move;
cursor: grab;
cursor: -moz-grab;
cursor: -webkit-grab;
cursor: url(https://mail.google.com/mail/images/2/openhand.cur), grab, -moz-grab, -webkit-grab, move, default;
*/
cursor: url(content_files/openhand.cur), default;
}
/*
.nodrag .drag-element{
  cursor: not-allowed;
}
*/
.edit-element, .unelement-element{
  position: absolute;
  top: 25px;
  cursor: pointer;
  padding: 2px;
left: 1px;
  height: 13px;
  width: 13px;
  height: 14px;
  width: 14px;
/*
  overflow: hidden;
*/
}
.edit-element img, .unelement-element img{
  width: 13px;
  height: 13px;
  width: 14px;
  height: 14px;
  float: left;
}
.unelement-element{
  top: 49px;
}

.to-remove *{
  color: #999 !important;
  color: #bbb !important;
  background-color: transparent !important;
}
.to-remove .edhint, .to-remove .table table, .to-remove .table td, .to-remove .table th{
  border-color: #bbb !important;
}
.to-remove table{
  border-color: #bbb !important;
}

.to-remove img{
  opacity: .25;
}
.to-remove .remove-element img{
  opacity: 1;
}

tr td.current-cell, tr th.current-cell{
  background-image: url("content_files/test-server-background.png") !important;
  background-color: #E5EEF5;  
}

.table-to-remove img{
  opacity: .25;
}
td.table-to-remove, th.table-to-remove, 
tr.table-to-remove td, tr.table-to-remove th{
  color: #bbb;
  background-image: url("content_files/delete-table-element-01.png");
  background-color: #888 !important;
}

.add-row-before{
  border-top: 15px solid #C5DAE9;
}
.add-row-after{
  border-bottom: 15px solid #C5DAE9;
}
th.add-column-before, td.add-column-before{
  border-left: 30px solid #C5DAE9 !important;
}
th.add-column-after, td.add-column-after{
  border-right: 30px solid #C5DAE9 !important;
}



.active>div>.canvas-buddy, .active>div>.canvas-buddy-2{
  display: block;
/*
  border-style: solid;
  border-color: #999;
  background-color: #ddd;
  border-style: solid;
*/
/*
  opacity: .5;
*/
}
/*
.active>div>.canvas-buddy{
  opacity: .75;
}
.active>div>.canvas-buddy:hover, .active>div>.canvas-buddy-2:hover{
  opacity: 1;
}
*/

#canvas .section-header, .cth-list-h2{
  font-size: 1.65em;
}
#canvas .section .section .section-header, .cth-list-h3{
  font-size: 1.25em;
}

.cnx_label{
  cursor: default;
}

.dragged .cnx_label{
  font-size: .65em !important;
}

.exercise{
  margin: 0;
  padding: 0;
}

.add-solution{
  margin: -.5em 20px 1em 3em;
  margin: -.5em 20px 1em 3em;
  margin: -1.5em 20px .5em 3em;
  margin: 0 0 .5em 2em;
  border: 1px dashed #ccc;
  padding: .5em 1em;
  padding: .2em .5em;
  cursor: text;
visibility: hidden;
}

#canvas .add-solution a{
  color: #888;
  text-decoration: none;
  cursor: text;
}

.add-meaning,
.add-answer,
.add-solution-2{
  margin: 0 0 .5em 3em;
margin: 0 0 .5em;
  border: 1px dashed #ccc !important;
  padding: .2em .5em;
  cursor: text;
  cursor: pointer;
  display: none;
}

.add-meaning{
  list-style-type: none;
  float: left;
  padding-right: 1em;
  margin-bottom: 1em;
}

.meaning{
  margin-left: 2em;
  border: 1px solid transparent;
  padding: .2em .5em;
}
div.meaning{ padding: .5em 0 .75em; }
div.add-meaning{ padding: .2em .5em }

.meaning-remove{
  float: right;
  cursor: pointer;
  display: none;
  margin-left: 2em;
  margin-bottom: .5em;
}

li.meaning:hover{
  border: 1px dashed #ccc;
}

.meaning:hover .meaning-remove{
  display: block;
}

#canvas .add-solution-2 a, #canvas .add-answer a, .hint-text, .math-source-hint-text, #canvas .add-meaning a{
  color: #888;
  color: #555;
  text-decoration: none;
  cursor: default;
  cursor: pointer;
  cursor: text;
  font-style: italic;
  font-weight: normal;
}

#canvas .add-solution-2 a, #canvas .add-meaning a{
  cursor: pointer;
}

/*
.exercise-header .hint-text, .example-header .hint-text, .add-solution-2, .add-answer, .add-meaning{
  font-size: .85em;
}

.table-caption-hint-text{
  font-size: .95em;
}
*/

.exercise-hint-text, .example-hint-text, .note-hint-text, .definition-hint-text, .quote-hint-text{
  display: block;
  margin: 1.25em 0 1.5em;
  font-size: 1.1em;
/*
  font-size: 1.2em;
*/
}

.definition-hint-text{
  margin: 0;
}

.MathJax .hint-text{
  cursor: default;
}

.math-source-hint-text{
  font-family: tahoma;
}

.drag{
  position: absolute;
  margin-top: 0;
  margin-left: 680px;
  width: 150px;
  border: 1px solid #bbb;
  border-left-width: 0;
  z-index: 3;
  background-color: #f2f2f2;
  padding: 10px;
}

.drag ul, .drag li{
  margin: 0;
  padding: 0;
  list-style: none;
  float: left;
}

.drag ul a{
  width: 55px;
  text-decoration: none;
  border-radius: 4px;
  border: 1px solid #ccc;
  margin: .5em .5em 0em 0;
  display: block;
  padding: .25em .5em;
  background-color: #e3e3e3;
  color: #000;
cursor: url(content_files/openhand.cur), default;
}

.drag ul a:hover{
  background-color: #fff;
}

.drag h2{
  font-size: 1.15em;
  margin-bottom: .25em;
  color: #666;
}

.drag .help{
  float: right;
}

.add-glossary{
  clear: both;
  font-size: .9em;
  padding-top: .5em;
}

.add-glossary span{
  clear: both;
  margin-top: .5em;
  border-top: 1px solid #bbb;
  padding-top: .75em;
  display: block;
}

/* ============== end earlier mock-ups =============== */

.pedagog-blocks ul, .pedagog-blocks li.pedagog, .pedagog-blocks dd{
  padding:  0;
  margin: 0;
  list-style-type: none;
  clear: right;
  position: relative;
}

#toolbox .pedagog-blocks ul, #toolbox .pedagog-blocks li.pedagog, #toolbox .pedagog-blocks dd, #toc-toolbox .pedagog-block ul, #toc-toolbox .pedagog-blocks li.pedagog, #toc-toolbox 
.pedagog-blocks dd{
/*
  float: left;
  margin-right: .75em;
*/
  display: inline-block;
}

#toolbox .pedagog-blocks dd/*, #toc-toolbox .pedagog-blocks dd */{
  margin-top: -.25em; /* not really sure right now why I should even need this but whatever */
}

#toolbox .pedagog-blocks dt, #toc-toolbox .pedagog-blocks dt{
/*
  float: left;
*/
  display: inline-block;
  margin-right: .75em;
  margin-top: .35em;
  margin-top: 0;
}

#toc-toolbox .pedagog-blocks ul{
  margin-left: 0 !important;
}

#toc-toolbox{
  background-color: #fff;
  z-index: 2;
  display: none;
/*
  height: 0;
  overflow: hidden;
*/
  width: 1000px;
  padding: .65em 0 .65em 25px;
}

#toc-toolbox dl, #toc-toolbox .pedagog, #toc-toolbox dd{
  margin-top: 0;
  margin-bottom: 0;
}

/*
#toc-toolbox{
}
*/

#toc-toolbox.scrolled{
  box-shadow: 0 0 5px #bbb;
  box-shadow: 0px 8px 6px -6px #9f9f9f;
  box-shadow: 0px 8px 6px -6px #ddd;
  border-bottom: 1px solid #ddd;
}

.edit-toc-mode #toc-toolbox{
  overflow-y: visible;
}

#toolbox .helper{
  display: none;
}

.pedagog-blocks li.pedagog, .more-block, .more-fake-1{
  background-color: #eee;
  border-radius: 7px;
  border: 1px solid #999;
  padding: 0 !important;
  margin-bottom: .5em;
}

/*
#toolbox .pedagog-blocks li.pedagog, #toolbox .more-block, #toolbox .more-fake-1{
  padding-right: 20px !important;
}
*/

.more-block{
  cursor: pointer;
  display: block;
/*
  height: 16px;
  width: 16px;
*/
  padding: .5em;
  min-width: 16px;
  margin-left: .5em !important;
  background-image: url(toolbar/toolbox-plus-05.png);
  background-repeat: no-repeat;
  background-position: center center;
}
.more-block:hover{
  background-image: url(toolbar/toolbox-plus-06.png);
}

.more-block{
  float: left;
  padding-right: 0;
  border-width: 0;
  background-color: transparent;
}

#toolbox .more-block{
  float: none;
  display: inline-block;
  margin: 0;
}

.more-fake-1{
  display: inline !important;
  padding-top: .35em !important;
  padding-bottom: .35em !important;
}

.pedagog-blocks .node, .pedagog-blocks .pedagog-glossary, .more-node, .more-fake span{
  padding: .5em .75em;
  display: block;
  text-decoration: none;
  color: black;
  margin-bottom: 0;
  padding-left: .75em;
  position: relative;
  z-index: 1;
  cursor: url(content_files/openhand.cur), default;
}

#toolbox .node, #toolbox .more-node, #toolbox .more-fake span, #toc-toolbox .node{
  display: inline-block;
}

/*
.pedagog-blocks .more-block .node{
*/
.more-node, .more-fake-2{
  cursor: pointer;
  padding-left: .75em;
  padding-right: .75em;
}

.more-fake-2{
  cursor: not-allowed;
}

.pedagog-blocks li.hovered{
  background-color: #C5DAE9 !important;
}

/*
#sidebar .pedagog-blocks .more-block .node{
  cursor: pointer;
}
*/

.plus{
  visibility: visible;
  color: #999;
  display: none;
}

.pedagog-blocks .hovered .count-total{
  background-color: #DFE7EC;
}

.pedagog-blocks node.pedagog-click{
  background-color: #ccc;
}

.change-label{
  float: right;
  position: relative;
  z-index: 5;
  cursor: default;
  border-top-right-radius: 7px;
  border-bottom-right-radius: 7px;
}

/*
.hovered .change-label{
  background-color: #DFE7EC;
}
*/
.change-label-arrow{
  border-left: 1px dotted #999;
  height: 100%;
  width: 15px;
  background-repeat: no-repeat;
  background-position: center center;
  padding: 0em .2em;
  margin: .5em 0;
}

#toc-toolbox .change-label{
  position: static;
}

#toolbox .hovered .change-label-arrow, #toc-toolbox .hovered .change-label-arrow{
  border-left: 1px dotted #999;
  background-image: url(content_files/downArrow.gif);
  background-image: url(toolbar/arrow-down-gray-01.png);
  background-image: url(toolbar/arrow-down-gray-02.png);
}

#toolbox ul.change-label-list, #toc-toolbox ul.change-label-list{
  display: none;
  position: absolute !important;
  left: 0;
  top: 100%;
  box-shadow: 0 0 3px #999;
  border: 1px solid #999;
  background-color: #eee;
}

#toc-toolbox ul.change-label-list{
  white-space: nowrap;  
  margin-top: 0 !important;
  min-width: 20em;
  box-shadow: 0 0 2px #aaa;
}

.change-label-list li{
  padding: 5px 10px 5px 20px;
  border-top: 1px solid #bbb;
}
.change-label-list li:first-child{
  border-top-width: 0;
}
.change-label-list li:hover{
  background-color: #e5eef5;
}
#toc-toolbox .change-label-list li{
  padding: .75em 1em;
  border-top: 1px solid #ccc;
  font-weight: bold;
  cursor: pointer;
  background-color: #f7f7f7;
}
#toc-toolbox .change-label-list li:hover{
  background-color: #ddd;
}

.change-label-list .instructions{
  padding-left: 10px;
  background-color: #C5DAE9;
  color: #000;
}
.change-label-list .instructions:hover{
  background-color: #C5DAE9;
}

.change-label-list li.selected{
  background-image: url(content_files/read.png) !important;
  background-repeat: no-repeat !important;
  background-position: 5px center !important;
}

.change-label.hovered{
  background-color: #C5DAE9;
}

.change-label.hovered .change-label-arrow{
  background-image: url(toolbar/arrow-down-gray-01.png);
  border-left-width: 0;
}

.hovered .change-label-arrow{
  display: block;
}

.pedagog-blocks .count{
  float: right;
  padding: .5em 0;
  color: #666;
  font-size: 1em;
  position: relative;
  z-index: 4;
  border: 1px solid transparent;
  margin: -1px -1px 0 -1px;
}
#toolbox .pedagog-blocks .count{
  display: none !important;
}

.pedagog-blocks .count-total{
  text-decoration: none;
  color: #000;
  border-top-right-radius: 7px;
  border-bottom-right-radius: 7px;
  position: relative !important;
  padding: .5em;
  border-left: 1px dotted #bbb;
  overflow: hidden;
}
#toolbar .pedagog-blocks .count-total{
  z-index: 5;
}

.pedagog-blocks .hovered.count-total{
  background-color: #555;
  color: white;
  border: 1px solid #555;
  margin-top: -1px;
  margin-left: -1px;
  border-radius: 0;
}
#toolbar .pedagog-blocks .hovered.count-total{
  z-index: 453;
}

.zero{
  display: none;
}

.count-arrow{
  background-image: url(helper_files/gray-arrow-01.png);
  background-repeat: no-repeat;
  background-position: 100% center;
  position: absolute;
  left: 100%;
  top: -1px;
  z-index: 451;
}

.node-list{
  display: none;
  position: absolute;
  left: 100%;
  top: -1px;
  background-color: white;
  white-space: nowrap;
  padding: .75em 1.5em;
  border: 1px solid #aaa;
  box-shadow: 0px 0px 5px #aaa;
  box-shadow: 2px 2px 5px -2px #aaa;
  z-index: 450;
}
#toolbox .node-list{
  z-index: 452;
}

.node-list a{
  color: #369;
}

.node-list p{
  color: black;
  display: block;
  margin-bottom: .5em;
  margin-top: 0;
}

.node-list ul + p{
  margin-top: 1em !important;
}

.pedagog-glossary{
  background-color: #e3e3e3 !important;
  cursor: default;
  background-color: transparent !important;
  border-width: 0 !important;
  padding: .5em 0 0 !important;
}

.glossary-container{
  display: none;
}

.convert-to-header .emphasis, .section-header .title{
  display: inline-block;
  position: relative;
  padding-bottom: 10px;
  margin-bottom: -10px;
}

/*
dfn.term, .emphasis, .selected-text, .foreign, .codeline, .fn-wrapper, .cite{
*/
.term, .emphasis, .selected-text, .foreign, .codeline, .fn-wrapper{
  position: relative !important;
/*
  padding-bottom: 10px;
*/
}

/*
dfn.term, .emphasis, .foreign, .codeline, .cite{
*/
.term, .emphasis, .foreign, .codeline{
  border: 1px solid transparent;
}

/*
.selected-text.selected, .term.selected, .emphasis.selected{ background-color: #C5DAE9; }

.selected-text.selectedDISABLED, .term.selected, .emphasis.selected{ background-color: #C5DAE9; }
*/
/*
#canvas ::-moz-selection{ background: #C5DAE9; }
#canvas ::selection{ background: #C5DAE9; }
*/

/*
.term *, .emphasis *{
*/
.ctt-list, .ctt-list-item, .ctt-list-item-submenu{
/* The following to prevent everythign in the dropdown list from suddenly getting selected when an item is clicked. */
/* Hmmm, they don't seem to work unless on the above element, which prevents selecting that text. */
-moz-user-select: none !important;
-khtml-user-select: none !important;
user-select: none !important;
}

.emphasis .edhint, .section-header .edhint, .term .edhint, .edhint{
  width: 100%;
  height: 15px;
  height: 20px;
  height: 12px;
  position: absolute;
  top: 100%;
  left: 0;
  z-index: 3;
/*
  border-bottom: 1px dashed #FF9900;
*/
  background-image: url(content_files/header-hint-07.png);
  background-repeat: repeat-x;
  background-image: url(content_files/menu-hint-05.png);
  background-image: url(content_files/menu-hint-circle-19.png);
  background-repeat: no-repeat;
  background-position: 0 1px;
  background-position: 0 5px;
  background-position: 0 0;
  cursor: default;
  margin-top: -10px;
  cursor: pointer !important;
-moz-user-select: none;
-khtml-user-select: none;
user-select: none;
  min-width: 24px;
  width: 24px;
  left: -12px;
  left: -8px;
  height: 20px;
  margin-top: -16px;
  margin-top: -6px;
  margin-top: -5px;
  left: -10px;
  width: 25px;
  height: 25px;
}

.place-above .edhint{
  background-image: url(content_files/menu-hint-circle-20.png);
  top: 0 !important;
  margin-top: -15px;
}

.selected-text .edhint{
  margin-left: 10px;
  margin-top: -15px;
  top: 1.5em;
  margin-top: 0;
}


.section-header .edhint{
  margin-top: -12px;
  background-image: url(content_files/menu-hint-03.png);
  left: 0;
  height: 12px;
  width: 100%;
  box-shadow: 0 3px 3px #eee;
}

.chevrons{
  width: 100%;
  height: 100%;
  display: block;
  background-image: url(content_files/menu-hint-chevrons-middle-01.png);
  background-repeat: no-repeat;
  background-position: center 0;
  background-position: center center;
  display: none;
}

.convert-to-header .chevrons, .title .chevrons, .section-header .chevrons{
  background-position: center 0;
  display: block;
}

.convert-to-header .edhint img, .title .edhint img, .term .edhint img, .emphasis .edhint img, .edhint img{
  position: absolute;
  right: 0;
  top: 0;
  margin-top: -1px;
  margin-top: 1px;
  margin-top: 5px;
  margin-top: 5px;
  margin-top: 0;
  margin-right: -7px;
  margin-right: -5px;
  padding-right: 1.35em;
  margin-right: -1.35em;
  paddin-bottom: .5em;
}

.convert-to-header .edhint img{
  display: block;
}

/*
.emphasis.edhinted{
  box-shadow: 3px 3px 3px #eee;
  display: inline-block;
}
*/

.cth-list, .cth-list li, .ctt-list, .ctt-list li{
  display: block;
  padding: 0;
  margin: 0 !important;
  list-style-type: none;
  white-space: nowrap;
}

.selected-text .ctt-list{
  margin-left: 10px !important;
}

.cth-list, .ctt-list, .footnote-editor{
  position: absolute;
  z-index: 4;
  top: 100%;
  left: 0;
  margin-top: -9px !important;
  margin-top: -10px !important;
  padding: .3em !important;
  background-color: #fff;
  border: 1px solid #999;
  min-width: 200px;
  max-width: 500px;
  box-shadow: 0 3px 3px #ccc;
  background-color: #fff;
  /* undo effects of ancestors */
  font-weight: normal;
  font-style: normal;
  text-decoration: none;
  color: black;
  letter-spacing: normal;
}
.ctt-list, .footnote-editor{
  margin-top: 1px !important;
  margin-top: 11px !important;
  left: -10px;
}
.selected-text .ctt-list{
  margin-top: 1px !important;
  top: 1.5em !important;
  margin-top: 10px !important;
  margin-top: 17px !important;
}
.ctt-list *, .footnote-editor *{
  position: relative;
  z-index: 6;
}
.footnote-editor{
  width: 400px;
  padding: 0 .5em !important;
  border: 1px solid #1b86d2;
  background-color: #c5dae9;
}
.ctt-list:before, .footnote-editor:before{ /* Taken from "sandeep" at http://stackoverflow.com/questions/9450733/css-triangle-custom-border-color */
  content: '';
  display: block;
  position: absolute;
  z-index: 5;
top: -9px;
left: 2px;
  width: 14px;
  height: 14px;
  background: #fff;
  border-left: 1px solid #999;
  border-top: 1px solid #999;
  -moz-transform:rotate(45deg);
  -webkit-transform:rotate(45deg);
}
.place-above .ctt-list, .place-above .footnote-editor{
  top: auto;
  bottom: 100%;
  margin-top: 0 !important;
  margin-bottom: 10px !important;
}
.place-above .footnote-editor{
  margin-bottom: 15px !important;
}
.selected-text.place-above .ctt-list{
  top: auto !important;
  bottom: 100% !important;
  margin-bottom: 0 !important;
}
.place-left .ctt-list, .place-left .footnote-editor{
  left: auto;
  right: 100%;
  margin-right: -10px !important;
}
.place-left .footnote-editor{
  margin-right: -15px !important;
}
.selected-text.place-left .ctt-list{
  margin-right: -20px !important;
}
.place-above .ctt-list:before, .place-above .footnote-editor:before{
  display: none;
}
.place-above .ctt-list:after, .place-above .footnote-editor:after{
  content: '';
  display: block;
  position: absolute;
  z-index: 5;
bottom: -9px;
left: 2px;
  width: 14px;
  height: 14px;
  background: #fff;
  border-right: 1px solid #999;
  border-bottom: 1px solid #999;
  -moz-transform:rotate(45deg);
  -webkit-transform:rotate(45deg);
}
.footnote-editor:after, .footnote-editor:before{
  border-color: #1b86d2 !important;
  background-color: #c5dae9 !important;
}
.place-left .ctt-list:before, .place-left .footnote-editor:before{
  left: auto !important;
  right: 2px !important;
}
.place-left .ctt-list:after, .place-left .footnote-editor:after{
  left: auto !important;
  right: 2px !important;
}
.place-left .footnote-editor:before, .place-left .footnote-editor{
}

.fake-out{
  position: absolute;
  z-index: 5;
  top: -10px;
  left: -10px;
  padding: 10px;
  display: inline;
/*
  opacity: .4;
  background-color: #f0f;
*/
}
.fne-title, .fne-submit{
  margin: .5em 0;
}
.footnote-editor .fne-textarea{
  border: 1px inset #1b86d2;
  background-color: #fff;
  padding: .1em .3em;
  margin: .5em 0;
  cursor: text;
  display: block;
  min-height: 3em;
}
.fne-submit{
  text-align: right;
}
.fne-submit input{
  border: 1px outset #999 !important;
  font-size: 1em;
  padding: .15em .5em !important;
}

h2 .cth-list{
  font-size: .6em;
}
h3 .cth-list{
  font-size: .8em;
}
h4 .cth-list{
  font-size: 1em;
}
.cth-level{
  display: block;
}
.codeline .ctt-list{
  font-family: tahoma,verdana,arial,helvetica,sans-serif;
  font-size: .847em;
}

.ctt-list-title{
  font-size: .85em;
  text-transform: uppercase;
  font-weight: bold;
  color: #777;
  padding-right: .5em;
}

li.cth-list-item, li.ctt-list-item, .ctt-list-submenu li{
  border: 1px solid #ccc;
  margin-top: -1px !important;
/*
  font-weight: bold;
*/
  padding: .5em .5em .5em 30px;
  cursor: pointer;
  background-color: #E5EEF5;
  white-space: nowrap;
  position: relative;
}

.ctt-list-submenu li{
  border-color: #bbb;
}

/*
li.cth-list-item:hover, li.ctt-list-item:hover, .ctt-list-submenu li:hover{
*/
.cth-list .hovered, .ctt-list .hovered{
  background-color: #C5DAE9;
  border: 1px solid #1B86D2 !important;
  z-index: 500 !important;
}

/*
.ctt-list-item.hovered .ctt-level{
  background-image: url(toolbar/right-arrow-01.png);
  background-repeat: no-repeat;
  background-position: right center;
}
*/

li.cth-list-item.selected, li.ctt-list-item.selected{
  background-image: url(content_files/checkmark-01.png);
  background-repeat: no-repeat;
  background-position: 6px center;
}

.ctt-list .ctt-level{
  font-weight: bold;
  display: block !important;
  padding-right: 30px;
  box-sizing: border-box;
}
.ctt-list-item.selected .ctt-level{
  background-image: url(toolbar/right-arrow-01.png);
  background-repeat: no-repeat;
  background-position: right center;
}

.ctt-list-term{
  position: relative;
  z-index: 5;
/*
  color: #333;
*/
}

.ctt-list-foreign{
  font-style: italic;
}

.ctt-list-code{
  font-family: courier, courier new, monospace;
}

.ctt-list-citation{
}

.ctt-list-submenu{
  position: absolute;
  left: 98%;
  top: -2px;
  margin: 0 !important;
  box-shadow: 0 3px 3px #ccc;
}

.ctt-list-submenu li{
  padding-left: 1em;
  padding-right: 1em;
  margin: 0;
  font-weight: normal;
  z-index: 3 !important;
}

li.cth-list-item.disabled, 
li.cth-list-item.disabled:hover, 
li.ctt-list-item.disabled, 
li.ctt-list-item.disabled:hover{
  color: #bbb;
  background-color: #eee;
  border-color: #ccc;
  cursor: default;
  cursor: not-allowed;
}

li.cth-list-help, li.ctt-list-help{
  letter-spacing: normal;
  padding-bottom: .5em;
  padding-left: .15em;
  white-space: nowrap;
  padding-right: 2em;
  z-index: 6;
  position: relative;
}

li.cth-list-help a, li.ctt-list-help a{
  float: right;
  margin-right: -2em;
}

li.cth-list-help-text-wrap, li.ctt-list-help-text-wrap{
  position: absolute;
  left: 100%;
  top: -1px;
  margin-top: -1px;
  margin-left: 1px;
  width: 279px; /* 250 + padding + border + shadow */
  white-space: normal;
  overflow: hidden;
}

.cth-list-help-text, .ctt-list-help-text{
  background-color: white;
  padding: 6px 12px 0;
  border: 1px solid #999;
  width: 250px;
  box-shadow: 3px 3px 3px #ccc;
  position: absolute;
  left: -250px;
  top: 0;
  height: auto;
  display: none;
}

.cth-list-help-text-close, .ctt-list-help-text-close{
  float: right; 
  margin-left: 1.25em;
  font-weight: normal;
  font-size: 1.4em;
  margin-top: 0em;
  cursor: pointer;
  z-index: 10;
}

.cth-list-help-text p, .ctt-list-help-text p{
  margin: .3em 0 .75em !important;
}

.section{
  margin-top: 0;
}

.note-contents{
  display: inline;
}

.equation-contents, .table .canvas-inner{
  text-align: center;
  padding-top: .75em;
}

.table .canvas-inner{
  padding-top: 1.25em;
}

.table th{
  background-color: #f3f3f3;
}

.para{ 
/*
 margin: .5em 0 !important;
*/
}

.meaning .para{ 
  margin: 0 !important;
}

.droppable-all, .droppable-all-existing, .droppable-picker{
  position: absolute;
  width: 100%;
  height: 1px;
  border: 1px dashed transparent;
  border-width: 1px 0;
  margin-top: -.4em;
}

.droppable-active{
  background-repeat: repeat-x;
  background-position: center center;
}

/*
.droppable-all-existing.canvas-wrap{
  background-color: #f0f;
}
*/

.droppable-picker{
  display: none;
/*
  margin-top: -1px;
  border-width: 0;
  width: 90%;
*/
}
.dragging-picker .droppable-picker{
  display: block;
}

.droppable-hover{
  background-color: #C5DAE9;
  cursor: copy;
  border: 1px dashed #1b86d2;
  position: relative;
  z-index: 3;
  margin: .5em 0;
  left: -1px;
}

.dragged{
  position: relative;
  z-index: 4;
  border: 1px solid #666;
  padding: .5em 1em;
  width: 400px;
  background-color: white;
  border-radius: 7px;
/*
-webkit-transform: skew(-15deg);
-moz-transform: skew(-15deg);
-o-transform: skew(-15deg);
-ms-transform: skew(-15deg);
*/
}

.dragged h2, .dragged .para{
  margin: 0 !important;
}

.dragged .exercise{
  margin: 0;
}

.dragged *{
  display: inline !important;
}

.no-drop{
  cursor: no-drop !important;
}
.copy-draggable{
  cursor: copy !important;
}

.content-editable, .content-editable-2{
  outline: 0;
}

.ui-dialog{
  font-size: 1em;
  font-family: tahoma, verdana, arial, helvetica, sans-serif;
  box-shadow: 0px 0px 5px #aaa;
padding: 0;
}

.ui-dialog .ui-widget-header{
  background-image: none;
  background-color: #C5DAE9;
  border-width: 0 0 1px;
}

.element-being-edited{
  background-color: #E5EEF5 !important;
  border-color: #C5DAE9;
}

.ui-dialog .ui-dialog-buttonpane{
  border-top-width: 0;
  margin-top: 0;
  padding-top: 0;
}

.element-options hr{
  height: 1px;
  background-color: #ddd;
  color: #ddd;
  border-width: 0;
  margin: 1em 0;
}

.element-options-tabs, .element-options-tabs li{
  display: block;
  margin: 0;
  padding: 0;
  list-style-type: none;
}

.element-options-tabs{
  margin: 1em 0 0;
  padding: 4px 0 3px;
}

.element-options-tabs li{
  font-size: .85em;
  float: left;
  border: 1px solid #888;
  border-bottom-width: 0;
  margin-right: -1px;
}

.element-options-tabs a{
  padding: 5px 1em 5px;
  position: relative;
  z-index: 609;
  text-decoration: none;
  display: block;
  color: #444;
  font-weight: bold;
  outline: 0;
  background-color: #f3f3f3;
}

.element-options-tabs li.selected a{
  z-index: 611;
  border-bottom: 1px solid #fff;
  background-color: #fff;
  color: #000;
}

.element-options-contents{
  margin: -1px 0 .5em;
  border: 1px solid #888;
  padding: 1em 1em 1em;
  position: relative;
  z-index: 610;
  clear: left;
  top: -1px;
}

span.cnx_label{
  font-size: .9em;
  color: #369;
  text-transform: uppercase;
  font-weight: bold;
  font-family: arial, helvetica, sans-serif;
}

.element-options fieldset{
  margin: 1em 0 0;
}

.element-options legend{
  font-weight: bold;
}

clear-text-from-input{
  color: #666;
}

#canvas .problem, #canvas .commentary{
  margin: 0;
}

.MathJax{
  cursor: default;
  position: relative;
  padding: .5em .2em;
  padding: .4em 0;
  border: 1px solid transparent;
display: inline-block;
}

.MathJaxText, .math-style{
  font-style: italic;
  font-size: 1.3em;
  font-family: serif; 
}

.MathJax.selected{
  background-color: #E5EEF5;
  background-color: #c5dae9 !important;
  background-color: #D4E3EE !important;
  background-color: #D9E7F1 !important;
  border: 1px dotted #C5DAE9 !important;
  border: 1px dotted #1B86D2 !important;
}

.MathJax.hovered{
  background-color: #E5EEF5;
/*
  background-color: #f3f3f3;
  background-color: #f9f9f9;
*/
  border: 1px dotted #ddd;
}

.ascii-notation{
  display: none;
}

/*
.asciimath{
  font-family: courier new;
}
*/

.MathJax.errored .ascii-notation, .MathJax.errored .MathJaxText{
  color: #c00;
}

.MathJax.unmathified{
  background-color: transparent !important;
  border-color: #999 !important;
}

.MathJax.unmathified .ascii-notation, .MathJax.unmathified .MathJaxText{
  color: #000;
}

.MathJax.to-remove{
  border-color: #c8c8c8 !important;
  background-color: #f7f7f7 !important;
}


.math-icon{
  display: none;
}

.math-icon-message{
  display: none;
  border: 1px solid #444;
  background-color: #f2f2f2 !important;
  color: #000 !important; /* because of .to-remove class */
  padding: .1em .5em !important;
  position: absolute;
  z-index: 2;
  left: 130%;
  top: 0;
  font-size: .85em;
  white-space: nowrap;
  border-radius: 3px;
}

.math-icon-message-close{
  font-weight: bold;
  padding-right: .3em;
  font-size: 1.1em;
  vertical-align: baseline;
}

.math-icon.hovered{
  background-image: url(content_files/remove-element-07.png) !important;
}

.math-icon.hovered .math-icon-message{
  display: block;
}

#math-icon-edit .math-icon-message{
  top: auto;
  bottom: 0;
  right: 130%;
  left: auto;
}

.MathJax #math-icon-clear{
  position: absolute;
right: -24px;
width: 24px;
right: -20px;
width: 20px;
height: 50%;
min-height: 20px;
top: -1px;
  background-image: url(content_files/remove-element-01.png);
  background-repeat: no-repeat;
  background-position: right top;
  cursor: pointer;
}

.MathJax #math-icon-edit{
  position: absolute;
left: -20px;
width: 20px;
height: 100%;
top: 2px;
  background-image: url(content_files/pencil-02.png);
  background-repeat: no-repeat;
  background-position: right bottom;
cursor: pointer;
}

/*
.MathJax *{
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  user-select: none;
}
*/

.math-editor{
  width: 350px;
  width: 400px;
  width: 500px;
  width: 520px;
  border: 1px solid #1b86d2;
  background-color: #c5dae9;
  position: absolute;
  z-index: 400;
left: -50%;
left: -150px;
  bottom: -30%;
  bottom: 100%;
  padding: 10px;
  box-shadow: 0px 0px 5px #aaa;
  text-align: left;
/*
   -moz-user-select: none !important;
   -moz-user-focus: none !important;
*/
  font-weight: normal;
}

/*
.math-editor *{
  position: relative;
  z-index: 402;
}
*/

.math-editor:after { /* Taken from "sandeep" at http://stackoverflow.com/questions/9450733/css-triangle-custom-border-color */
  content: '';
  display: block;
  position: absolute;
  z-index: 401;
bottom: -14px;
right: 200px;
right: 250px;
right: 260px;
  width: 25px;
  height: 25px;
  background: #C5DAE9;
  border-right:1px solid #1b86d2;
  border-bottom:1px solid #1b86d2;
  -moz-transform:rotate(45deg);
  -webkit-transform:rotate(45deg);
}

#math-editor-help{
  float: right;
  position: relative;
  z-index: 404;
  font-size: .85em;
  padding-left: 10px;
}

.math-source{
  border: 1px inset #1b86d2;
  background-color: #fff;
  padding: .1em .3em;
  margin-bottom: .5em !important;
  cursor: text;
  margin-right: 4em;
  display: block;
  font-family: courier new;
}

.math-source-wrap{
  position: relative;
  z-index: 403;
}

/*
#math-advanced{
  margin-top: .5em;
  padding-top: .5em;
  border-top: 1px solid #A1B2BF;
  clear: both;
  display: none;
}

#math-advanced label{
  padding-right: .5em;
}

#math-advanced input{
  padding: 0;
  vertical-align: top;
  margin: 0;
}
*/

.math-help{
  padding-left: 0em;
  cursor: pointer;
  font-size: .85em;
}

.math-help-text-wrap{
  position: absolute;
  left: 100%;
  top: 0;
  margin-top: -1px;
  margin-left: 1px;
  width: 279px; /* 250 + padding + border + shadow */
  overflow: hidden;
}

.math-help-text{
  background-color: white;
  padding: 6px 12px;
  border: 1px solid #999;
  width: 250px;
  box-shadow: 3px 3px 3px #ccc;
  position: absolute;
  left: -250px;
  top: 0;
  height: auto;
  display: none;
  line-height: normal;
}

#math-error{
  border: 1px solid #c00;
  background-color: #FFF6D1;
  border-bottom: 0;
  background-color: #fee;
  color: #c00;
  position: absolute;
  bottom: 100%;
  display: none;
  padding: 6px 12px;
  width: 100%;
  left: 0;
/*
  box-shadow: -3px -3px 3px #ccc;
*/
}

.math-help-text-close{
  float: right; 
  margin-left: 1.25em;
  font-weight: normal;
  font-size: 1.4em;
  margin-top: -.1em;
  cursor: pointer;
}

/*
.math-help-text a{
  color: #444 !important;
}
*/

#math-done{
  text-align: right;
/*
  position: relative;
  z-index: 403;
*/
  margin-top: .5em;
}

.math-done{
  border: 1px outset #999 !important;
  font-size: 1em;
  padding: .15em .5em !important;
}


#cheat-sheet-activate, #unmathify-activate{
  font-size: 1em;
  font-weight: normal;
  padding-left: 1em;
}
#unmathify-activate{
  font-size: .85em;
}
#cheat-sheet-activate label, #unmathify-activate label, #radio_plain_label{
  font-weight: normal;
}

.math-options{
  float: left;
}

.math-options .math-help{
  padding-left: .5em;
  padding-right: 1.5em;
}

/*
.math-editor-help{
  text-align: right;
  font-size: .85em;
}
*/

#cheat-sheet-wrap{
  width: 100%;
  position: fixed;
  bottom: 0;
  right: 0;
  color: #ddd;
  display: none;
  z-index: 454;
}

#cheat-sheet{
  border-top: 1px solid black;
/*
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
*/
  padding: .5em 1em 1em;
  background-color: #444;
display: none;
/*
  box-shadow: -5px 0 10px #999;
*/
  box-shadow: -10px 0 10px #bbb;
}

#cheat-sheet-close{
  float: right;
  cursor: pointer;
}

#cheat-sheet-open{
  float: right;
  background-color: #444;
  padding: .25em 1em;
  border-top-left-radius: 5px;
  border-top-right-radius: 5px;
  cursor: pointer;
}

#cheat-sheet-title{
  margin-bottom: .75em;
}

#cheat-sheet-type{
  float: left;
  white-space: nowrap;
  margin-right: 1em;
}

#cheat-sheet-type label{
  font-weight: normal;
}

.cheat-sheet-values{
  background-color: #fff;
  overflow-x: auto;
  color: #000;
}

.cheat-sheet-values table{
  font-family: courier new, courier;
  border-width: 0;
  border-collapse: collapse;
}
.cheat-sheet-values td{
  border-width: 0;
  border-right: 1px solid #444;
  border-bottom: 1px solid #ccc;
  text-align: center;
  white-space: nowrap;
}

.icon-flyout{
  position: absolute;
  top: 33px;
  right: 0;
  left: auto;
  background-color: #e2e2e2;
  border: 1px solid #b9b9b9;
  border-bottom-color: #999;
  border-right-color: #999;
  box-shadow: 0px 0px 5px #aaa;
  box-shadow: 3px 3px 5px #aaa;
  box-shadow: 2px 2px 3px #aaa;
  padding: .75em;
}

#add-new-flyout{
  padding: 0 !important;
  text-align: left;
}

#add-new-flyout ul, #add-new-flyout dl{
  margin: 0;
}

#add-new-flyout li.pedagog{
  margin: 0;
  border-radius: 0;
  border-width: 1px 0 0;
  background-color: #ddd;
}

#add-new-flyout dt{
  font-style: italic;
  padding: .6em 1em;
  text-align: right;
text-align: left;
}

#format-text-flyout{
  top: 28px;
  background-color: #fff;
  padding: 0;
}
#format-text-flyout ul, #format-text-flyout li{
  margin: 0;
  padding: 0;
  display: block;
}
#format-text-flyout li{
  border-top: 1px solid #ccc;
}
#format-text-flyout li:first-child{
  border-top-width: 0;
}
#format-text-flyout a{
  color: black;
  text-decoration: none;
  padding: 7px 10px 7px 10px;
  display: block;
}
#format-text-flyout a:hover{
  background-color: #D9E7F1;
}
#ft-heading a, #ft-subheading a, #ft-subsubheading a{
  font-weight: bold;
  color: #369;
  letter-spacing: -1px;
}
#ft-heading a{
  font-size: 1.75em !important;
  padding-top: 5px;
  padding-bottom: 5px;
}
#ft-subheading a{
  font-size: 1.45em !important;
  padding-top: 7px;
  padding-bottom: 7px;
}
#ft-subsubheading a{
  letter-spacing: 0;
}
#ft-codeblock{
  font-size: 1.18em;
  font-family: courier, courier new, monospace;
}

#toolbar-what-are-these{
  text-align: right;
  padding: .5em 1em !important;
  display: block !important;
  cursor: pointer;
}
#toolbar-what-are-these a{
  color: #369;
}
#toolbar-what-are-these-wrapper{
  clear: both;
  padding-top: 1em;
}

/*
.icon-flyout-dd{
  padding: 0;
  left: auto;
  right: 0;
  border-color: #b9b9b9;
}
*/

/*
.toolbar-text-menu .icon-flyout{
  right: 0;
  left: auto;
}
*/
#toolbar-format-text .icon-flyout{
  left: 0;
  right: auto;
}

.icon-flyout:before{
  content: "";
  position: absolute;
  top: -4px;
  left: 0;
  width: 31px;
  height: 5px;
  background-color: #e2e2e2;
}

.icon-flyout-dd:before{
  left: auto;
  right: 0;
  width: 15px;
}

.toolbar-text-menu .icon-flyout:before{
  width: 0;
  height: 0;
}

.toolbar-text-menu.selected:after{
  content: "";
  position: absolute;
  margin-top: -4px;
  margin-left: 0px;
  left: 0;
  border: 1px solid #999;
  border-width: 0 1px;
  -moz-box-sizing: border-box;
  top: 100%;
  width: 100%;
  height: 5px;
  background-color: #e2e2e2;
}

/*
.selected .toolbar-icon{
  box-shadow: 3px 3px 5px #aaa;
}
*/

.flyout-options{
  margin-bottom: .75em;
}

#add-new-flyout{
  width: 200px;
  white-space: normal;
}

/*
#table-flyout-flyout{
  display: none;
  position: absolute;
z-index: 2;
  left: 98%;
  box-shadow: 0px 0px 3px #aaa;
  top: .5em;
  background-color: #e2e2e2;
  border: 1px solid #b9b9b9;
  border-bottom-color: #999;
  border-right-color: #999;
  padding: .75em;
  cursor: auto;
}
*/

#table-flyout label{
  font-weight: normal;
}

#table-flyout table{
  border: 1px solid #555;
  border-collapse: collapse;
}

#table-flyout td{
  border: 1px solid #777;
width: 1.4em;
height: 1.4em;
max-width: 1.4em;
min-width: 1.4em; 
max-height: 1.4em; 
min-height: 1.4em;
width: 15px;
height: 17px;
max-width: 15px;
min-width: 17px; 
max-height: 15px; 
min-height: 17px;
overflow: hidden;
  cursor: default;
}

#table-flyout td.header{
  border: 1px solid #000;
  background-color: #cfcfcf;
}

#table-flyout td.hovered{
  background-color: #C5DAE9;
}

#table-flyout td.header.hovered{
  background-color: #B3C6D4;
}

#table-dimensions{
  text-align: center;
  margin-top: .5em;
}

.temporarily-hide{
  display: block !important;
  height: 0 !important;
  width: 0 !important;
  overflow: hidden !important;
  position: absolute !important;
  left: -10000px;
  top: -10000px;
  padding: 0 !important;
  border-width: 0 !important;
  margin: 0 !important;
}

.table-temp-empty.activated, .image-temp-empty, .element-temp-empty, .semantic-temp-empty.hovered, .video-temp-empty{
  position: absolute;
  position: relative;
/*
  background-color: #D9E7F1;
  border: 1px dotted #1B86D2;
  background-color: #1b86d2;
  width: 20px;
  height: 20px;
  display: inline-block;
  opacity: .25;
  margin-left: -8px;
  border-radius: 10px;
  position: static;
  position: relative;
*/
/*
  width: 30px;
  height: 30px;
  background-image: url(content_files/insert-here-arrow-02.png);
  opacity: .35;
  background-position: 0px 0px;
  background-repeat: no-repeat;
  overflow: visible;
*/
}

.temp-arrow{
  position: absolute;
  right: 0;
  bottom: 0;
  left: 0;
  left: -14px;
/*
  left: -11px;
  left: auto;
*/
  background-image: url(content_files/insert-here-arrow-02.png);
  background-image: url(content_files/insert-here-arrow-05.png);
  background-position: 0px 0px;
  background-repeat: no-repeat;
  opacity: .35;
  opacity: .5;
/*
  width:  30px;
  height: 30px;
  width:  28px;
  height: 34px;
  width:  22px;
  height: 26px;
*/
  width:  28px;
  height: 30px;
  height: 32px;
/*
  width:  30px;
  height: 33px;
*/
/*
  white-space: nowrap;
  height: 45px;
  width: auto;
  left: -50%;
  background-color: #fff;
  background-position: 0 bottom;
*/
}

.element-temp-empty{
/*
  display: block;
  margin: .75em 0;
  position: static;
*/
}

.table-temp-text, #LinkNew, .LinkNew, .image-temp-textTEMP, .semantic-temp-text.hovered/*, #NewFormatText */{
  background-color: #D9E7F1;
  border: 1px dotted #1B86D2;
}

.image-temp-text{
  color: #bbb !important;
  background-color: transparent !important;
  border: 1px dotted #c8c8c8;
}

.element-temp-text{
  background-color: #D9E7F1;
  border: 1px dashed #1B86D2;
  display: block;
  margin: .75em 0;
  padding: .75em 1em;
}

.table-examples{
  margin-top: .3em;
}

.table-examples td{
  vertical-align: top;
  text-align: center;
padding: 0 .75em;
}

.table-examples table{
  margin: auto;
}

div.table-example{
  margin-top: .5em;
}

.table-examples .table-example table{
  font-size: .9em;
  margin-top: 0;
  border-collapse: collapse;
  border: 2px solid #000;
}
.cell-examples .table-example table{
  border-width: 1px;
}

.table-examples .table-example td{
  margin-top: 0;
  border-bottom: 1px solid #333;
  border-right: 1px solid #333;
padding: 0 .1em;
}
.cell-examples .table-example.none td{
  border-bottom: 1px dotted #ddd;
  border-right: 1px dotted #ddd;
}

.table-examples .table-example td.te-right{
  border-right-width: 0;
}
.table-examples .table-example td.te-bottom{
  border-bottom-width: 0;
}

.menu-list, .menu-list li{
  margin: 0;
  padding: 0;
  list-style-type: none;
  display: block;
}

.menu-list{
  border-top: 1px solid #ccc;
  padding: .5em 0;
  margin: 0 .75em;
}

.menu-list li{
  padding: .5em .75em;
  cursor: pointer;
  margin: 0 -.75em;
}

.menu-list li.hovered{
  background-color: #f8f8f8;
  background-color: #fff;
  background-color: #E5EEF5;
  background-color: #C5DAE9;
}

.menu-list.disabled li{
/*
  color: #aaa;
*/
  opacity: .5;
  cursor: default;
}

/*
#table-flyout-new{
  border-top-width: 0;
  position: relative;
}
*/

#table-flyout-insert{
  border-top-width: 0;
}

#table-flyout-options li, #table-contextmenu-options li{
  padding-left: 28px;
  background-image: url(content_files/options-05.png);
  background-repeat: no-repeat;
  background-position: .75em center;
}

/*
#table-flyout-new .list-text{
  display: block;
  background-image: url(toolbar/right-arrow-01.png);
  background-position: right center;
  background-repeat: no-repeat;
}
*/

.media-block{
  text-align: center;
  position: relative;  
  display: block;
  margin: .5em auto;
  min-width: 50%;
}

.media-block.inline{
  display: inline;
}

.media-inner-plus-alt{
  position: relative;
  display: inline-block;
  cursor: default;
}

.image-options{
  display: none;
  position: absolute;
top: 100%;
left: 0;
  padding: .5em 1.5em;
  background-color: white;
  white-space: nowrap;
/*
  min-width: 100%;
*/
border: 1px solid #bbb;
  z-index: 3;
  margin-left: -1px;
text-align: center;
  margin-top: -.5em;
  font-size: .9em;
  box-shadow: 0 2px 2px #aaa;
background-color: #f2f2f2;
}

.image-options a{
  text-decoration: none;
}

.image-options .already-added{
  color: black !important;
  cursor: default;
}

.image-options .disabled label, .image-options .disabled a{
  color: #555 !important;
  cursor: help;
  text-decoration: none;
}

.image-options-options{
  padding-left: 1.25em;
  border-left: 1px solid #999;
  margin-left: .75em;
}

.image-options label{
  font-weight: normal;
}

.alt-warning-wrap, #thanks{
  position: absolute;
/*
  right: 10px;
  right: -26px;
  right: auto;
*/
  left: 100%;
  margin-left: 10px;
margin-left: 0;
  top: 10px;
  top: 4px;
  right: -20px;
right: auto;
  cursor: pointer;
  background-color: #C5DAE9;
  background-color: #D9E7F1;
  background-color: transparent;
  border: 1px solid #1B86D2;
  border: 1px dotted #1B86D2;
  border: 1px dotted transparent;
  padding: .2em .5em;
  padding-left: 30px;
  z-index: 1;
  width: 120px;
  text-align: left;
/*
  background-color: #fff;
*/
}

.alt-warning-wrap:hover{
  border: 1px dotted #1B86D2;
  background-color: #D9E7F1;
  cursor: pointer;
  z-index: 400;
  width: 180px;
}

.alt-warning-wrap:hover:before { /* Taken from "sandeep" at http://stackoverflow.com/questions/9450733/css-triangle-custom-border-color */
  content: '';
  display: block;
  position: absolute;
  z-index: 401;
left: -9px;
top: 10px;
  width: 14px;
  height: 14px;
  background: #d9e7f1;
  border-left: 1px dotted #1b86d2;
  border-bottom: 1px dotted #1b86d2;
  -moz-transform:rotate(45deg);
  -webkit-transform:rotate(45deg);
}

.alt-warning-wrap img{
  vertical-align: middle;
  position: relative;
  z-index: 403;
  float: left;
  margin-left: -22px;
  margin-top: .25em;
}

.alt-warning-wrap.hovered{
  width: 230px;
}
.alt-warning-wrap.hovered .alt-warning-text{
  color: black;
  font-style: normal;
  font-size: .85em;
}

.alt-warning-text{
/*
  padding-left: .5em;
*/
  color: #555;
  font-style: italic;
  background-color: #fff;
}

.alt-warning-wrap.hovered .alt-warning-text{
  background-color: transparent;
}

#thanks{
  color: white;
  background-color: #3c3;
  background-color: #292;
  background-color: #C5DAE9;
  border: 1px solid #1B86D2;
  color: black;
  padding: .25em 1em;
  right: auto;
  left: 100%;
}

.media-title, .media-caption{
  display: none;
  width: 60%;
}

.media-title{
  border: 1px dashed transparent;
  margin: 0 auto .5em;
  padding: .5em 12px;
  border-bottom: 1px solid #999;
}
.media-caption{
  margin: .5em auto 0;
  text-align: left;
  border-top: 1px solid #999;
  position: relative;
}

.media-title .hint-text, .media-caption-removable{
  padding-right: 2em;
}

/*
.media-caption.just-title .media-caption-removable{
  display: none;
}

.media-caption.just-title{
  text-align: center;
}

.media-caption.just-title .cnx_label{
  float: none;
}
*/

.media-caption .cnx_label{
  float: left;
  padding: .5em 12px .5em;
  padding: .55em 3px .55em 0;
  display: inline-block;
  border: 1px solid transparent;
}

.media-caption-removable{
  padding: .5em 12px .5em 3px;
  border: 1px dashed transparent;
  border-top-width: 0;
  overflow: hidden;
  display: block;
}

.hovered .media-caption-removable{
  border: 1px dashed #ccc;
  border-top-width: 0;
}

.media-caption .hint-text{
  display: none;
}
.media-caption.hovered .hint-text{
  display: inline;
}

.media-title.hovered{
  border: 1px dashed #ccc;
  border-bottom: 1px solid #999;
}

.media-title-close, .media-caption-close{
  float: right;
  cursor: pointer;
  display: none;
}

.media-caption.hovered .media-caption-close, .media-title.hovered .media-title-close{
  display: block;
}

.media-caption-text, .media-title-text{
  padding-right: 2em;
}

.media-title-text{
  font-weight: bold;
}

.media-training-wheels{
  width: 250px;
  border: 1px solid #1b86d2;
  background-color: #c5dae9;
  position: absolute;
  z-index: 400;
  right: 100%;
  top: 0;
  margin-right: 17px;
  padding: 10px;
  box-shadow: 0px 0px 5px #aaa;
  text-align: left;
  line-height: normal;
}

.media-training-wheels:after { /* Taken from "sandeep" at http://stackoverflow.com/questions/9450733/css-triangle-custom-border-color */
  content: '';
  display: block;
  position: absolute;
  z-index: 401;
top: 3px;
right: -11px;
  width: 20px;
  height: 20px;
  background: #C5DAE9;
  border-right:1px solid #1b86d2;
  border-bottom:1px solid #1b86d2;
  -moz-transform:rotate(-45deg);
  -webkit-transform:rotate(-45deg);
}

.media-tw-close{
  float: right;
  cursor: pointer;
  padding-left: 2em;
  font-weight: bold;
  position: relative;
  z-index: 403;
}

.media-tw-header{
  font-weight: bold;
  margin: 0 0 .5em;
}

.media-tw-explanation{
  font-size: .9em;
}

.image-resize{
  border: 1px solid #000;
}

.media-table{
  border: 0;
  width: 100%;
  border-collapse: collapse;
}
.media-table td{
  border: 1px solid transparent; /* 1px transparent due to some stupid chrome/jquery bug */
  padding: 0;
  position: relative;
}
.media-table-add{
  vertical-align: middle;
  text-align: center;
  width: *%;
}
.media-table-add div{
  display: none;
  border: 1px dotted #ccc;
  margin: auto;
  min-height: 40px;
  line-height: 2em;
  padding: .75em 0;
  width: 150px;
  text-align: center;
  cursor: pointer;
  color: #888;
}

#image-options{
  padding-top: .5em;
}

#drag-image{
  margin: .5em 0 1em;
  padding: 1em;
  border: 2px dashed #999;
  text-align: center;
  background-color: #E5EEF5;
  background-color: #F1F6FA;
  background-repeat: no-repeat;
  background-position: center top;
  position: relative;
}

#drag-image.invisible *{
  visibility: hidden;
}

#image-try-over{
  position: absolute;
  visibility: visible !important;
  right: 0;
  top: 0;
  padding: .4em 1em;
  box-shadow: -3px 3px 3px #eee;
  color: #666;
  font-size: .85em;
  background-color: #fff;
  border: 1px dotted #aaa;
  border-width: 0 0 1px 1px;
  cursor: pointer;
}

#video-preview{
  margin: .5em 0 1em;
  padding: 1em;
  border: 2px dashed #999;
  text-align: center;
  background-color: #E5EEF5;
  background-color: #F1F6FA;
  background-repeat: no-repeat;
  background-position: center top;
  position: relative;
}

#video-try-over{
  position: absolute;
  visibility: visible !important;
  right: 0;
  top: 0;
  padding: .4em 1em;
  box-shadow: -3px 3px 3px #eee;
  color: #666;
  font-size: .85em;
  background-color: #fff;
  border: 1px dotted #aaa;
  border-width: 0 0 1px 1px;
  cursor: pointer;
}

#drag-image-here{
  font-weight: normal;
  margin: 1em 0 2em;
  margin: 2em 0 1em;
  color: #777;
  font-size: 1.3em;
}

#drag-image-here, #drag-image-alternatives{
/*
  text-shadow: 0px 0px 1px #fff, 0 0 2px #fff, 0 0 3px #fff, 0 0 4px #fff;
*/
/*
  text-shadow: 2px 2px 0 #fff, -2px -2px 0 #fff, 2px -2px 0 #fff, -2px 2px 0 #fff;
  text-shadow: 2px 2px 1px #fff, -2px -2px 1px #fff, 2px -2px 1px #fff, -2px 2px 1px #fff;
*/
/*
  text-shadow: 1px 1px 0 #fff, -1px -1px 0 #fff, 1px -1px 0 #fff, -1px 1px 0 #fff;
*/
}

.dia-alt{
  margin: .5em 0;
}

#upload-image, #upload-video{
  overflow: hidden;
  width: 0;
  height: 0;
}

#upload-image-link, #upload-url-link{
  outline: none;
}

#upload-url{
  margin: -1em 0 .5em;
}

#reuse-info, #video-reuse-info{
  padding: .5em 0 .5em 3em;
}

#reuse-info input, #reuse-info select, #video-resue-info input, #video-reuse-info select{
  border-width: 1px;
}

#reuse-info .disabled, #video-reuse-info .disabled{
  background-color: #e3e3e3;
}

.cnx_label.clear.active{
  position: relative;
}

.clearer{
  display: none;
}

.cnx_label.clear.active .clearer{
  display: block;
  position: absolute;
right: 100%;
width: 24px;
min-height: 16px;
bottom: .5em; /* padding on this label? */
  background-image: url(content_files/broom-02.png);
  background-repeat: no-repeat;
  background-position: left bottom;
  cursor: pointer;
}

#reuse-footnote-text{
  padding: .2em;
  border: 1px inset #666;
  min-height: 3em;
}

#reuse-footnote-text.disabled{
  background-color: #e3e3e3;
}

#reuse-footnote-text span{
  display: none;
}

.image-back{
  float: left;
  display: none;
}
.video-back{
  float: left;
  display: none;
}
.ui-dialog-buttonset{
  float: none !important;
  text-align: right;
  padding-left: 1em;
}

#enter-alt{
  margin-bottom: .5em;
  margin-top: 2.5em;
}

.image-forward.disabled{
  color: #888;
}

.video-forward.hidden{
  display: none;
}

#image-size{
  display: none;
  text-align: center;
  margin: .7em 0 1.5em;
}

.link-radio{
  float: left;
}

.link-value{
  padding-left: 2.5em;
}

#link-locations{
  margin-top: 1em;
}

.link-location{
  clear: left;
  margin-top: .5em;
}

#ltw-webpage-url{
  margin-top: .25em;
  border-width: 1px;
  padding: 1px 0;
}
#ltw-webpage-url.disabled{
  background-color: #ddd;
  color: #888;
  border-width: 1px;
}

#ltw-webpage-test, #link-parts-preview{
  text-align: right;
  position: relative;
  padding-top: .25em;
}
#ltw-webpage-test a, #link-parts-preview a{
  font-size: .85em;;
  color: #369;
}

#link-parts-filters, #link-parts-filters li{
  display: block;
  margin: 0;
  padding: 0;
  list-style-type: none;
}

#link-parts-filters{
/*
  text-align: center;
*/
  margin: .25em 0 0;
/*
  width: 100%;
  top: 0;
  border: 1px solid #999;
  border-bottom-width: 0;
  border-bottom: 1px solid #bbb;
  padding: .4em 0 .5em;
  box-shadow: 0 3px 3px #ccc;
  background-color: #f6f6f6;
  background-color: #f3f3f3;
*/
}

#link-parts-filters li{
  display: inline-block;
  padding: 0 .75em 0 1em;
padding: 0 .2em 0 .45em;
  border-left: 1px solid #999;
  cursor: pointer;
  text-decoration: underline;
  color: #369;
}

#link-parts-filters #lp-all, #link-parts-filters #lp-header{
  border-left-width: 0;
}

#link-parts-filters #lp-header{
  cursor: auto;
  text-decoration: none;
  padding-right: 0;
  font-weight: normal;
  color: black;
padding: 0;
}

#link-parts-filters .selected{
  font-weight: bold;
  color: black;
  cursor: default;
  text-decoration: none;
}

#link-parts.disabled{
  display: none;
/*
  background-color: #ddd;
  color: #888;
*/
}
#link-parts.disabled .cnx_label{
/*
  color: #888;
*/
}

#link-parts{
  border: 1px solid #999;
  border: 1px dotted #777;
/*
  border-top-width: 0;
*/
  max-height: 135px;
  overflow: auto;
  width: 100%;
  margin: 0;
  margin-top: .5em;
}

.linkable-part, .nothing-to-display{
  width: 96%;
  line-height: 1.3em;
  height: 1.3em;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  border-top: 1px dotted #bbb;
  margin-top: -1px;
  padding: .5em 2%;
  vertical-align: 0;
  cursor: pointer;
}

.linkable-part math, .linkable-part math *{
/*
  line-height: 1.3em !important;
  vertical-align: middle !important;
  height: 1.3em !important;
  overflow: hidden;
*/
  vertical-align: top;
}

.linkable-part.hovered{
  background-color: #E5EEF5;
}
.linkable-part.selected{
  background-color: #C5DAE9;
}

.nothing-to-display{
  color: #666;
  font-style: italic;
}

.table-title{
  margin-bottom: .5em;
}

.required2{
}

.required2.warning{
  color: #ee7700;
  font-weight: bold;
}

#drag-image.warning3{
  border-color: #e70 !important;
  border-width: 3px !important;
}

.solution-toggle-hide, .solution-toggle-show, .answer-toggle-hide, .answer-toggle-show{
  text-align: center;
}

.solution-toggle, .answer-toggle{
  cursor: pointer;
}

.note-decoration, .example-decoration{
  margin: .5em 3em;
  border: 1px solid #666;
  border-top-color: #ccc;
  border-left-color: #ccc;
  padding: .75em 1em;
}

.example-decoration{
  padding: 1em 10px .25em;
  border-left: 0;
  border-right: 0;
  border-color: #ccc;
  background-color: #f3f3f3;
  margin: .5em 0;
}

.quote-decoration{
  padding: 0 0 0 26px;
/*
  background-image: url(content_files/quotemarks-03.png);
  background-repeat: no-repeat;
  background-position: 0 3px;
*/
}

.quote-contents{
  font-style: italic;
  padding-right: 26px;
/*
  background-image: url(content_files/quotemarks-04.png);
  background-repeat: no-repeat;
  background-position: right bottom;
*/
}

.link, .cnxn{
  position: relative;
}

.link-options{
  position: absolute;
  top: 100%;
  left: 0;
  border: 1px solid #999;
  border-radius: 8px; 
  display: inline-block;
  padding: .25em 1.25em;
  background-color: white;
  z-index: 10;
  box-shadow: 2px 2px 2px #aaa;
  line-height: 33px;
  color: #000;
  font-weight: normal;
}

.link-information{
  white-space: nowrap;
}
.link-information a{
  color: #369 !important;
}

.edit-link, .unlink-link{
  padding-left: .1em;
  padding-right: .8em;
  border-right: 1px solid #888;
}

.edit-link-icon, .unlink-link-icon, .visit-link-icon{
  text-decoration: none;
}

.unlink-link-icon, .visit-link{
  padding-left: .4em;
}

#image-dialog-title, #image-dialog-caption, #video-dialog-caption{
  margin: 1em 0;
}

#image-dialog-title .hint-link, #image-dialog-caption .hint-link, .link-options a, .link-options a img{
/*
  text-align: center;
*/
  cursor: pointer !important;
}

#image-dialog-title-close, #image-dialog-caption-close{
  float: right;
  cursor: pointer;
}

#image-dialog-title-text, #image-dialog-caption-text{
  margin-right: 1.5em;
  border: 1px dashed #ccc;
  padding: .15em .25em;
}

#image-dialog-title-text{
  font-weight: bold;
}

.hint-link{
  color: #369;
  text-decoration: underline;
  cursor: pointer;
}


.exercise-header, .solution-header, .note-header, .example-header, .definition-header{
  position: relative;
}

.exercise-header .cnx_label, .solution-header .cnx_label, .note-header .cnx_label, .example-header .cnx_label, .definition-header .cnx_label{
  padding-right: 6px;
  padding-left: 12px;
  background-image: url(content_files/blue-square-01.png);
  background-repeat: no-repeat;
  background-position: 100% .15em;
  background-position: 0 .15em;
  background-position: 0 .1em;
}
.canvas-hovered .exercise-header .cnx_label, .canvas-hovered .solution-header .cnx_label, .canvas-hovered .note-header .cnx_label, .canvas-hovered .example-header .cnx_label, .canvas-hovered .definition-header .cnx_label{
  background-image: url(content_files/downArrow.gif);
}

.label-list{
  position: absolute;
  top: -5px;
/*
  top: 100%;
*/
  left: -21px;
  background-color: white;
  border: 1px solid #ddd;
  box-shadow: 1px 1px 3px #ccc;
  z-index: 3;
  min-width: 10em;
}

.label-list .cnx_label{
  display: block;
  padding: 5px 10px;
  padding-left: 20px;
  border-bottom: 1px dotted #ddd;
  cursor: pointer;
  background-image: none !important;
}

.label-list .cnx_label:hover{
  background-color: #e5eef5;
}

.label-list .current{
  background-image: url(content_files/read.png) !important;
  background-repeat: no-repeat !important;
  background-position: 5px center !important;
}

#semantic-help{
  text-align: right;
  margin-top: 0em;
  margin-top: 3em;
  position: relative;
}
#semantic-help a{
  color: #369;
}
#semantic-help-question, #toolbar-what-are-these a{
  padding-left: 25px;
  background-image: url(content_files/left-up-arrow-01.png);
  background-repeat: no-repeat;
  background-position: 0 3px;
  color: #2A537D;
}
/*
#semantic-help-question{
  display: block;
  margin-top: 1em !important;
}
*/
#semantic-help-answer-wrap{
  position: absolute;
  left: 100%;
  top: 0;
  margin-top: -65%;
  margin-top: 65%;
  width: 641px; /* 600 + padding + border + shadow */
  white-space: normal;
  overflow: hidden;
  z-index: 400;
text-align: left;
}
#semantic-help-answer{
  background-color: white;
  padding: 10px 12px 0;
  border: 1px solid #999;
  width: 600px;
  box-shadow: 0px 0px 5px #aaa;
  position: absolute;
  left: -600px;
  top: 0;
  height: auto;
  display: none;
}
#semantic-help-answer-close{
  float: right;
  margin-left: 1.25em;
  font-weight: normal;
  font-size: 1.2em;
  margin-top: -.4em;
  cursor: pointer;
}
.sh-section-opener{
  margin-bottom: .5em;
  font-weight: bold;
}
.plusminus{
  display: none;
}

#table-context-menu{
  background-color: #fff;
  box-shadow: 0px 3px 3px #ddd;
  border: 1px solid #bbb;
  font-family: tahoma,verdana,arial,helvetica,sans-serif;
  position: absolute;
  z-index: 1000;
}
#table-contextmenu-insert{
  border-top: 0;
}



.toolbar-dropdown{
  position: relative;
}

.dropdown-toggle{
  display: inline-block;
  height: 33px;
  width: 17px;
  background-image: url(toolbar/arrow-down-black-06.png);
  background-position: 0px 0px;
  background-repeat: no-repeat;
  margin-right: 2px;
  cursor: pointer;
/*
  border-left: 1px dotted #aaa;
  border-right: 1px dotted #aaa;
*/
}
.toolbar-dropdown.selected .dropdown-toggle{
/*
  box-shadow: rgba(0, 0, 0, 0.15) 0px 2px 4px 0px inset, rgba(0, 0, 0, 0.05) 0px 1px 2px 0px;
  background-color: rgb(230, 230, 230);
*/
  background-image: url(toolbar/arrow-down-black-09.png);

}

.dropdown-toggle:hover{
/*
  background-color: #a8d6f3;
  background-color: #aad7f4;
  background-color: #ddeffa;
*/
  background-image: url(toolbar/arrow-down-black-07.png);
}

.dropdown-menu{
  display: inline-block;
  display: none;
  position: absolute;
  top: 100%;
  right: 0;
  margin-top: -3px;
  margin-right: 2px;
  border: 1px solid #b9b9b9;
/*
  border-bottom-color: #999;
  border-right-color: #999;
*/
}
.dropdown-menu, .toolbar-dropdown.selected .dropdown-toggle{
  background-color: #e2e2e2;
  box-shadow: 0px 0px 5px #aaa;
  box-shadow: 3px 3px 5px #aaa;
  box-shadow: 2px 2px 3px #aaa;
  letter-spacing: normal;
  word-spacing: normal;
}
.dropdown-menu:before{
  content: "";
  position: absolute;
  top: -4px;
  right: -1px;
  right: 0;
  width: 15px;
  height: 5px;
  background-color: #e2e2e2;
/*
  border-right: 1px solid #999;
*/
}

.ordered-list-type li{
  position: relative;
}
.ordered-list-type-bullet{
  position: absolute;
  width: 3.5em;
  text-align: right;
}
.ordered-list-type-label{
  margin-left: 4em;
}

.ordered-list-type .header{
  padding: 5px 2em 10px 1em;
  color: #888;
  font-weight: bold;
  border-bottom: 1px solid #ccc;
}

.menu-list li.header.hovered{
  background-color: transparent;
}

.menu-list li.header{
  cursor: auto;
}

.undo-unelemented, .undo-unelemented-2, .undo-unelemented-3{
  position: fixed;
  top: 42px;
  background-color: #F9EDBE;
  border: 1px solid #F0C36D;
  padding: .1em 1em;
  box-shadow: 2px 2px 2px #aaa;
  z-index: 551;
}
.undo-unelemented-close, .undo-unelemented-2-close, .undo-unelemented-3-close{
  float: right;
  margin-left: 1em;
  cursor: pointer;
}
.undo-unelemented a, .undo-unelemented-2 a, .undo-unelemented-3 a{
  color: #000;
  cursor: pointer;
}

.edit-element-menu, .cl2-menu{
  position: absolute;
  right: -1px;
  top: 20px;
  right: 20px;
  top: -1px;
  right: -1px;
  text-align: left;
}

#to-dashboard .cl2-menu{
  font-size: 1.175em;
}

.edit-element-menu ul, .edit-element-menu li, .cl2-menu ul, .cl2-menu li{
  display: block !important;
  margin: 0 !important;
  padding: 0 !important;
  list-style-type: none;
}

.edit-element-menu ul, .cl2-menu ul{
  border: 1px solid #bbb;
  background-color: #f7f7f7;
  text-decoration: none;
  color: #333;
  box-shadow: 2px 2px 2px #aaa;
}

.edit-element-menu li, .cl2-menu li{
  padding: .5em 1em .5em 30px !important;
  border-top: 1px solid #ddd;
  white-space: nowrap;
  background-repeat: no-repeat;
  background-position: .45em .45em;
  position: relative;
  z-index: 2;
}

.cl2-menu li{
  padding: .5em 1em !important;
}

.edit-element-menu li:hover, .cl2-menu li:hover{
  background-color: #C5DAE9;
}

.edit-element-menu li:first-child, .cl2-menu li:first-child{
  border-top: 0;
}

.edit-element-menu a, .cl2-menu a{
  color: #369;
  text-decoration: underline;
}

.edit-element-options{ background-image: url(content_files/options-09.png); }
.edit-element-unelement{ background-image: url(content_files/broom-04.png); }
.edit-element-convert{ background-image: url(toolbar/left-arrow-01.png); background-position: .45em .7em !important; }
.edit-element-convert{ background-image: url(toolbar/left-arrow-01.png); background-position: .45em center !important; }
.edit-element-options:hover{ background-image: url(content_files/options-08.png); }
.edit-element-unelement:hover{ background-image: url(content_files/broom-01.png); }

.edit-element-convert-submenu{
  position: absolute;
  right: 100%;
  top: 0;
  z-index: 1;
}
.edit-element-convert-submenu li{
  padding-left: 1em !important;
}

.definition-contents li{
  margin: .5em 0 .5em 1em !important;
}
.definition-contents ol{
  margin: 1em 0 !important;
}

.glossary-options{
/*
  padding-top: .5em;
  margin: .5em 1em .5em;
  margin: .5em 0;
  border-top: 1px dashed #ccc;
*/
  margin-bottom: 1em;
/*
  color: #555;
*/
  text-align: right;
}

/*
.glossary-options label{
  font-weight: normal;
}
*/

.glossary-options input{
  color: #555;
  border: 1px solid #ddd !important;
  border-right-color: #999 !important;
  border-bottom-color: #999 !important;
}

.glossary-options a, .glossary-options span{
  font-size: .85em;
}
.glossary-options span{
/*
  font-style: italic;
*/
  color: #555;
}

.helper{
  border: 1px solid #E8E8A5;
  background-color: #ffffb5;
  padding: .75em 1em;
  box-shadow: 2px 2px 2px #aaa;
  z-index: 401;
}

.pedagog-blocks .helper{
  margin-left: 1em;
  position: absolute;
  left: 100%;
  top: 0;
  width: 350px;
}

#add-new-flyout .helper{
  left: auto;
  right: 100%;
  margin-right: 1.5em;
}

.helper-how, .helper-how{
  font-size: .85em;
  display: none;
}

.helper-how li{
  margin: 0 0 .35em 1em !important;
  list-style-type: disc;
}

.glossary-defs-header{
  margin-bottom: 0;
  margin-top: .75em;
}

#ioo-width, #ioo-height{
  width: 4em;
}

#firefox-message{
  background-color: #ffa873;
  background-color: #FFD0B3;
  background-color: #FFE3DA;
  background-color: #FFF1EC;
  color: #a61300;
  color: #ff1e00;
  color: #FF6633;
  font-weight: bold;
  font-size: .85em;
  border: 1px solid #a61300;
  border: 1px solid #FF6633;
  border: 1px solid #FF6633;
  border-width: 0 0 3px;
  padding: .8em 1.25em;
  position: fixed;
  top: 0;
  z-index: 530;
  width: 100%;
}

#firefox-message a{
  color: #a61300;
  color: #FF6633;
}

#top-banner{
  height: 29px;
  height: 36px;
  height: 32px;
  background-color: #0E807D;
  background-color: #248C89;
  background-color: #3A9795;
  background-color: #1B9945;
  background-color: #48BE6D;
  background-color: #1FB04C;
  color: #fff;
  font-size: .9em;
  border-bottom: 1px solid #137139;
  border-right: 1px solid #999;
  border-right: 1px solid #137139;
/*
  padding: .8em 1.25em;
*/
  position: fixed;
  top: 0;
  z-index: 530;
/*
  width: 100%;
  width: 275px;
  width: 250px;
*/
  width: 32px;
}

#top-banner a{
  color: #fff;
}

#module-bar{
  height: 32px;
  background-color: #1FB04C;
  background-color: #F89406;
  background-color: #E16C26;
  color: #fff;
  font-size: .9em;
  border-bottom: 1px solid #137139;
  border-bottom: 1px solid #CB7905;
  border-bottom: 1px solid #9E4626;
  position: fixed;
  top: 0;
  z-index: 530;
  text-align: right;
}
#module-bar a{
  color: #fff;
}

#sign-out, .sign-out{
  float: right;
  margin-right: 10px;
  margin-top: .65em;
  font-size: .95em;
}

#toc .sign-out{
  margin-right: 42px;
  margin-right: 26px;
}

#toc-save-preview{
  font-size: .9em;
}

#back-home a{
  font-size: .95em;
/*
  text-decoration: none;
  float: left;
*/
  display: inline-block;
  width: 24px;
  height: 24px;
  width: 32px;
  height: 32px;
  padding: 0;
/*
  padding: .7em 1.25em;
  padding: .7em 1.25em;
  padding: .65em 10px;
  padding-left: 30px;
*/
  color: #fff;
}
#back-home a{
  background-image: url(toolbar/house-02.png); /* Icon by Iconza ( http://iconza.com/) */
  background-repeat: no-repeat;
/*
  background-position: 4px 4px;
  background-position: 4px 7px;
*/
  background-position: center center;
}
#back-home a:hover{
  text-decoration: underline;
}
#toc-title{
/*
  display: block;
  cursor: pointer;
  background-image: url(toolbar/expand-03.png);
  background-repeat: no-repeat;
  background-position: right center;
  background-color: #1FB04C;
  background-color: #107CA3;
*/
  border-bottom: 1px solid #124947;
  background-color: #6D2C74;
  background-color: #88528D;
  background-color: #0E807D;
/*
  background-color: #6D2C74;
  border-bottom: 1px solid #441D4C;
  background-color: #107CA3;
  border-bottom: 1px solid #155C6E;
  border-bottom: 1px solid #137139;
  background-color: #1FB04C;
*/
  height: 42px;
  height: 75px;
  height: 32px;
  color: #fff;
  vertical-align: bottom;
  position: relative;
  cursor: pointer;
}
#toc-close{
  position: absolute;
  left: 100%;
/*
  right: 0;
*/
  margin-left: -17px;
  top: 0;
  width: 32px;
  height: 32px;
  background-color: #fff;
}
.edit-toc-mode #toc-close{
  display: block;
}

.hovered #toc-title{
  width: 250px;
}
.hovered #toc-title{
  cursor: default;
}
#toc-save-preview{
  float: right;
}
.edit-toc-mode #toc-save-preview{
  display: block !important;
}
.hovered #toc-title-text img{
  display: none;
}
#toc-title a{
  color: #fff;
}
#toc-title-text{
  display: block;
/*
  padding: 1em 1em 0;
  padding: 0 1em 1em;
*/
  padding: .6em 1em .6em 30px;
  padding-left: 1em;
  font-weight: bold;
  background-image: url(toolbar/book-04.png); /* icon by Iconza ( http://iconza.com ) */ 
  background-image: url(content_files/folder-01.png); /* icon by Iconza ( http://iconza.com ) */ 
background-image: none;
  background-repeat: no-repeat;
  background-position: 8px center;
/*
  cursor: pointer;
*/
}
#toc-title-arrow{
  width: 13px; 
  height: 16px;
  display: inline-block;
  background-image: url(toolbar/arrow-left-01.png);
  background-repeat: no-repeat;
  background-position: center center;
}
.hovered #toc-title-arrow{
  background-image: url(toolbar/arrow-down-04.png);
}
#edit-toc-link, #edit-toc-metadata{
  font-weight: normal;
  color: #D3E8E7;
/*
  float: right;
  margin-right: -1em;
  padding-right: 1em;
  padding-left: 1.5em;
  padding: .6em 1em .6em 1.5em;
*/
}
#edit-toc-link a, #edit-toc-metadata a{
  color: #D3E8E7;
}
.edit-toc-mode #edit-toc-link{
  display: none;
}
.edit-toc-mode #edit-toc-metadata{
  display: inline !important;
}
.hovered #edit-toc-link{
  display: inline;
}
/*
#toc-title.to-edit{
  background-repeat: no-repeat;
  background-position: right center;
  background-image: url(toolbar/expand-03.png);
}
*/
#module-title-text{
  float: left;
  display: block;
  padding: .6em 1em;
  font-weight: bold;
  background-image: url(content_files/module-01TEMPORARILYDISABLED.png); /* icon by Iconza ( http://iconza.com ) */ 
  background-repeat: no-repeat;
/*
  padding-left: 30px;
*/
  background-position: .6em center;
  font-size: 1.11em;
}
#module-title-link{
  font-weight: normal;
}
/*
#edit-toc a{
  float: none;
  margin: 0;
}
#back-home a:hover, #edit-toc:hover a{
*/

#toc-top{
  text-decoration: none;
  display: inline-block;
  border-left: 1px solid #fff;
  border-left: 1px solid #9FEAB6;
  margin-left: 10px;
  padding: 0 15px 0 0;
}

#toc-top:hover{
  background-color: #06DB46;
display: inline-block;
  background-image: url(toolbar/arrow-down-white-04.png);
  background-position: right center;
  background-repeat: no-repeat;
}

#toc-top-title{
  font-size: 1.35em;
  font-size: 1.25em;
  font-size: 1.15em;
  font-weight: bold;
  padding: .3em 40px .3em 1em;
  padding: .3em 1em .3em 32px;
  padding: .6em 1em .4em 32px;
/*
  padding: .6em 1em .4em 8px;
  background-image: url(toolbar/book-02.png);
  background-repeat: no-repeat;
  background-position: right center;
  background-position: 10px center;
  background-position: 10px 10px;
  background-position: 8px 1em;
*/
  background-image: url(content_files/folder-02.png); /* icon by Iconza ( http://iconza.com ) */ 
  background-image: url(toolbar/book-02.png); /* icon by Iconza ( http://iconza.com ) */ 
  background-repeat: no-repeat;
  background-position: 8px .75em;
  padding-left: 32px;
  text-decoration: none;
/*
  text-align: center;
*/
  display: block;
  color: #0E807D;
}

.edit-toc-mode #toc-top-title/*, #toc-top-title.editing-toc */{
  padding-left: 32px;
  padding-right: 0;
  padding-top: 0;
  font-weight: normal;
  color: #F89406;
  color: #E16C26;
  font-size: 2.3em;
  background-image: url(toolbar/book-05.png); /* icon by Iconza ( http://iconza.com ) */ 
  background-image: url(content_files/folder-03.png); /* icon by Iconza ( http://iconza.com ) */ 
  background-repeat: no-repeat;
  background-position: -2px .3em;
  background-position: -1px .2em;
  background-position: -1px .15em;
}

.equation-contents{
  outline: 0;
}

#more-blocks-choose dl, #more-blocks-choose dd, #more-blocks-choose dt, #mbclone dl, #mbclone dd, #mbclone dt{
  display: block;
  list-style-type: none;
  margin: 0;
  padding: 0;
}

#more-block-choose, #mbclone{
  text-align: center;
  margin: auto;
}

#more-blocks-choose dl, #mbclone dl{
  float: left;
  display: inline-block;
  min-width: 115px;
  margin-right: 15px;
  text-align: left;
}

#more-blocks-choose dt, #mbclone dt{
  font-weight: bold;
  margin-bottom: .3em;
}

#more-blocks-choose dd, #mbclone dd{
  border: 1px solid #ccc;
  padding: .4em 1em .5em .5em;
  border-radius: .5em;
  margin-bottom: .25em;
  display: inline-block;
  display: block;
}

#mbclone dd{
  border-color: #b3b3b3;
  padding: .5em 1em .6em .7em;
}

#more-blocks-choose .selected, #mbclone .selected{
  background-color: #eee;
}

#more-blocks-choose dd:hover, #more-blocks-choose input, #mbclone dd:hover, #mbclone input{
  background-color: #C5DAE9;
  cursor: pointer;
}

#more-blocks-choose dd.selected-forced:hover, #mbclone dd.selected-forced:hover{
  background-color: #eee;
}

/*
#more-blocks-choose .selected:hover{
  background-color: #fff;
}
*/

.in-canvas-helper{
  font-size: .9em;
  color: #000;
  font-style: normal;
  position: relative;
}

.in-canvas-helper-trigger{
  text-decoration: underline;
  color: #369;
  cursor: pointer;
}

.in-canvas-helper-text{
  display: none;
  font-style: normal;
  border: 1px solid #E8E8A5;
  background-color: #ffffb5;
  padding: 1em;
  box-shadow: 2px 2px 2px #aaa;
  z-index: 20;
  position: absolute;
  left: 100%;
  top: 0;
  width: 350px;
}

.in-canvas-helper-types{
  display: block;
  margin-top: .75em;
}

.temp-select, #NewFormatText, .NewFormatText{
  background-color: #C5DAE9;
  border: 1px solid #c5dae9;
  background-color: #fff;
  border: 1px dotted #1B86D2 !important;
  border: 1px dotted transparent !important;
  background-color: #E5EEF5;
  background-color: #D9E7F1;
/*
  background-color: #C5DAE9;
*/
}

#NewFormatText, .NewFormatText{
  border-width: 0 !important;
  padding: 0;
}

code{
  font-size: 1em;
  font-family: tahoma,verdana,arial,helvetica,sans-serif; 
  color: #000;
}

.codeline{
  color: #000;
  font-size: 1.18em;
  font-family: courier, courier new, monospace;
  font-style: normal !important;
  font-weight: normal !important;
}

/* due to brute-force method for changing element appearance */
.term, .codeline, .cite, .selected-text{
  font-style: normal !important;
}
.cite, .selected-text, .foreign{
  font-weight: normal !important;
}

#mbclone dd{
  background-color: #eee;
}

#mbclone dt{
  margin-bottom: .75em;
  margin-top: .5em;
}

/*
#mbclone dd.selected-forced:hover{
  background-color: #eee;
}
*/

.quote-decoration{
  
}

#video-services{
}

#video-services, #video-services li{
  display: block;
  margin: 0;
  padding: 0;
  border: 0;
}

#video-services{
  margin-left: 2em;
}

#video-services li{
  float: left;
}

#video-services a{
  border: 1px solid #888;
  display: inline-block;
  padding: .35em 1em;
  text-decoration: none;
  position: relative;
  z-index: 609;
  margin-right: -1px;
}

#video-services li.selected a{
  z-index: 611;
  border-bottom: 1px solid #fff !important;
}

.video-results{
  margin-left: 2em;
  border: 1px solid #888;
  clear: both;
  position: relative;
  top: -1px;
  height: 200px;
  text-align: center;
}

.video-results-buttons{
  padding: 1em 1em;
}
.video-results-results{
  text-align: left;
  height: 150px;
  position: absolute;
  bottom: 0;
  width: 100%;
  overflow: auto;
  border-top: 1px solid #eee;
}

.video-results table{
  border: 1px solid transparent;
  border-collapse: collapse;
  cursor: pointer;
  width: 100%;
}

.video-results td{
  vertical-align: top;
  padding: .35em 1em .5em;
}

.video-results td strong{
  display: block;
  margin-bottom: .4em;
}

.video-results th{
  width: 150px !important;
  padding: 0;
}

.video-results img{
  width: 150px !important;
}

.video-results tr:hover, .video-results tr.selected:hover{
  border: 1px solid #1B86D2;
  background-color: #DFE7EC;
  background-color: #F0F4F6;
}
.video-results tr.selected/*, .video-results tr.selected:hover */{
  border: 1px solid #1B86D2;
  background-color: #DFE7EC;
}

.module-metadata-link, .module-roles-link{
  border: 1px outset #ccc;
  border-radius: 7px;
  padding: .5em 1em;
  cursor: pointer;
}
.module-metadata-link a, .module-roles-link a{
  text-decoration: none;
  color: #444 !important;
}

.module-metadata{
  background-color: #fff;
  position: absolute;
  right: 0;
  top: -1em;
  border: 1px solid #999;
  box-shadow: 2px 2px 2px #aaa;
  width: 600px;
  height: 300px;
  z-index: 1000;
  color: #000;
  padding: 1em 1.5em;
}

#to-dashboard{
  width: 32px;
  border-right: 1px solid #999;
  position: fixed;
  top: 0;
  height: 100%;
  z-index: 533;
/*
  overflow-y: hidden;
  overflow-x: visible;
*/
  background-color: #fff;
  background-color: #E9F3F7;
  background-color: #f4f4f4;
  background-color: #f9f9f9;
  background-color: #f0f0f0;
  background-color: #ffffff;
  background-color: #1FB04C;
}
#dashboard-header{
  background-color: #1FB04C;
  border-bottom: 1px solid #137139;
  height: 32px;
  display: block;
  white-space: nowrap;
  cursor: pointer;
}
#dashboard-header.hovered{
  box-shadow: 0 0 5px #666;
  box-shadow: 5px 0 5px #666;
  border-top-right-radius: 7px;
  border-bottom-right-radius: 7px;
}
/*
.to-open #dashboard-header{
  border-bottom-width: 0;
}
*/
#to-dashboard-icon{
  height: 32px;
  width: 32px;
  display: block;
  float: left;
  background-image: url(toolbar/house-02.png);
  background-repeat: no-repeat;
  background-position: 5px center;
  text-decoration: none;
}
/*
#dashboard-open{
  height: 17px;
  position: relative;
  margin-left: 32px;
  border: 1px solid #137139;
  border-left-width: 0;
  background-color: #1FB04C;
  color: #fff !important;
  cursor: pointer;
  border-top-right-radius: 10px;
  border-bottom-right-radius: 10px;
  display: block;
  float: left;
  padding: 7px .75em;
  text-decoration: none;
}
.to-open #dashboard-open{
  display: block;
}
.edit-toc-mode #dashboard-open, .db-peek #dashboard-open{
  display: none;
}
*/
#to-dashboard.to-open{
  background-color: #5CC67D;
  background-color: #85D49D;
  background-color: #D6F1DE;
  background-color: #1FB04C;
  background-position: center center;
  background-image: url(content_files/td-open-01.png);
  background-repeat: no-repeat;
  cursor: pointer;
/*
  box-shadow: 0 0 5px #888;
  z-index: 600;
*/
}
#to-dashboard.to-edit, .edit-toc-mode #to-dashboard.to-open, .db-peek #to-dashboard.to-open, #to-dashboard.opened{
  background-color: #fff !important;
  background-color: #f0f0f0 !important;
  background-image: none !important;
  cursor: auto;
  box-shadow: none;
}
#to-dashboard.to-open-preview{
  background-color: #1FB04C;
  background-image: url(content_files/td-open-01.png) !important;
}
#toc.to-open{
  background-color: #88528D;
  background-color: #0E807D;
  background-position: center center;
  background-image: url(content_files/td-open-01.png);
  background-repeat: no-repeat;
  cursor: pointer;
}


#dashboard-title, #db-peek-title{
  display: none;
  color: #fff;
  font-weight: bold;
  padding: .6em;
}
.edit-toc-mode #dashboard-title, .db-peek #db-peek-title{
  display: block;
}
#db-home-link{
/*
  background-color: #1FB04C !important;
*/
  color: #fff;
  padding: .6em;
  display: none;
  border-right: #137139;
  white-space: nowrap;
}
#dashboard-expand-link, #dashboard-header .secondary-link{
  font-weight: normal;
  color: #D6F1DE;
}
#dashboard-header a, #dashboard-header .secondary-link a{
  color: #D6F1DE;
}
#db-home-link a{
  color: #fff;
  font-weight: normal;
}
#toc{
/*
  font-weight: normal;
  position: absolute;
  top: 100%;
  background-color: white;
  color: black;
  width: 500px;
  height: 400px;
  box-shadow: 2px 2px 2px #aaa;
  padding: 1em 1.5em;
*/
  top: 0;
  width: 249px;
  width: 299px;
  width: 250px;
  width: 275px;
  border-right: 1px solid #999;
  position: fixed;
/*
  height: 100%;
*/
  z-index: 400;
  z-index: 532;
/*
  overflow-y: auto;
*/
  background-color: #E9F3F7;
  background-color: #f4f4f4;
  background-color: #f0f0f0;
  background-color: #fff;
/*
  left: 33px;
*/
  position: fixed;
/*
  box-shadow: 0 0 5px #ccc;
*/
}

.toc-collapsed #toc{
  background-color: #88528D;
  background-color: #0E807D;
}

.toc-collapsed #toc:after, #to-dashboard:after{
  content: "Table of Contents";
  -moz-transform: rotate(-90deg);
  -webkit-transform: rotate(-90deg);
  -moz-transform-origin: right bottom;
  -webkit-transform-origin: right bottom;
  color: #fff;
  color: #D3E8E7;
  position: absolute;
  top: 0px;
  margin-top: 0;
  right: 0;
  white-space: nowrap;
  font-size: 1.1em;
  height: 32px;
  line-height: 32px;
  padding-right: .5em;
  letter-spacing: .1em;
}

#to-dashboard:after{
  content: "Bookshelf";
  color: #D6F1DE;
}
#to-dashboard.opened:after{
  content: "";
}


/*
.editor-toc-mode #toc{
  overflow-y: visible;
}
*/

/*
#toc.hovered{
  width: 350px;
}
*/

#toc-top{
  position: relative;
}

/*
#cnx_course_navigation{
*/
#toc-title-and-contents{
  overflow-y: auto;
/*
  display: none;
*/
}

/*
#toc-title-and-contents.editing-toc{
  background-color: #ccc;
}
*/

#toc-paper ul{
  list-style-type: none;
  padding-left: 0;
  margin-left: 1.8em;
  margin-top: 0;
margin-left: 0;
/*
padding-left: 1.8em;
padding: 0;
margin: 0;
*/
}

.edit-toc-mode #toc-paper ul a{
  background-image: url(content_files/module-01.png); /* Icon from http://iconza.com */
}

.edit-toc-mode #toc-paper ul .linked-module a{
  background-image: url(content_files/linked-module-01.png); /* Based on icon from http://iconza.com */
  background-image: url(content_files/linked-module-02.png); /* Based on icon from http://iconza.com */
  background-image: url(content_files/linked-module-03.png); /* Based on icon from http://iconza.com */
}

#toc-paper ul a, #toc-paper ul h4{
  padding-left: 1.8em;
  background-position: .5em 3px;
}
.edit-toc-mode #toc-paper ul a, .edit-toc-mode #toc-paper ul h4{
  background-position: .4em 0;
}
#toc-paper ul ul a, #toc-paper ul ul h4{
  padding-left: 3.3em;
  background-position: 2em 3px;
  padding-left: 1.8em;
  background-position: .5em 3px;
}
.edit-toc-mode #toc-paper ul ul a, .edit-toc-module #toc-paper ul ul h4{
  background-position: 1.9em 0;
}
#toc-paper ul ul ul a, #toc-paper ul ul ul h4{
  padding-left: 4.8em;
  padding-left: 3.3em;
  background-position: 3.5em 3px;
  background-position: 2em 3px;
}
.edit-toc-mode #toc-paper ul ul ul a, .edit-toc-mode #toc-paper ul ul ul h4{
  background-position: 3.4em 0;
}
#toc-paper ul #current ul a{
  background-image: url(content_files/bullet.gif) !important;
  background-position: 1.9em -3px;
  padding-left: 3.4em;
}
#toc-paper ul #current span a{
  background-position: .4em 5px;
}
#toc-paper ul ul #current ul a{
  background-image: url(content_files/bullet.gif) !important;
  background-position: 3.5em -3px;
  padding-left: 5em;
}
#toc-paper ul ul #current span a{
  background-position: 2em 5px;
}

#toc-paper ul ul/*, .edit-toc-mode #toc-paper ul ul */{
/*
  margin-left: 1.5em;
  margin-top: .4em;
margin: 0;
padding: 0;
*/
}
/*
#toc-paper ul ul li{
  padding-left: 2.5em;
}
*/

#cnx_course_navigation li{
/*
background-color: #f9f;
  list-style-type: none;
  display: block;
*/
}

#cnx_course_navigation ul{
/*
  padding: 0 .5em; */
  list-style-type: none !important;
  display: block;
*/
}

#cnx_course_navigation img{
  padding-left: 1.8em;
/*
  float: left;
  margin-top: .4em;
*/
}

#cnx_course_content .cnx_chapter_header, #cnx_course_navigation .cnx_chapter_header{
/*
  color: #333;
*/
  color: #000;
/*
  font-weight: normal;
*/
  font-family: Verdana,DejaVu Sans,Tahoma;
  display: block;
  margin: 0;
/*
background-color: #f0f;
*/
}

#cnx_course_navigation img{
  float: left;
  margin-top: .3em;
}

.empty-subcollection{
  font-weight: normal;
/*
  font-style: italic;
*/
  font-size: .85em;
  color: #666;
}
.edit-toc-mode #cnx_course_navigation .cnx_chapter_header{
  font-weight: bold;
  color: #000;
}
/*
#cnx_course_navigation li{
  margin: 0;
  padding: 0;
  padding: .2em 0;
}
*/
/*
.edit-toc-mode .cnx_current{
  background-color: #C5DAE9 !important;  
}
*/
/*.edit-toc-mode */
#cnx_course_navigation li{
/*
  padding: .4em 0;
  border: 1px dotted #ccc;
  border: 1px dotted transparent;
  border-width: 1px 0;
  margin-top: -1px;
  border: 1px dotted transparent;
  border-width: 1px 0;
*/
  margin: 0;
  padding: .2em 0;
}
/*.edit-toc-mode */
#cnx_course_navigation li.hovered{
/*
  border-color: #666;
*/
  background-color: #C5DAE9;
  background-color: #DFEBF3 !important;
/*
  position: relative;
  z-index: 2;
*/
  cursor: move !important;
/*
  border: 1px dotted #999;
  border-width: 1px 0;
*/
}
/*.edit-toc-mode */
#cnx_course_navigation li.hovered a{
/*
  cursor: text;
  text-decoration: none !important;
*/
  cursor: move !important;
/*
  display: inline;
*/
}
#cnx_course_navigation li.hovered h4{
  cursor: pointer;
}
#cnx_course_navigation #current li.hovered, #cnx_course_navigation #current li.hovered a{
  cursor: default !important;
}
/*
.edit-toc-mode #cnx_course_navigation li.hovered h4, .edit-toc-mode #cnx_course_navigation li.hovered .go-edit{
  cursor: pointer;
}
*/
h4.cnx_current{
  font-weight: bold !important;
  color: #E16C26;
}
#cnx_course_navigation li a, #current{
  background-image: url(content_files/module-03.png); /* Icon from http://iconza.com */
  background-repeat: no-repeat;
/*
  background-position: 0 3px;
  background-position: .5em 3px;
  padding-left: 16px;
  margin-left: -16px;
*/
  display: block;
  color: #000;
  text-decoration: none;
  cursor: default;
}
#cnx_course_navigation li a:hover{
  text-decoration: none;
}
.edit-toc-mode #cnx_course_navigation li a{
/*  background-image: url(content_files/module-01.png); */ /* Icon from http://iconza.com */
/*
  padding-left: 20px;
  margin-left: -20px;
  background-position: 0 0;
*/
}

.go-edit{
  padding-left: 20px;
  margin-left: 10px !important;
  background-image: url(content_files/pencil-03.png) !important; /* Icon from http://iconza.com */
  background-repeat: no-repeat;
  background-position: 0 center;
  text-decoration: underline !important;
}
.delete-from-toc{
  float: right;
  background-image: url(content_files/remove-element-08.png);
  background-repeat: no-repeat;
  height: 8px;
  width: 9px;
  position: 0 0;
  margin-top: .3em;
  margin-right: .5em;
  cursor: pointer;
}

#current{
/*
  background-color: #FCF2EB;
  background-color: #fff;
  border: 1px dotted #F1BC9C;
  border: 1px dotted #E99461;
  border: 1px solid #bbb;
*/
  border: 1px dotted #F1BC9C;
  border-width: 1px 0;
/*
  box-shadow: 0 0 5px #f6f6f6;
  border-top: 1px solid #ccc;
  border-bottom: 1px solid #ccc;
  background-color: #e5e5e5;
*/
/*
  padding: .25em 0 .25em 20px !important;
*/
/*
  margin-left: -20px !important;
  margin-right: .75em !important;
  margin-top: .2em !important;
  margin-bottom: .2em !important;
*/
/*
  border: 1px solid #aaa;
  box-shadow: 0px 0px 10px #ddd;
  background-color: #FEF5E8;
*/
  padding: 0 !important;
}

#current>ul{
/*
  border-top: 1px solid #F1BC9C;
*/
}
#cnx_course_navigation #current a{
  background-image: none !important;
  cursor: default;
  cursor: pointer;
}

#cnx_course_navigation #current a, #cnx_module_header h1{
  color: #F89406;
  color: #E16C26;
}

#current li a{
  color: #369 !important;
}

/*
#cnx_course_navigation #current{
  background-color: #fff !important;
}
*/
#cnx_course_navigation #current span{
  background-image: url(content_files/right-arrow-orange-01.png);
  background-position: right 6px;
  background-color: #C5DAE9;
  background-color: #FEF5E8;
  background-repeat: no-repeat;
  display: block;
}

#cnx_course_navigation #current span a{
  display: block;
/*
  padding: .25em 0 .25em 20px !important;
*/
  padding-top: .25em;
  padding-bottom: .25em;
  background-image: url(content_files/module-orange-small-02.png) !important; /* Icon from http://iconza.com */
/*
  background-position: 4px .5em;
*/
}

/*
#toc ul li, #toc ul{
  padding: 0;
  margin: 0;
  list-style-type: square;
  color: #000;
}
#toc ul{
  padding: .5em 0 .5em 1em;
}
#toc li:hover{
  cursor: pointer;
}
#toc li:hover span{
  background-color: #C1E7F4;
  background-color: #1FB04C;
  color: #fff;
}
#toc ul, #toc ul li:hover{
  background-color: #fff;
  text-decoration: none;
  color: #000;
}
*/

/*
#show-toolbox{
  background-color: #E16C26;
  background-color: #1FB04C;
  background-color: #555;
  color: #fff;
  font-size: .9em;
  border-top: 1px solid #9E4626;
  border-top: 1px solid #137139;
  border-top: 1px solid #333;
  text-align: center;
  cursor: pointer;
  display: none;
  padding: .4em 0 .5em;
}
#show-toolbox-text{
  display: inline-block;
  padding-right: 20px;
  background-image: url(toolbar/arrow-up-03.png);
  background-repeat: no-repeat;
  background-position: right center;
  font-weight: bold;
}
*/

.add-module-plus{
  float: left;
  margin: -1.75em 25px -.5em;
  cursor: pointer;
  padding-right: 3em;
display: none;
}

#add-module-bottom-button{
  position: relative;
}
#add-module-dialog{
  position: absolute;
  bottom: 16px;
  bottom: 100%;
  left: 25px;
  left: -200px;
  background-color: white;
  z-index: 531;
  color: black;
  width: 500px;
  border: 1px solid #888;
  box-shadow: 0 0 2px #aaa;
  text-align: left;
}
#add-module-dialog p{
  padding: .7em 1.5em;  
  font-size: .85em;
/*
  font-style: italic;
*/
  text-align: right;
}

#add-module-dialog ul{
  margin: 0;
  padding: 0;
  list-style-type: none !important;
  list-style-image: none !important;
  background-image: none;
}
#add-module-dialog li{
  margin: 0;
  padding: .75em 1em;
  list-style-type: none;
  list-style-image: none !important;
  border-bottom: 1px solid #ccc;
  font-weight: bold;
  cursor: pointer;
  background-image: none;
  background-color: #f7f7f7;
}
#add-module-dialog li:hover{
  background-color: #ddd;
}

#current ul li{
  font-weight: normal;
  list-style-type: square;
  font-size: .85em;
  color: #000;
/*
  margin-left: -1.5em;
*/
}
#current ul a{
  color: #000;
}
.edit-toc-mode #editor{
/*
  display: none;
  opacity: .5;
*/
}
.scrollbar-measure { /* From David Walsh at http://davidwalsh.name/detect-scrollbar-width */
  width: 100px;
  height: 100px;
  overflow: scroll;
  position: absolute;
  top: -9999px;
}

.toc-add-module .node, .toc-add-chapter .node{
  padding-left: 30px;
  background-image: url(content_files/module-01.png);
  background-repeat: no-repeat;
  background-position: .5em center;
}
.toc-add-chapter .node{
  background-image: url(content_files/chapter-02.png);
}

/*
.edit-toc-mode #to-dashboard{
  background-color: #ddd;
}
*/

/*
#dashboard-contents{
  background-color: #ddd;
}
*/
#dashboard-contents nav{
  margin-top: .5em;
  font-size: .85em;
}

#db-sort-and-contents ul, #db-sort-and-contents li{
/*
  background-color: #f0f0f0;
*/
  display: block;
  margin: 0;
  padding: 0;
  list-style-type: none;
}

#dashboard-contents ol{
  display: none;
  margin: 0 0 0 .5em;
  margin: 0;
  padding: 0;
}
#dashboard-contents ol .editor-node-body{
  margin: 0;
  padding-left: 24px;
}

#db-sort-and-contents button{
  display: none;
}

#dashboard-contents li{
/*
  padding: .2em .5em .2em 12px;
  padding: .2em .5em;
*/
/*
  cursor: pointer;
  background-position: 6px 6px;
  background-image: url(content_files/right-arrow-01.png);
*/
  background-repeat: no-repeat;
}

#dashboard-contents .editor-expand-collapse, #dashboard-contents .edit-action .icon-content{
  cursor: pointer !important;
  background-image: url(content_files/right-arrow-01.png);
  display: block;
  float: left;
  height: 16px;
  width: 16px;
  background-position: 6px 3px;
  background-repeat: no-repeat;
}

#dashboard-contents .edit-action .icon-content{
  height: 20px;
  width: 20px;
  background-position: 0 0;
  margin-left: -20px;
}

#dashboard-contents li[data-media-type='application/vnd.org.cnx.module'] .editor-expand-collapse{
  background-image: none;
}

#dashboard-contents li[data-media-type='application/vnd.org.cnx.module'] .editor-expand-collapse, 
#dashboard-contents li[data-media-type='application/vnd.org.cnx.module'] .edit-action .icon-content{
  cursor: move !important;
}

/*
#dashboard-contents li[data-media-type='application/vnd.org.cnx.module']:hover{ 
  background-color: #C5DAE9 !important;
}
*/
#dashboard-contents .editor-node-body{
  padding: .5em 0;
  padding: .2em .5em;
}
#dashboard-contents .editor-node-body:hover{ 
  background-color: #C5DAE9 !important;
}

/*
.db-peek #dashboard-contents li:hover{
  background-color: transparent;
}
*/

#dashboard-contents .edit-action .icon-content{
/*
  background-repeat: no-repeat;
  background-position: 4px 0;
  padding-left: 24px;
  display: block;
  margin-left: 20px;
*/
}

.db-peek #dashboard-contents .editor-node-title{
  cursor: auto;
}
.db-peek #dashboard-contents .editor-node-title:hover{
  cursor: default;
}

.edit-action{
  padding-left: 36px;
  display: block;
}

/*
.editor-node-title{
  padding-left: 4px;
}
*/

/*
.db-peek #dashboard-contents [data-media-type='application/vnd.org.cnx.collection'] .editor-node-title:hover, 
.db-peek #dashboard-contents [data-media-type='application/vnd.org.cnx.module'] .editor-node-title:hover{
  color: rgb(51, 102, 153);
  text-decoration: underline;
}
*/
.db-peek #dashboard-contents [data-media-type='application/vnd.org.cnx.collection'] .editor-node-title:hover, 
.db-peek #dashboard-contents [data-media-type='application/vnd.org.cnx.folder'] .editor-node-title:hover{
  cursor: pointer;
}

#dashboard-contents [data-media-type='application/vnd.org.cnx.folder'] .edit-action .icon-content{
  background-image: url(content_files/folder-02.png);
}
#dashboard-contents [data-media-type='application/vnd.org.cnx.collection'] .edit-action .icon-content{
  background-image: url(toolbar/book-02.png);
}
#dashboard-contents [data-media-type='application/vnd.org.cnx.module'] .edit-action .icon-content{
  background-image: url(content_files/module-01.png);
}
#dashboard-contents .linked-module[data-media-type='application/vnd.org.cnx.module'] .icon-content{
  background-image: url(content_files/linked-module-01.png); /* Based on icon from http://iconza.com */
  background-image: url(content_files/linked-module-02.png); /* Based on icon from http://iconza.com */
  background-image: url(content_files/linked-module-03.png); /* Based on icon from http://iconza.com */
}
#dashboard-contents [data-media-type='application/vnd.org.cnx.folder'] .editor-node-title{
  cursor: pointer;
}
#dashboard-contents [data-media-type='application/vnd.org.cnx.collection'] .editor-node-title{
  cursor: pointer;
}
#dashboard-contents [data-media-type='application/vnd.org.cnx.folder']{
  cursor: pointer;
}
#dashboard-contents [data-media-type='application/vnd.org.cnx.collection']{
  cursor: pointer;
}
#dashboard-contents [data-media-type='application/vnd.org.cnx.module'] .editor-node-title{
  cursor: move;
}
#dashboard-contents [data-media-type='application/vnd.org.cnx.module']{
  cursor: move;
}

#db-sort-and-contents{
  overflow-y: auto;
/*
  margin-top: 32px;
*/
}

#sort-db, #db-actions, #toc-actions{
  padding: .5em 1em;
  padding: .5em 0 0;
  padding: .5em 0;
/*
  margin-bottom: .5em;
*/
  margin: 0 1em;
  border-bottom: 1px solid #bbb;
/*
  background-color: #ddd;
*/
  text-align: right;
}

/*
#toc-actions{
  float: right;
  border-bottom: 0;
}
*/

#sort-db label{
  text-transform: uppercase;
  font-size: .8em;
  color: #444;
  font-weight: bold;
}

#sort-db select, #sort-by-select-2, #db-actions, #db-actions input, #toc-actions select, #toc-actions input{
  text-transform: none;
  font-size: .85em;
}

#db-actions select{
  font-size: 1em;
}

#sort-by-select-2{
  float: right;
}

#db-instructions{
/*
  border-top: 1px solid #bbb;
  background-color: #ddd;
*/
  font-size: .85em;
  padding: .6em 1.2em;
padding: 0 !important;
text-align: right;
  margin-top: 0;
  position: absolute;
  bottom: 0;
  bottom: 30px; /* height of "other bookshelves" link */
  right: -8px;
  height: 81px;
}

#db-instructions img{
/*
  position: absolute;
  right: 250px;
  bottom: 0;
  bottom: 0;
  height: 81px;
*/
}

#dashboard-contents li.current-collection, #dashboard-contents li.current-folder{
  font-weight: bold;
/*
  background-color: #C5DAE9;
*/
  background-image: url("content_files/toc-right-arrow-03.png");
  background-image: url("content_files/right-arrow-orange-01.png");
  background-image: url("content_files/right-arrow-teal-01.png");
  background-position: right 7px;
  background-color: #E9F3F3;
  background-color: #D3E8E7;
}
#dashboard-contents li.current-folder{
  background-image: url("content_files/right-arrow-purple-01.png");
  background-color: #F4EFF5;
}
#dashboard-contents .current-collection .editor-expand-collapse{
  background-image: none;
}
#dashboard-contents li.current-collection/*, .db-peek #dashboard-contents li.current-collection .editor-node-title:hover */, #dashboard-contents li.current-folder{
  cursor: default;
  color: #0E807D;
  color: #F89406;
  color: #E16C26;
  color: #0E807D;
  text-decoration: none;
}

#dashboard-contents li.current-folder li{
  font-weight: normal;
  color: #000;
}

#dashboard-contents li.current-folder ol{
  background-color: #fff;
  background-color: #f0f0f0;
}

#dashboard-contents li.current-folder{
  color: #88528D;
}

#dashboard-contents li.current-collection:hover, #dashboard-contents li.current-folder:hover{
  background-color: transparent;
}
#dashboard-contents li.current-collection .editor-node-title, #dashboard-contents li.current-folder .editor-node-title{
  cursor: default;
}

#overlay-back{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 1000000%;
  background-color: #000;
  opacity: .6;
  z-index: 531;
  display: none;
}

.change-location, .change-location-2, .change-location-3{
  color: #369;
  float: right;
  cursor: pointer;
  visibility: hidden;
  font-size: .85em;
  position: relative;
  z-index: 600;
  margin-right: .5em;
  margin-left: .25em;
}

.change-location-3{
  margin-top: 1px;
}

#cnx_course_navigation .change-location-2 a, #cnx_course_navigation .change-location-3 a{
  display: block !important;
  margin: 0 !important;
  padding: 0 !important;
  background-image: none !important;
}

.change-location img, .change-location-2 img, .change-location-3 img{
/*
  vertical-align: top;
*/
  padding: 0 !important;
}

.current-collection .change-location, .current-folder .change-location, .current-collection .change-location-2, .current-folder .change-location-2, .current-collection 
.change-location-3, .current-folder .change-location-3{
  display: none;
}

/*
li:hover .change-location{
  visibility: visible;
}
*/

.b2b .b2b-label{
  display: inline !important;
}
.b2b .other-drag-label{
  display: none;
}

#copy-or-link div{
  margin-left: 1.5em;
}

#copy-or-link input{
  margin-left: -1.5em;
}

#toc-collapse, #toc-expand, #todb-collapse, #todb-expand{
  float: right;
  margin: .6em .6em 0;
}

.edit-toc-mode #toc-collapse, .edit-toc-mode #toc-expand{
  display: none;
}

.make-copy{
  float: right;
  background-color: #fff;
  padding: .1em .5em .25em 24px;
  background-repeat: no-repeat;
  background-image: url(content_files/buildings-icon-03.png);
  background-image: url(content_files/copy-element-02.png);
  background-position: .45em center;
  margin-top: -.5em;
  margin-right: -15px;
  color: #666;
  cursor: pointer;
}
.make-copy-text{
  font-size: .85em;
}
.make-copy:hover{
  background-image: url(content_files/copy-element-03.png);
}
.make-copy:hover .make-copy-text{
  color: #369;
  text-decoration: underline;
}

.section-copy{
/*
  margin-top: .5em;
  position: relative;
*/
  letter-spacing: normal;
  font-weight: normal;
  margin-top: .25em;
}

h2 .section-copy{
  font-size: .6em;
}
h3 .section-copy{
  font-size: .8em;
}
h4 .section-copy{
  font-size: 1em;
}

#bookshelves-dialog a{
  color: #369;
}

#bookshelves{
  position: absolute;
  bottom: 0;
  left: 0;
  background-color: #f6f6f6;
  background-color: #ddd;
  border: 0 solid #aaa;
  border-top-width: 1px;
  font-size: .85em;
  padding: 5px 10px;
  width: 205px; /* 225 - 10 - 10 (padding) */
}

#bookshelves.activated{
  width: 350px;
  background-color: #f9f9f9;
  border-right-width: 1px;
  box-shadow: 0 0 5px #aaa;
}

#bookshelves:not(.activated):hover{
  background-color: #f9f9f9;
}

#bookshelves-trigger{
  height: 20px;
  line-height: 20px;
  cursor: pointer;
}

#bookshelves-trigger:before{
  content: "";
  float: right;
  font-size: 1.2em;
  -moz-transform:rotate(-90deg);
  -webkit-transform:rotate(-90deg);
  -moz-transform-origin: center center;
}

.activated #bookshelves-trigger:before{
  -moz-transform:rotate(90deg);
  -webkit-transform:rotate(90deg);
}

.activated #bookshelves-trigger-text{
  font-weight: bold;
}

#bookshelves ul, #bookshelves li{
  margin-left: 1em;
  padding-left: 0;
}

</style>


  </head>

  <body>
    
    
    <div id="table-context-menu" style="display: none;">
      <ul class="menu-list" id="table-contextmenu-insert">
        <li class="table-add-row-before">Add new row before</li>
        <li class="table-add-row-after">Add new row after</li>
        <li class="table-add-column-before">Add new column before</li>
        <li class="table-add-column-after">Add new column after</li>
      </ul>
      <ul class="menu-list" id="table-contextmenu-delete">
        <li class="table-delete-row">Delete row</li>
        <li class="table-delete-column">Delete column</li>
      </ul>
      <ul class="menu-list" id="table-contextmenu-options">
        <li class="table-options-activate">Table options ...</li>
      </ul>
    </div>


  <div id="header-wrap">
    <div id="header-container">
      <div id="header-functions">
        <div id="expertmode">
          <span id="expand-advanced" style="display: inline;">
            &#171;
                  </span>
          <span id="basic-message" style="display: none;">
            <span class="link-like">Switch to advanced mode</span>
          </span>
          <span id="advanced-message" style="display: none;">
            You are in advanced mode. 
            <span class="link-like">Return to basic mode.</span>
          </span>
        </div>
        <div id="status">
          <span id="user-id">You are logged in as: <strong>starkenbury</strong></span>.
          <a href="#" target="_top">Sign out.</a>
        </div>
      </div>
      <div id="header">
        <img class="cnxlogo" src="helper_files/connexions_icon.png"/>
        <h1><a href="#">OERPub</a></h1>
      </div>

    </div>
  </div>

  <div id="workflownav-wrap">
    <div id="workflownav-container">
      <div id="back-steps">
        <input type="button" class="button" value="&#171; Back: Return to start page" id="back-to-chooser-2"
               title="Return to the previous screen to choose a different import or editing option" 
               onclick="window.location = 'choose-27.html'"/>
      </div>
      <div id="forward-steps">
        <input type="button" class="button forward-button" value="Next Step &#187;" id="show-neworexisting"
               title="Select whether this will be used for a new module or to override the contents of an existing module" />
      </div>
    </div>
  </div>


  <div id="ie6-container-wrap">
    <div id="container">
      <div id="content">


        <div id="firefox-message" style="display: none;">
          Please view this mock-up in <a href="http://www.mozilla.org/firefox/new/" target="_blank">Firefox</a> (4 or higher).
          Some of its features don't work in other browsers.
        </div>

<!--
  <div style="position: absolute; right: 1em; top: 00px; z-index: 2000; width: 100px; height: 100px; background-color: #f0f;">
    <img src="toolbar/prev-module-01.png" title="Go to previous module in this book: Exponent Concepts"/>
    <img src="toolbar/next-module-01.png" title="Go to next module in this book: Zero, Negative Numbers, and Fractions as Exponents"/>
  </div>
-->

        <div id="top-bannerTEMPORARILYDISABLED" style="display: none;">
<!--
          <span id="sign-out">
            <a href="#" onclick="return false">Sign out</a>
          </span>
-->
          <span id="back-home" title="Return to your main workspace to access all of your books and modules">
<!--
            <a href="#" onclick="return false">&#171; Back to Dashboard</a>
-->
            <a href="#" onclick="return false"></a>
          </span>
        </div>

        <div id="pageheader-wrap">

          <div id="module-actions">
            <div class="advanced" style="display: none;">
              <h2 class="advanced-label">
                Advanced
              </h2>
              <strong>Module actions: </strong>
              <a title="Save a ZIP file containing the module's XML and metadata to your local computer." 
                 id="download-copy" href="#asdfaasdf" style="color: black; text-decoration: none;">
               <span class="button" style="margin-left: 0;">Download a copy</span>
              </a>
              <a title="Make changes to the module by editing its XML code." 
                 id="edit-xml" href="#asdfaasdf" style="color: black; text-decoration: none;">
               <span class="button" style="margin-left: 0;">Edit XML</span>
              </a>
            </div>
          </div>


          <div id="page-title">
            <h1>
              Edit:
              <span class="metatitle">
                Conversion of Cooking_with_spam.doc
              </span>
            </h1>
          </div>

          <div id="page-description">
            <p class="forminfo">
              Make any changes you would like to the module below.
            </p>
          </div>

        </div>










<div id="editor-mode">
  <ul>
    <li id="xml-mode">
      <a href="#">Edit XML Source</a>
    </li>
    <li id="visual-mode" class="current">
      <a href="#">Edit Visually</a>
    </li>
  </ul>
</div>


      <div id="to-dashboard">
	<div id="dashboard-header">

<a href="#" id="todb-collapse" title="Hide the Bookshelf" style="display: none;"><img src="content_files/collapse-box-silver-02.png"/></a>
<a href="#" id="todb-expand" title="Open the Bookshelf"><img src="content_files/expand-box-silver-02.png"/></a>

<!--
          <a href="#" onclick="return false;" title="Return to the main dashboard" id="to-dashboard-icon">&nbsp;</a>
-->
	  <div id="db-home-link">
	    <a href="#" title="Return to the main dashboard" id="back-to-dashboard">Back to Dashboard</a>
	    <span class="secondary-link">(<a href="#" title="Open the bookshelf to navigate to different content" id="open-picker">Open bookshelf</a>)</span>
	  </div>
<!--
          <a href="#" onclick="return false;" title="Show the contents of the dashboard" id="dashboard-open">&#187;</a>
-->



	  <div id="dashboard-title">

<!--
<select id="sort-by-select-2">
<option disabled="disabled">Sort by:</option>
<option>Type</option>
<option>Date created</option>
<option>Date modified</option>
<option>A-Z</option>
<option>Z-A</option>
</select>
-->
	    Bookshelf
<!--
            <span id="dashboard-expand-link">(<a href="#" onclick="return false;" title="Return to the main daishboard">Full Dashboard</a>)</span>
-->
	  </div>
	  <div id="db-peek-title">
	    Dashboard Preview
            <span id="dashboard-expand-link">(<a href="#" onclick="return false;" title="Return to the main daishboard">home</a>)</span>
	  </div>
	</div>
	<div id="dashboard-contents" style="display: none;">

<div id="db-sort-and-contents">

<!--
<div id="sort-db">

<label id="sort-by-select">Sort by: </label>

<select id="sort-by-select">
<option>Type</option>
<option>Date created</option>
<option>Date modified</option>
<option>A-Z</option>
<option>Z-A</option>
</select>

</div>
-->

<div id="db-actions">
<select>
<option>New</option>
<option>Book</option>
<option>Module</option>
<option>Folder</option>
</select>
<!--
<span id="bookshelves-trigger">
<a href="#" title="Go to books in other bookshelves (i.e. GitHub repositories)">other shelves</a>
</span>
-->
<!--
<input type="button" value="Paste" disabled="disabled"/>
-->
</div>

	  <nav data-type="toc">
  <ul>


<li data-media-type="application/vnd.org.cnx.folder"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">

  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>

<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>

  <span data-media-type="application/vnd.org.cnx.folder" data-content-id="cnxfolder:808decd1-b40c-4149-9bc4-95741d6f093e" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
    
      <span class="editor-node-title">Phil's Folder</span>
    
  </span>

</div>

  <div class="editor-node-after"></div>

<ol></ol>

</li>
<li data-media-type="application/vnd.org.cnx.folder" class="current-folderTEMPORARILYDISABLED"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">

  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>

<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>

  <span data-media-type="application/vnd.org.cnx.folder" data-content-id="cnxfolder:6162330d-4d1c-42ea-b519-95072e2b4bb4" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
    
      <span class="editor-node-title">Ed's Folder</span>
  </span>

</div>

  <div class="editor-node-after"></div>

<ol>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8f" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">Loomings 2</span>
  </span>
</div>
</li>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8f" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">The Carpet-Bag 2</span>
  </span>
</div>
</li>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8f" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">The Spouter-Inn 2</span>
  </span>
</div>
</li>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8f" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">The Counterpane 2</span>
  </span>
</div>
</li>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8f" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">Breakfast 2</span>
  </span>
</div>
</li>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8f" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">The Street 2</span>
  </span>
</div>
</li>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8f" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">The Chapel 2</span>
  </span>
</div>
</li>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8f" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">The Pulpit 2</span>
  </span>
</div>
</li>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8f" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">The Sermon 2</span>
  </span>
</div>
</li>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8f" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">A Bosom Friend 2</span>
  </span>
</div>
</li>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8f" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">Nightgown 2</span>
  </span>
</div>
</li>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8f" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">Biographical 2</span>
  </span>
</div>
</li>

</ol>

</li><li data-media-type="application/vnd.org.cnx.folder"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">

  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>

<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>

  <span data-media-type="application/vnd.org.cnx.folder" data-content-id="cnxfolder:f2d59cc1-f307-4adc-b6fc-d6f0cc94570e" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
    
      <span class="editor-node-title">Renamed Folder</span>
    
  </span>

</div>

  <div class="editor-node-after"></div>

<ol></ol>

</li><li data-media-type="application/vnd.org.cnx.folder"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">

  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>

<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>

  <span data-media-type="application/vnd.org.cnx.folder" data-content-id="cnxfolder:487b6b19-31ab-4585-bc9e-549835da6749" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
    
      <span class="editor-node-title">Daniel's new Folder</span>
    
  </span>

</div>

  <div class="editor-node-after"></div>

<ol></ol>

</li><li data-media-type="application/vnd.org.cnx.folder"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">

  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>

<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>

  <span data-media-type="application/vnd.org.cnx.folder" data-content-id="cnxfolder:c5d250c5-fa2b-48be-814b-48c2ad365d5a" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
    
      <span class="editor-node-title">Daniel's OLD Folder</span>
    
  </span>

</div>

  <div class="editor-node-after"></div>

<ol></ol>

</li><li data-media-type="application/vnd.org.cnx.folder"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">

  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>

<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>

  <span data-media-type="application/vnd.org.cnx.folder" data-content-id="cnxfolder:b6d5d09e-c681-468e-a9b2-c5a05415c809" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
    
      <span class="editor-node-title">Untitled Folder</span>
    
  </span>

</div>

  <div class="editor-node-after"></div>

<ol></ol>

</li>




<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.module" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8fasdfasdf" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">Chapter 1. Loomings</span>
  </span>
</div>
  <div class="editor-node-after"></div>
<ol></ol>
</li>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.module" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8fasdfasdf" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">Untitled</span>
  </span>
</div>
  <div class="editor-node-after"></div>
<ol></ol>
</li>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.module" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8fasdfasdf" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">QFI Meeting</span>
  </span>
</div>
  <div class="editor-node-after"></div>
<ol></ol>
</li>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.module" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8fasdfasdf" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">The Carpet-Bag original</span>
  </span>
</div>
  <div class="editor-node-after"></div>
<ol></ol>
</li>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.module" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8fasdfasdf" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">QI Agenda</span>
  </span>
</div>
  <div class="editor-node-after"></div>
<ol></ol>
</li>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.module" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8fasdfasdf" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">Beta Test2</span>
  </span>
</div>
  <div class="editor-node-after"></div>
<ol></ol>
</li>

<li data-media-type="application/vnd.org.cnx.collection"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">

  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>

<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>

  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8f" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
    
      <span class="editor-node-title">Moby Dick</span>
    
  </span>

</div>

  <div class="editor-node-after"></div>

<ol>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8f" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">Loomings</span>
  </span>
</div>
</li>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8f" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">The Carpet-Bag</span>
  </span>
</div>
</li>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8f" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">The Spouter-Inn</span>
  </span>
</div>
</li>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8f" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">The Counterpane</span>
  </span>
</div>
</li>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8f" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">Breakfast</span>
  </span>
</div>
</li>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8f" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">The Street</span>
  </span>
</div>
</li>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8f" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">The Chapel</span>
  </span>
</div>
</li>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8f" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">The Pulpit</span>
  </span>
</div>
</li>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8f" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">The Sermon</span>
  </span>
</div>
</li>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8f" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">A Bosom Friend</span>
  </span>
</div>
</li>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8f" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">Nightgown</span>
  </span>
</div>
</li>
<li data-media-type="application/vnd.org.cnx.module"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">
  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>
<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>
  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:916e582c-fc01-41cf-985d-f5a47c046e8f" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
      <span class="editor-node-title">Biographical</span>
  </span>
</div>
</li>
</ol>

</li>

<li data-media-type="application/vnd.org.cnx.collection"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">

  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>

<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>

  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:c4ca78ee-2702-42cb-8c5a-968028ca2bf8" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
    
      <span class="editor-node-title">Android Apps Made Easy</span>
    
  </span>

</div>

  <div class="editor-node-after"></div>

<ol></ol>

</li>


<li data-media-type="application/vnd.org.cnx.collection" class="current-collection"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">

  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>

<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>

  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:bd0f4be5-06e8-44ff-9acc-b2837f0cab9a" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
    
      <span class="editor-node-title">Advanced Algebra II: Conceptual Explanations</span>
    
  </span>

</div>

  <div class="editor-node-after"></div>

<ol></ol>

</li>


<li data-media-type="application/vnd.org.cnx.collection"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">

  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>

<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>

  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:bd0f4be5-06e8-44ff-9acc-b2837f0cab9a" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
    
      <span class="editor-node-title">Sociology</span>
    
  </span>

</div>

  <div class="editor-node-after"></div>

<ol></ol>

</li>


<li data-media-type="application/vnd.org.cnx.collection"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">

  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>

<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>

  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:f7f3a541-92f4-44e8-8cc9-a8ebb2d700c6" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
    
      <span class="editor-node-title">Physics</span>
    
  </span>

</div>

  <div class="editor-node-after"></div>

<ol></ol>

</li><li data-media-type="application/vnd.org.cnx.collection"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">

  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>

<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>

  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:83f15452-07d1-4acb-88ae-585306a42961" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
    
      <span class="editor-node-title">Daniel's Book</span>
    
  </span>

</div>

  <div class="editor-node-after"></div>

<ol></ol>

</li><li data-media-type="application/vnd.org.cnx.collection"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">

  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>

<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>

  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:16c507f8-db65-4f2f-ab93-0fafcdce882c" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
    
      <span class="editor-node-title">Daniel's First Book on CNX</span>
    
  </span>

</div>

  <div class="editor-node-after"></div>

<ol></ol>

</li><li data-media-type="application/vnd.org.cnx.collection"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">

  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>

<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>

  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:9a9278f3-0f1d-45bf-84df-1c031464fb79" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
    
      <span class="editor-node-title">Untitled Book</span>
    
  </span>

</div>

  <div class="editor-node-after"></div>

<ol></ol>

</li><li data-media-type="application/vnd.org.cnx.collection"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">

  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>

<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>

  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:112f9ff2-6ad8-4e08-8c52-fc2c6f18307d" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
    
      <span class="editor-node-title">1</span>
    
  </span>

</div>

  <div class="editor-node-after"></div>

<ol></ol>

</li><li data-media-type="application/vnd.org.cnx.collection"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">

  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>

<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>

  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:9cb240ef-9499-4787-b836-e87d5f744ef3" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
    
      <span class="editor-node-title">2</span>
    
  </span>

</div>

  <div class="editor-node-after"></div>

<ol></ol>

</li><li data-media-type="application/vnd.org.cnx.collection"><div class="editor-node-body editor-drop-zone editor-drop-zone-in">

  <span class="editor-expand-collapse" title="Click to expand/collapse"><i class="icon-content"></i></span>

<button class="btn btn-mini pull-right edit-settings" title="Advanced Settings"><i class="icon-pencil"></i></button>

  <span data-media-type="application/vnd.org.cnx.collection" data-content-id="cnxcollection:d65d1b63-9ddb-4090-ae8e-7fa5227d409b" data-content-title="" class="edit-action"><i 
class="icon-content"></i>
    
      <span class="editor-node-title">Untitled Book</span>
    
  </span>

</div>

  <div class="editor-node-after"></div>

<ol></ol>

</li>
</ul>


</nav>
</div>


<div id="db-instructions">
<!--
You can drag modules from the folders and books in your dashboard into the book at right.
-->
<!--
Dragging in folders or books will convert them to chapters or sections, depending on where you drop them.  Modules dragged in from folders will leave pointers to their new location in 
the book.  <a href="#asdf" onclick="return false;">Change settings</a>.
-->
<img title="You can drag modules from the bookshelf into your Table of Contents.  Dragging entire folders or books will convert them to book divisions (parts, chapters, etc.)." 
src="content_files/db-arrow-08.png" />
<!--
When you drag in items from here, folders and book will get converted to chapters or section.  Modules in folders will now point to their location in the book.  
-->
</div>


<div id="bookshelves">
  <div id="bookshelves-trigger" title="Go to books in other bookshelves (i.e. GitHub repositories)">
    <span id="bookshelves-trigger-text">Other bookshelves</span> 
    <a id="bookshelves-help" title="A bookshelf holds a single book or a set of related books that you want to edit at the same time and with the same co-authors. The books might share content; for instance a textbook student and teacher editions. A bookshelf is created as a repository in GitHub." href="#">(?)</a>
  </div>
  <div id="bookshelves-listing" style="display: none;">
    <p>
      Recently viewed shelves:
    </p>
    <ul>
      <li><b>maxstarkenburg/sf-demo-books</b> (current)</li>
      <li><a href="#">oerpub/sf-demo-books</a></li>
      <li><a href="#">oerpub/epubjs-demo-books</a></li>
      <li><a href="#">kathi-fletcher/sieb-physics</a></li>
    </ul>
    <p>
      View or create another one:
    </p>
    <ul>
      <li>Owner ID: <input placeholder="github-user-id" type="text"></li>
      <li>Bookshelf ID: <input placeholder="github-repository-id" type="text"></li>
      <li style="list-style-type: none;"><button style="font-size: 1em;" type="button">Next</button></li>
    </ul>
  </div>
</div>


	</div>
      </div>
      <div id="toc">
        <div id="toc-title">

<a href="#" id="toc-close" style="display: none;" title="Close the Table of Contents editor and return to the module you were editing."><img src="content_files/close-32-03.png"/></a>

<a href="#" id="toc-collapse" title="Hide the Table of Contents"><img src="content_files/collapse-box-silver-02.png"/></a>
<a href="#" id="toc-expand" title="Open the Table of Contents back up" style="display: none;"><img src="content_files/expand-box-silver-02.png"/></a>

<div id="toc-save-preview" style="display: none;">
  <span class="iconlike">
    <input type="submit" value="Saved" disabled="disabled"/>
  </span>
  <span class="iconlike">
    <input type="submit" value="Preview"/>
  </span>
          <span class="sign-out">
            <a href="#" onclick="return false">Sign out</a>
          </span>
</div>


          <span id="toc-title-text">
            Table of Contents
<!--
            <span id="toc-title-arrow">&nbsp;</span>
            <img src="toolbar/arrow-down-04.png"/>
-->
<!--
            <span id="edit-toc-link">
            (<a href="#" onclick="return false;" title="Edit and organize the contents of this book.  Add materials, rearrange modules, etc.">edit</a>)
            </span>
            <span id="edit-toc-metadata" style="display: none;">
            (<a href="#" onclick="return false;">edit description/authors</a>)
            </span>
-->

          </span>
        </div>

	<div id="toc-toolbox">

<dl class="pedagog-blocks">
  <dt style="position: relative;">
    <span>
      Drag or click to add a new: 
    </span>
  </dt>
  <dd>
    <ul>
      <li class="pedagog toc-add-module">
        <div class="change-label">
          <div class="change-label-arrow">&nbsp;</div>
          <ul class="change-label-list">
<!--
	    <li class="instructions">Change label for new examples</li>
-->
            <li>From scratch</li>
            <li>Import a document</li>
            <li>Existing module</li>
          </ul>
        </div>
        <a class="node" href="#">Module</a>
      </li>
      <li class="pedagog toc-add-chapter">
        <div class="change-label">
          <div class="change-label-arrow">&nbsp;</div>
          <ul class="change-label-list">
<!--
	    <li class="instructions">Change label for new examples</li>
-->
            <li>Add chapter</li>
            <li>Add section to current chapter</li>
          </ul>
        </div>
        <a class="node" href="#">Chapter / Section</a>
      </li>
    </ul>
  </dd>
</dl>

	</div>

        <div id="toc-title-and-contents" class="dummy">
	<div id="toc-paper" class="dummy">

<div id="toc-actions">
<select>
<option>New</option>
<option>Content / Module</option>
<option>Division</option>
</select>
<!--
<input type="button" value="Paste" disabled="disabled"/>
-->
</div>

<!--
<img src="toolbar/book-02.png" style="float: left; margin-left: .7em; margin-top: .8em; padding-right: .5em;"/>
-->
        <span href="#" onclick="return false;" id="toc-top-title">Advanced Algebra II: Conceptual Explanations</span>
<div id="cnx_course_navigation">
<div id="cnx_course_navigation_contents"><div id="course" path="/content">
                <ul id="collapsibleDemo">
<!--
<li id="m19435"><a href="http://cnx.org/content/m19435/latest/?collection=col10624/latest">Loomings 2</a></li>
<li id="m19435"><a href="http://cnx.org/content/m19435/latest/?collection=col10624/latest">The Carpet-Bag 2</a></li>
<li id="m19435"><a href="http://cnx.org/content/m19435/latest/?collection=col10624/latest">The Spouter Inn 2</a></li>
<li class="cnx_current" id="current"><span><a href="#cnx_module_header" title="Jump to the top of this module">Laws of Exponents</a></span>
<ul>
<li>
<a title="Jump to this section of the module" href="#educational-theories">Educational Theories</a>
</li>
<li>
<a title="Jump to this section of the module" href="#section-quiz">Section Quiz</a>
</li>
<li>
<a title="Jump to this section of the module" href="#further-research">Further Research</a>
</li>
<li>
<a title="Jump to this section of the module" href="#theoretical-perspectives">Theoretical Perpsectives</a>
</li>
<li>
<a title="Jump to this section of the module" href="#module-summary">Summary</a>
</li>
</ul>
</li>
<li id="m19435"><a href="http://cnx.org/content/m19435/latest/?collection=col10624/latest">The Counterpane 2</a></li>
<li id="m19435"><a href="http://cnx.org/content/m19435/latest/?collection=col10624/latest">Breakfast 2</a></li>
<li id="m19435"><a href="http://cnx.org/content/m19435/latest/?collection=col10624/latest">The Street 2</a></li>
<li id="m19435"><a href="http://cnx.org/content/m19435/latest/?collection=col10624/latest">The Chapel 2</a></li>
<li id="m19435"><a href="http://cnx.org/content/m19435/latest/?collection=col10624/latest">The Pulpit 2</a></li>
<li id="m19435"><a href="http://cnx.org/content/m19435/latest/?collection=col10624/latest">The Sermon 2</a></li>
<li id="m19435"><a href="http://cnx.org/content/m19435/latest/?collection=col10624/latest">A Bosom Friend 2</a></li>
<li id="m19435"><a href="http://cnx.org/content/m19435/latest/?collection=col10624/latest">Nightgown 2</a></li>
<li id="m19435"><a href="http://cnx.org/content/m19435/latest/?collection=col10624/latest">Biographical 2</a></li>
</ul>
-->
                <ul id="collapsibleDemo">
<li id="m19435"><a href="http://cnx.org/content/m19435/latest/?collection=col10624/latest">How to Use Advanced Algebra II</a></li>

            <li class="cnx_null_li">
             <h4 class="cnx_chapter_header"
                  onclick="org.archomai.transMenus.toc.ExpandMenuHeader(event);"><!-- 1. -->Functions</h4>
             <ul id="jsfc3360114b0e80082ff3cce24f502929" class="collapsibleMenu" style="display: none"><li id="m18192"><a 
href="http://cnx.org/content/m18192/latest/?collection=col10624/latest">Function Concepts</a></li>
<li id="m18194"><a href="http://cnx.org/content/m18194/latest/?collection=col10624/latest">What is a Variable?</a></li>
<li id="m18189"><a href="http://cnx.org/content/m18189/latest/?collection=col10624/latest">What is a Function?</a></li>
<li id="m18190"><a href="http://cnx.org/content/m18190/latest/?collection=col10624/latest">The Rule of Consistency</a></li>
<li id="m18195"><a href="http://cnx.org/content/m18195/latest/?collection=col10624/latest">Four Ways to Represent a Function</a></li>
<li id="m18191"><a href="http://cnx.org/content/m18191/latest/?collection=col10624/latest">Domain and Range</a></li>
<li id="m18193"><a href="http://cnx.org/content/m18193/latest/?collection=col10624/latest">Functions in the Real World</a></li>
<li id="m18188"><a href="http://cnx.org/content/m18188/latest/?collection=col10624/latest">Function Notation</a></li>
<li id="m18186"><a href="http://cnx.org/content/m18186/latest/?collection=col10624/latest">Algebraic Generalizations</a></li>
<li id="m18196"><a href="http://cnx.org/content/m18196/latest/?collection=col10624/latest">Graphing</a></li>
<li id="m18197"><a href="http://cnx.org/content/m18197/latest/?collection=col10624/latest">Lines</a></li>
<li id="m18187"><a href="http://cnx.org/content/m18187/latest/?collection=col10624/latest">Composite Functions</a></li>
<li id="m18198"><a href="http://cnx.org/content/m18198/latest/?collection=col10624/latest">Inverse Functions</a></li>
</ul>
            </li>
            <li class="cnx_null_li">
             <h4 class="cnx_chapter_header"
                  onclick="org.archomai.transMenus.toc.ExpandMenuHeader(event);"><!--2. -->Inequalities and Absolute Values
 <span class="empty-subcollection">(empty)</span>
</h4>
             <ul id="jse0e20ab020d53d9753cd7cf56f3322e5" class="collapsibleMenu" style="display: none">
<!--
<li id="m18205"><a 
href="http://cnx.org/content/m18205/latest/?collection=col10624/latest">Inequalities</a></li>
<li id="m18201"><a href="http://cnx.org/content/m18201/latest/?collection=col10624/latest">Absolute Value Equations</a></li>
<li id="m18207"><a href="http://cnx.org/content/m18207/latest/?collection=col10624/latest">Absolute Value Inequalities</a></li>
<li id="m18199"><a href="http://cnx.org/content/m18199/latest/?collection=col10624/latest">Graphing Absolute Values</a></li>
<li id="m18208"><a href="http://cnx.org/content/m18208/latest/?collection=col10624/latest">Graphing Inequalities</a></li>
<li id="m18200"><a href="http://cnx.org/content/m18200/latest/?collection=col10624/latest">&quot;Piecewise Functions&quot; and Absolute Value</a></li>
-->
</ul>
            </li>
            <li class="cnx_null_li">
             <h4 class="cnx_chapter_header"
                  onclick="org.archomai.transMenus.toc.ExpandMenuHeader(event);"><!-- 3. -->Simultaneous Equations
</h4>
             <ul id="jsf96aac9278fd0b47553d2a1e137737b1" class="collapsibleMenu" style="display: none"><li id="m18211"><a 
href="http://cnx.org/content/m18211/latest/?collection=col10624/latest">Distance, Rate and Time</a></li>
<li id="m18209"><a href="http://cnx.org/content/m18209/latest/?collection=col10624/latest">Simultaneous Equations by Graphing</a></li>
<li id="m18212"><a href="http://cnx.org/content/m18212/latest/?collection=col10624/latest">Substitution</a></li>
<li id="m18215"><a href="http://cnx.org/content/m18215/latest/?collection=col10624/latest">Elimination</a></li>
<li id="m18213"><a href="http://cnx.org/content/m18213/latest/?collection=col10624/latest">Special Cases</a></li>
<li id="m18210"><a href="http://cnx.org/content/m18210/latest/?collection=col10624/latest">Word Problems</a></li>
<li id="m18214"><a href="http://cnx.org/content/m18214/latest/?collection=col10624/latest">Using Letters as Numbers</a></li>
</ul>
            </li>
            <li class="cnx_null_li">
             <h4 class="cnx_chapter_header"
                  onclick="org.archomai.transMenus.toc.ExpandMenuHeader(event);"><!--4. -->Quadratic Functions</h4>
             <ul id="jscdf60731b60449a4691973cd35e47b7b" class="collapsibleMenu" style="display: none"><li id="m18224"><a 
href="http://cnx.org/content/m18224/latest/?collection=col10624/latest">Multiplying Binomials</a></li>
<li id="m18227"><a href="http://cnx.org/content/m18227/latest/?collection=col10624/latest">Factoring</a></li>
<li id="m18222"><a href="http://cnx.org/content/m18222/latest/?collection=col10624/latest">Solving Quadratic Equations by Factoring</a></li>
<li id="m18217"><a href="http://cnx.org/content/m18217/latest/?collection=col10624/latest">Solving Quadratic Equations by Completing the Square</a></li>
<li id="m18231"><a href="http://cnx.org/content/m18231/latest/?collection=col10624/latest">The Quadratic Formula</a></li>
<li id="m18216"><a href="http://cnx.org/content/m18216/latest/?collection=col10624/latest">Different Types of Solutions to Quadratic Equations</a></li>
<li id="m18228"><a href="http://cnx.org/content/m18228/latest/?collection=col10624/latest">Graphing Quadratic Equations</a></li>
<li id="m18220"><a href="http://cnx.org/content/m18220/latest/?collection=col10624/latest">Solving Problems by Graphing Quadratic Functions</a></li>
<li id="m18230"><a href="http://cnx.org/content/m18230/latest/?collection=col10624/latest">Quadratic Inequalities</a></li>
</ul>
            </li>
            <li class="cnx_null_li">
             <h4 class="cnx_chapter_header"
                  onclick="org.archomai.transMenus.toc.ExpandMenuHeader(event);">Exponents</h4>
             <ul id="js01a6e5db2772d09a632e12a50c231ffe" class="collapsibleMenu" style="display: block"><li id="m18232"><a 
href="http://cnx.org/content/m18232/latest/?collection=col10624/latest">Exponent Concepts</a></li>
<li class="cnx_current" id="current"><span><a href="#cnx_module_header" title="Jump to the top of this module">Laws of Exponents</a></span>
<ul>
<li>
<a title="Jump to this section of the module" href="#educational-theories">Educational Theories</a>
</li>
<li>
<a title="Jump to this section of the module" href="#section-quiz">Section Quiz</a>
</li>
<li>
<a title="Jump to this section of the module" href="#further-research">Further Research</a>
</li>
<li>
<a title="Jump to this section of the module" href="#theoretical-perspectives">Theoretical Perpsectives</a>
</li>
<li>
<a title="Jump to this section of the module" href="#module-summary">Summary</a>
</li>
</ul>
</li>
<li id="m18234"><a href="http://cnx.org/content/m18234/latest/?collection=col10624/latest">Zero, Negative Numbers, and Fractions as Exponents</a></li>
<li id="m18233"><a href="http://cnx.org/content/m18233/latest/?collection=col10624/latest">Exponential Curves</a></li>
</ul>
            </li>
            <li class="cnx_null_li">
             <h4 class="cnx_chapter_header"
                  onclick="org.archomai.transMenus.toc.ExpandMenuHeader(event);"><!--6. -->Logarithms</h4>
             <ul id="jse868cdd9f26ae05c71dcf23ca47c5edb" class="collapsibleMenu" style="display: none"><li id="m18242"><a 
href="http://cnx.org/content/m18242/latest/?collection=col10624/latest">Logarithm Concepts</a></li>
<li id="m18236"><a href="http://cnx.org/content/m18236/latest/?collection=col10624/latest">The Logarithm Explained by Analogy to Roots</a></li>
<li id="m18241"><a href="http://cnx.org/content/m18241/latest/?collection=col10624/latest">Rewriting Logarithm Equations as Exponent Equations</a></li>
<li id="m18240"><a href="http://cnx.org/content/m18240/latest/?collection=col10624/latest">The Logarithm Defined as an Inverse Function</a></li>
<li id="m18239"><a href="http://cnx.org/content/m18239/latest/?collection=col10624/latest">Properties of Logarithms</a></li>
<li id="m18237"><a href="http://cnx.org/content/m18237/latest/?collection=col10624/latest">Common Logarithms</a></li>
<li id="m18238"><a href="http://cnx.org/content/m18238/latest/?collection=col10624/latest">Graphing Logarithmic Functions</a></li>
</ul>
            </li>
            <li class="cnx_null_li">
             <h4 class="cnx_chapter_header"
                  onclick="org.archomai.transMenus.toc.ExpandMenuHeader(event);"><!--7. -->Rational Expressions</h4>
             <ul id="jsb328faa434ac1f081d4f8fcc897721e1" class="collapsibleMenu" style="display: none"><li id="m18304"><a 
href="http://cnx.org/content/m18304/latest/?collection=col10624/latest">Rational Expression Concepts</a></li>
<li id="m18296"><a href="http://cnx.org/content/m18296/latest/?collection=col10624/latest">Simplifying Rational Expressions</a></li>
<li id="m18301"><a href="http://cnx.org/content/m18301/latest/?collection=col10624/latest">Multiplying Rational Expressions</a></li>
<li id="m18303"><a href="http://cnx.org/content/m18303/latest/?collection=col10624/latest">Adding and Subtracting Rational Expressions</a></li>
<li id="m18302"><a href="http://cnx.org/content/m18302/latest/?collection=col10624/latest">Rational Equations</a></li>
<li id="m18299"><a href="http://cnx.org/content/m18299/latest/?collection=col10624/latest">Dividing Polynomials</a></li>
</ul>
            </li>
            <li class="cnx_null_li">
             <h4 class="cnx_chapter_header"
                  onclick="org.archomai.transMenus.toc.ExpandMenuHeader(event);"><!--8. -->Radicals</h4>
             <ul id="jsd1200f65878d77aaec26efea057bbbf6" class="collapsibleMenu" style="display: none"><li id="m18244"><a 
href="http://cnx.org/content/m18244/latest/?collection=col10624/latest">Radical Concepts</a></li>
<li id="m18271"><a href="http://cnx.org/content/m18271/latest/?collection=col10624/latest">Properties of Radicals</a></li>
<li id="m18274"><a href="http://cnx.org/content/m18274/latest/?collection=col10624/latest">Simplifying Radicals</a></li>
<li id="m18273"><a href="http://cnx.org/content/m18273/latest/?collection=col10624/latest">Radical Equations</a></li>
</ul>
            </li>
            <li class="cnx_null_li">
             <h4 class="cnx_chapter_header"
                  onclick="org.archomai.transMenus.toc.ExpandMenuHeader(event);"><!--9. -->Imaginary Numbers</h4>
             <ul id="jsccca26e2ec9b7a34fa417a0640ba3ca8" class="collapsibleMenu" style="display: none"><li id="m18285"><a 
href="http://cnx.org/content/m18285/latest/?collection=col10624/latest">Imaginary Numbers Concepts</a></li>
<li id="m18286"><a href="http://cnx.org/content/m18286/latest/?collection=col10624/latest">Playing with i</a></li>
<li id="m18282"><a href="http://cnx.org/content/m18282/latest/?collection=col10624/latest">Complex Numbers</a></li>
<li id="m18283"><a href="http://cnx.org/content/m18283/latest/?collection=col10624/latest">Equality and Inequality in Complex Numbers</a></li>
<li id="m18288"><a href="http://cnx.org/content/m18288/latest/?collection=col10624/latest">Quadratic Equations and Complex Numbers</a></li>
<li id="m18284"><a href="http://cnx.org/content/m18284/latest/?collection=col10624/latest">A Few Extra for Experts Thoughts on Imaginary Numbers</a></li>
</ul>
            </li>
            <li class="cnx_null_li">
             <h4 class="cnx_chapter_header"
                  onclick="org.archomai.transMenus.toc.ExpandMenuHeader(event);"><!--10. -->Matrices</h4>
             <ul id="jsac8b67da6cee5a7698c743c775db22f5" class="collapsibleMenu" style="display: none"><li id="m18311"><a 
href="http://cnx.org/content/m18311/latest/?collection=col10624/latest">Matrices</a></li>
<li id="m18291"><a href="http://cnx.org/content/m18291/latest/?collection=col10624/latest">Multiplying Matrices</a></li>
<li id="m18293"><a href="http://cnx.org/content/m18293/latest/?collection=col10624/latest">The Identity Matrix</a></li>
<li id="m18294"><a href="http://cnx.org/content/m18294/latest/?collection=col10624/latest">The Inverse Matrix</a></li>
<li id="m18290"><a href="http://cnx.org/content/m18290/latest/?collection=col10624/latest">Matrices on a TI-83 or TI-84 Calculator</a></li>
<li id="m18289"><a href="http://cnx.org/content/m18289/latest/?collection=col10624/latest">Determinants</a></li>
<li id="m18292"><a href="http://cnx.org/content/m18292/latest/?collection=col10624/latest">Solving Linear Equations</a></li>
</ul>
            </li>
            <li class="cnx_null_li">
             <h4 class="cnx_chapter_header"
                  onclick="org.archomai.transMenus.toc.ExpandMenuHeader(event);"><!--11. -->Modeling Data with Functions</h4>
             <ul id="js0d8a0d0a86edb0b7573aec0d891b1b93" class="collapsibleMenu" style="display: none"><li id="m18277"><a 
href="http://cnx.org/content/m18277/latest/?collection=col10624/latest">Data Modeling Concepts</a></li>
<li id="m18281"><a href="http://cnx.org/content/m18281/latest/?collection=col10624/latest">Direct and Inverse Variations</a></li>
<li id="m18278"><a href="http://cnx.org/content/m18278/latest/?collection=col10624/latest">Finding a Linear Function for any Two Points</a></li>
<li id="m18279"><a href="http://cnx.org/content/m18279/latest/?collection=col10624/latest">Finding a Parabolic Function for any Three Points</a></li>
<li id="m18280"><a href="http://cnx.org/content/m18280/latest/?collection=col10624/latest">Regression on the Calculator</a></li>
</ul>
            </li>
            <li class="cnx_null_li">
             <h4 class="cnx_chapter_header"
                  onclick="org.archomai.transMenus.toc.ExpandMenuHeader(event);"><!--12. -->Conics</h4>
             <ul id="js1c4b7a49b43bf29b6acd401399a87e7d" class="collapsibleMenu" style="display: none"><li id="m18265"><a 
href="http://cnx.org/content/m18265/latest/?collection=col10624/latest">Conic Concepts</a></li>
<li id="m18246"><a href="http://cnx.org/content/m18246/latest/?collection=col10624/latest">A Mathematical Look at Distance</a></li>
<li id="m18245"><a href="http://cnx.org/content/m18245/latest/?collection=col10624/latest">Circles</a></li>
<li id="m18268"><a href="http://cnx.org/content/m18268/latest/?collection=col10624/latest">Parabolas</a></li>
<li id="m18247"><a href="http://cnx.org/content/m18247/latest/?collection=col10624/latest">Ellipses</a></li>
<li id="m18249"><a href="http://cnx.org/content/m18249/latest/?collection=col10624/latest">Hyperbolas</a></li>
<li id="m18270"><a href="http://cnx.org/content/m18270/latest/?collection=col10624/latest">A Brief Recap: How Do You Tell What Shape It Is?</a></li>
</ul>
            </li>
            <li class="cnx_null_li">
             <h4 class="cnx_chapter_header"
                  onclick="org.archomai.transMenus.toc.ExpandMenuHeader(event);"><!--13. -->Sequences and Series</h4>
             <ul id="jsb9af8be9c9f529e43d07c609ebba80ec" class="collapsibleMenu" style="display: none"><li id="m19076"><a 
href="http://cnx.org/content/m19076/latest/?collection=col10624/latest">Sequences</a></li>
<li id="m19074"><a href="http://cnx.org/content/m19074/latest/?collection=col10624/latest">Series</a></li>
<li id="m19075"><a href="http://cnx.org/content/m19075/latest/?collection=col10624/latest">Proof by Induction</a></li>
</ul>
            </li>
            <li class="cnx_null_li">
             <h4 class="cnx_chapter_header"
                  onclick="org.archomai.transMenus.toc.ExpandMenuHeader(event);"><!--14. -->Probability</h4>
             <ul id="jsdb60236ab8f3ea0ed890868ce3ed9c79" class="collapsibleMenu" style="display: none"><li id="m19073"><a 
href="http://cnx.org/content/m19073/latest/?collection=col10624/latest">Probability</a></li>
<li id="m19072"><a href="http://cnx.org/content/m19072/latest/?collection=col10624/latest">Permutations</a></li>
<li id="m19071"><a href="http://cnx.org/content/m19071/latest/?collection=col10624/latest">Combinations</a></li>
</ul>
            </li>
            <li class="cnx_null_li">
             <h4 class="cnx_chapter_header"
                  onclick="org.archomai.transMenus.toc.ExpandMenuHeader(event);"><!--15. -->(Untitled)</h4>
             <ul id="jse06c974469182b98336349136ea83f9d" class="collapsibleMenu" style="display: none"></ul>
            </li>
</ul>
</div></div>
</div>
</div>

</div>
<!--
<div id="show-toolbox">
<span id="show-toolbox-text">
Show tools again
</span>
</div>
-->
      </div>

<div id="overlay-back"></div>

        <div id="editor">


<div id="artboard">

<div id="artboard-inner">


<div id="module-bar">
          <span id="module-title-text">
            Module:
            <span id="module-title-link">
            Laws of Exponents
              <span style="color: #FAE4D8;">
              (<a href="#" style="color: #FAE4D8;" onclick="return false;">edit description/authors</a>)
              </span>
            </span>
          </span>
  <span class="iconlike">
    <input type="submit" value="Saved" disabled="disabled"/>
  </span>
  <span class="iconlike">
    <input type="submit" value="Preview"/>
  </span>
          <span id="sign-out">
            <a href="#" onclick="return false">Sign out</a>
          </span>
</div>


<div id="toolbar">
  <div class="btn-toolbar2" style="margin: 0;">

  <span class="iconlike" id="hints">
    <span title="Go to previous module in this book: Exponent Concepts" style="background-image: url(toolbar/prev-module-02.png); background-repeat: no-repeat; cursor: pointer; 
width: 11px; height: 21px; display: inline-block;">
    </span>
    <span title="Go to next module in this book: Zero, Negative Numbers, and Fractions as Exponents" style="background-image: url(toolbar/next-module-02.png); 
background-repeat: no-repeat; cursor: pointer; width: 11px; height: 21px; display: inline-block; margin-left: .5em; margin-right: -.5em;">
    </span>
<!--
    <input type="checkbox" id="hints-checkbox"/>
    <label for="hints-checkbox" class="checkbox"/>Show hints</label>
-->
  </span>

<!--
  <span class="iconlike">
  </span>
  <span class="iconlike">
    <img src="toolbar/next-module-01.png" title="Go to next module in this book: Zero, Negative Numbers, and Fractions as Exponents"/>
  </span>
-->

 <div id="icon-set">


<!--
  <span class="iconlike">
    <input type="submit" value="Saved" disabled="disabled"/>
  </span>
  <span class="iconlike">
    <input type="submit" value="Preview"/>
  </span>
-->
<!--
  <span class="iconlike">
    <input type="submit" value="Options ..." class="menu-like"/>
    <a href="#" class="menu-like"/>Edit/Options ...</a>
  </span>
-->
  <span class="toolbar-function" id="toolbar-undo">
    <a class="toolbar-icon" href="#" title="Undo">
    </a>
  </span>
  <span class="toolbar-function disabled" id="toolbar-redo">
    <a  class="toolbar-icon" href="#" title="Redo">
    </a>
  </span>
  <span class="separator">  </span>
  <span class="toolbar-function toolbar-dd toolbar-text-menu disabled" id="toolbar-format-text">
    <a class="toolbar-text" href="#" title="Change formatting">
    Text Format
    </a>
    <a class="toolbar-icon" href="#" title="Change formatting">
    </a>
  </span>
<!--
  <span class="iconlike">
      <select>
        <option>Normal text</option>
        <option>Section Heading</option>
        <option>Subsection Heading</option>
        <option>Subsubsection Heading</option>
        <option>Programming code</option>
        <option>Poetry, lyrics, etc.</option>
      </select>
  </span>
-->
  <span class="toolbar-function" id="toolbar-bold">
    <a class="toolbar-icon" href="#" title="Bold (Ctrl + B)">
    </a>
  </span>
  <span class="toolbar-function" id="toolbar-italics">
    <a class="toolbar-icon" href="#" title="Italics (Ctrl + I)">
    </a>
  </span>
  <span class="toolbar-function" id="toolbar-underline">
    <a class="toolbar-icon" href="#" title="Underline (Ctrl + U)">
    </a>
  </span>
<!--
  <span class="toolbar-function" id="toolbar-smallcaps">
    <a class="toolbar-icon" href="#" title="Small caps">
    </a>
  </span>
  <span class="separator">  </span>
-->
  <span class="toolbar-function" id="toolbar-superscript">
    <a class="toolbar-icon" href="#" title="Superscript">
    </a>
  </span>
  <span class="toolbar-function" id="toolbar-subscript">
    <a class="toolbar-icon" href="#" title="Subscript">
    </a>
  </span>
  <span class="separator">  </span>
  <span class="toolbar-function" id="toolbar-link">
    <a class="toolbar-icon" href="#" title="Link">
    </a>
  </span>
<!--
  <span class="toolbar-function disabled" id="toolbar-unlink">
    <a class="toolbar-icon" href="#" title="Unlink (remove the link, leaving just the text)">
    </a>
  </span>
-->
<!--
  <span class="toolbar-function" id="toolbar-specialchars">
    <a class="toolbar-icon" href="#" title="Insert special characters">
    </a>
  </span>
-->
  <span class="toolbar-function" id="toolbar-footnote">
    <a class="toolbar-icon" href="#" title="Footnote">
    </a>
  </span>
  <span class="separator">  </span>
  <span class="toolbar-function" id="toolbar-unorderedlist">
    <a class="toolbar-icon" href="#" title="Unordered list">
    </a>
  </span>
  <span class="toolbar-function" id="toolbar-orderedlist">
    <a class="toolbar-icon" href="#" title="Ordered list">
    </a>
  </span>
  <span class="toolbar-function toolbar-dd" id="toolbar-olist-options">
    <a class="toolbar-icon" href="#" title="Choose numbering style">
    </a>
  </span>
  <span class="toolbar-function disabled" id="toolbar-indent">
    <a class="toolbar-icon" href="#" title="Indent list item (move right)">
    </a>
  </span>
  <span class="toolbar-function disabled" id="toolbar-unindent">
    <a class="toolbar-icon" href="#" title="Unindent list item (move left)">
    </a>
  </span>
<!--
  <span class="separator">  </span>
  <div class="btn-group">
    <button class="btn action"><i class="icon-unordered-list"></i></button>
    <button class="btn action"><i class="icon-ordered-list"></i></button>
    <button class="dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></button>
    <ul class="dropdown-menu">
      <li>
        <a href="#" class="action listarabic">1. Default</a>
      </li>
      <li>
        <a href="#" class="action listupperalpha">A. Upper Alpha</a>
      </li>
      <li>
        <a href="#" class="action listloweralpha">a. Lower Alpha</a>
      </li>
      <li>
        <a href="#" class="action listupperroman">I. Upper Roman</a>
      </li>
      <li>
        <a href="#" class="action listlowerroman">i. Lower Roman</a>
      </li>
      <li>
        <a href="#" class="action listlowerroman">Step 1. Step-wise</a>
      </li>
    </ul>
  </div>
  <div class="btn-group">
    <button class="btn action"><i class="icon-indent-list"></i></button>
    <button class="btn action"><i class="icon-unindent-list"></i></button>
    </ul>
  </div>
-->
  <span class="separator">  </span>
  <span class="toolbar-function" id="toolbar-table">
    <a class="toolbar-icon" href="#" title="New table">
    </a>
  </span>
  <span class="toolbar-function toolbar-dd" id="toolbar-table-options">
    <a class="toolbar-icon" href="#" title="Table options">
    </a>
  </span>
<!--
  <span class="toolbar-dropdown">
    <span class="dropdown-toggle" title="Table options"><span class="caret"></span></span>
    <div class="dropdown-menu">
      <ul class="menu-list disabled" id="table-flyout-insert">
        <li class="table-add-row-before">Add new row before</li>
        <li class="table-add-row-after">Add new row after</li>
        <li class="table-add-column-before">Add new column before</li>
        <li class="table-add-column-after">Add new column after</li>
      </ul>
      <ul class="menu-list disabled" id="table-flyout-delete">
        <li class="table-delete-row">Delete row</li>
        <li class="table-delete-column">Delete column</li>
      </ul>
      <ul class="menu-list disabled" id="table-flyout-options">
        <li class="table-options-activate">Table options ...</li>
      </ul>
    </div>
  </span>
-->
<!--
  <div class="btn-group">
    <button class="btn action"><i class="icon-table-insert"></i></button>
    <button class="btn dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></button>
    <ul class="dropdown-menu">
      <li class="disabled">
        <a href="#" class="action addrowbefore">Add new row before</a>
      </li>
      <li class="disabled">
        <a href="#" class="action addrowafter">Add new row after</a>
      </li>
      <li class="disabled">
        <a href="#" class="action addcolumnbefore">Add new column before</a>
      </li>
      <li class="disabled">
        <a href="#" class="action addcolumnafter">Add new column after</a>
      </li>
      <li class="disabled">
        <a href="#" class="action deleterow">Delete row</a>
      </li>
      <li class="disabled">
        <a href="#" class="action deletecolumn">Delete column</a>
      </li>
      <li class="disabled">
        <a href="#" class="action tableoptions">Table options</a>
      </li>
    </ul>
  </div>
-->
  <span class="toolbar-function" id="toolbar-image">
    <a class="toolbar-icon" href="#" title="New image">
    </a>
  </span>
  <span class="toolbar-function" id="toolbar-video">
    <a class="toolbar-icon" href="#" title="New video">
    </a>
  </span>
<!--
  <span class="toolbar-function" id="toolbar-audio">
    <a class="toolbar-icon" href="#" title="New audio">
    </a>
  </span>
-->
  <span class="toolbar-function" id="toolbar-math">
    <a class="toolbar-icon" href="#" title="Add Math">
    </a>
  </span>
  <span class="separator">  </span>
  <span class="iconlike" id="toolbar-paste">
    <input type="submit" value="Paste" disabled="disabled"/>
  </span>
<!--
  <span class="toolbar-function toolbar-dd toolbar-text-menu" id="toolbar-add-new">
    <a class="toolbar-text" href="#" title="Add one of the 'Tools for Teachers'">
    Add a new ...
    </a>
    <a class="toolbar-icon" href="#" title="Add one of the 'Tools for Teachers'">
    </a>
  </span>
-->
<!--
  <span class="iconlike" style="padding-left: 6px;">
      <select>
        <option>Add new ...</option>
        <option>Example</option>
        <option>Exercise</option>
        <option>Note to Reader</option>
        <option>Definition</option>
        <option>Numbered Equation</option>
      </select>
  </span>
-->

  </div>
  </div>
</div>


<div id="toolbox">
  <div id="toolbox-inner">
<dl class="pedagog-blocks">
  <dt style="position: relative;">
    <span>
      Drag or click to add a new ...
<!--
      <img src="content_files/drag-arrow-02.png"/>
-->
    </span>
  </dt>
  <dd>
    <ul>
      <li class="pedagog example-block">
        <div class="change-label" title="Change the default label for new examples">
          <div class="change-label-arrow">&nbsp;</div>
          <ul class="change-label-list">
<!--
	    <li class="instructions">Change label for new examples</li>
-->
            <li class="selected">Example</li>
            <li>Illustration</li>
            <li>Demonstration</li>
            <li>Case in Point</li>
            <li>Case Study</li>
          </ul>
        </div>
        <a class="node" href="#"><span class="plus">+ </span>Example</a>
        <div class="helper" style="display: none;">
          <p>
            Use the <strong>Example template</strong> to illustrate a point to the reader.
          </p>
          <p>
            Supported types: <i>Example, Illustration, Demonstration, Case in Point, Case Study</i>.
          </p>
          <div class="helper-how">
          <p>
            To add an example, either:
          </p>
          <ul>
            <li><strong>Drag the button</strong> at left into the document, OR ...</li>
            <li><strong>Highlight text</strong> in the document and then click the button at left</li>
          </ul>
        </div>
      </li>
      <li class="pedagog exercise-block">
        <div class="change-label" title="Change the default label for new exercises">
          <div class="change-label-arrow">&nbsp;</div>
          <ul class="change-label-list">
            <li class="selected">Exercise</li>
            <li>Homework</li>
            <li>Question</li>
            <li>Problem</li>
            <li>Task</li>
          </ul>
        </div>
        <a class="node" href="#"><span class="plus">+ </span>Exercise</a>
        <div class="helper" style="display: none;">
<!--
          <p>
            Use an <strong>Exercise</strong> to ask a question or assess the reader's understanding.  Supported types: <i>Exercise, Homework, Question, Problem, Task</i>.
          </p>
-->
          <p>
            Use the <strong>Exercise template</strong> to ask a question or assess the reader's understanding.  Exercise templates automatically handle numbering.
          </p>
          <p>
            Supported types: <i>Exercise, Homework, Question, Problem, Task</i>.
          </p>
          <div class="helper-how">
          <p>
            To add an exercise, either:
          </p>
          <ul>
            <li><strong>Drag the button</strong> at left into the document, OR ...</li>
            <li><strong>Highlight text</strong> in the document and then click the button at left</li>
          </ul>
        </div>
      </li>
      <li class="pedagog note-block">
        <div class="change-label" title="Change the default label for new notes">
          <div class="change-label-arrow">&nbsp;</div>
          <ul class="change-label-list">
            <li class="selected">Note</li>
            <li>Warning</li>
            <li>Tip</li>
            <li>Aside</li>
            <li>Important</li>
          </ul>
        </div>
        <a class="node" href="#"><span class="plus">+ </span>Note to Reader</a>
        <div class="helper" style="display: none;">
<!--
          <p>
            Use a <strong>Note</strong> to make a note to the reader (set apart from the flow of the text).  Supported types: <i>Note, Warning, Tip, Aside, Important</i>.
          </p>
-->
          <p>
            Use the <strong>Note template</strong> to make a note to the reader (set apart from the flow of the text).
          </p>
          <p>
            Supported types: <i>Note, Warning, Tip, Aside, Important</i>.
          </p>
          <div class="helper-how">
          <p>
            To add a note, either:
          </p>
          <ul>
            <li><strong>Drag the button</strong> at left into the document, OR ...</li>
            <li><strong>Highlight text</strong> in the document and then click the button at left</li>
          </ul>
        </div>
      </li>
      <li class="pedagog definition-block">
        <a class="node" href="#"><span class="plus">+ </span>Definition</a>
        <div class="helper" style="display: none;">
<!--
          <p>
            Use a <strong>Definition</strong> to define a key term or glossary word.  Supported types: <i>Definition, Key Term</i>.
          </p>
-->
          <p>
            Use the <strong>Definition template</strong> to define a key term or glossary word.  
          </p>
          <p>
            Supported types: <i>Definition, Key Term</i>.
          </p>
          <div class="helper-how">
          <p>
            To add a definition, either:
          </p>
          <ul>
            <li><strong>Drag the button</strong> at left into the document, OR ...</li>
            <li><strong>Highlight text</strong> in the document and then click the button at left</li>
          </ul>
        </div>
      </li>
      <li class="pedagog equation-block">
        <a class="node" href="#"><span class="plus">+ </span>Numbered Equation</a>
        <div class="helper" style="display: none;">
<!--
          <p>
            Use a <strong>Numbered Equation</strong> to display a mathematical equation using the convention of numbering each at right.
          </p>
-->
          <p>
            Use the <strong>Numbered Equation template</strong> to display a mathematical equation using the convention of numbering each at right.
          </p>
          <div class="helper-how">
          <p>
            To add an equation, either:
          </p>
          <ul>
            <li><strong>Drag the button</strong> at left into the document, OR ...</li>
            <li><strong>Highlight text</strong> in the document and then click the button at left</li>
          </ul>
        </div>
      </li>
      <li class="pedagog quote-block">
        <a class="node" href="#"><span class="plus">+ </span>Quotation</a>
        <div class="helper" style="display: none;">
          <p>
            Use the <strong>Quotation template</strong> to set apart an extended quotation from the rest of the text.
          </p>
          <div class="helper-how">
          <p>
            To add a quotation, either:
          </p>
          <ul>
            <li><strong>Drag the button</strong> at left into the document, OR ...</li>
            <li><strong>Highlight text</strong> in the document and then click the button at left</li>
          </ul>
        </div>
      </li>
      <li class="pedagog2 more-block" title="Choose more tools.  Configure which features to quickly drag and drop into your document.">&nbsp;
<!--
        <span class="more-node" href="#" title="Choose more tools.  Configure which features to quickly drag and drop into your document.">+ more</span>
-->
      </li>
<!--
 <a href="#">more</a>
-->
<!--
      <li class="pedagog-glossary">
        <input type="checkbox"/>
        <span>Include a Glossary</span>
      </li>
-->
    </ul>
  </dd>
</dl>
  <div id="semantic-help" style="display: none;">
    <a id="semantic-help-question" href="#adsf" title="Click to find out more about the above buttons">What are these?</a>
    <div id="semantic-help-answer-wrap">
      <div id="semantic-help-answer" style="display: none;">
        <div id="semantic-help-answer-close"><img src="content_files/remove-element-08.png"/></div>
        <div class="sh-section-opener">
          <span class="plusminus">- </span>
          What are these buttons?
        </div>
        <div class="sh-section" style="display: block">
          <p>
          They provide an easy way to add templates for including pedagogical items in the text you're creating:
          </p>
          <ul>
            <li><strong>Example</strong> <i>(Illustration, Demonstration, Case in Point, Case Study)</i>: <br/>Illustrate a point to the reader (set apart from the flow of the text).</li>
            <li><strong>Exercise</strong> <i>(Homework, Question, Problem, Task)</i>: <br/>Ask a question to assess the reader's understanding.  Optionally provide a solution/answer.</li>
            <li><strong>Note</strong> <i>(Warning, Tip, Aside, Important)</i>: <br/>Make a note to the reader (set apart from the flow of the text).</li>
            <li><strong>Definition</strong> <i>(Key Term)</i>: <br/>Define a key term, or build a glossary.</li>
            <li><strong>Numbered Equation</strong>: <br/>Mathematical equations using the convention of numbering each at right.</li>
            <li><strong>Quotation</strong>: <br/>Set apart an extended quotation from the rest of the text.</li>
          </ul>
        </div>
        <div class="sh-section-opener">
          <span class="plusminus">+ </span>
          What are the benefits of using them?
        </div>
        <div class="sh-section">
          <p>
            These templates provide shortcuts for adding consistent elements in your text, while automatically adjusting their numbering (e.g. "Exercise 1" becomes "Exercise 2" if you 
            add another exercise before it).  They also allow for easy linking text to such elements within the document.
          </p>
        </div>
        <div class="sh-section-opener">
          <span class="plusminus">+ </span>
          How do I add them to my document?
        </div>
        <div class="sh-section">
          <ul>
            <li><strong>Drag and drop</strong> the button from the left onto the page (a space will open up).</li>
            <li><strong>Or highlight some text and then click</strong> on the button to wrap that text in the template.</li>
          </ul>
<!--
          <p>
            Click a button to the left to add it where your cursor is in the document, or highlight some text and then click on the button to wrap that text in the template.
          </p>
-->
        </div>
      </div>
    </div>
  </div>
<!--
  <div id="more-blocks">
    <a id="more-blocks-trigger" href="#adsf" title="Get access to more templates">Choose more features ...</a>
  </div>
-->


<!--
<dl class="pedagog-blocks">
  <dt style="position: relative;">
    <span>
      Drag or click to add a:
    </span>
  </dt>
  <dd>
    <ul>
      <li class="pedagog example-block">
        <a class="node" href="#"><span class="plus">+ </span>Example</a>
        <div class="helper" style="display: none;">
          <p>
            Use the <strong>Example template</strong> to illustrate a point to the reader.
          </p>
          <p>
            Supported types: <i>Example, Illustration, Demonstration, Case in Point, Case Study</i>.
          </p>
          <div class="helper-how">
          <p>
            To add an example, either:
          </p>
          <ul>
            <li><strong>Drag the button</strong> at left into the document, OR ...</li>
            <li><strong>Highlight text</strong> in the document and then click the button at left</li>
          </ul>
        </div>
      </li>
      <li class="pedagog exercise-block">
        <a class="node" href="#"><span class="plus">+ </span>Exercise</a>
        <div class="helper" style="display: none;">
          <p>
            Use the <strong>Exercise template</strong> to ask a question or assess the reader's understanding.  Exercise templates automatically handle numbering.
          </p>
          <p>
            Supported types: <i>Exercise, Homework, Question, Problem, Task</i>.
          </p>
          <div class="helper-how">
          <p>
            To add an exercise, either:
          </p>
          <ul>
            <li><strong>Drag the button</strong> at left into the document, OR ...</li>
            <li><strong>Highlight text</strong> in the document and then click the button at left</li>
          </ul>
        </div>
      </li>
      <li class="pedagog note-block">
        <a class="node" href="#"><span class="plus">+ </span>Note to Reader</a>
        <div class="helper" style="display: none;">
          <p>
            Use the <strong>Note template</strong> to make a note to the reader (set apart from the flow of the text).
          </p>
          <p>
            Supported types: <i>Note, Warning, Tip, Aside, Important</i>.
          </p>
          <div class="helper-how">
          <p>
            To add a note, either:
          </p>
          <ul>
            <li><strong>Drag the button</strong> at left into the document, OR ...</li>
            <li><strong>Highlight text</strong> in the document and then click the button at left</li>
          </ul>
        </div>
      </li>
      <li class="pedagog definition-block">
        <a class="node" href="#"><span class="plus">+ </span>Definition</a>
        <div class="helper" style="display: none;">
          <p>
            Use the <strong>Definition template</strong> to define a key term or glossary word.  
          </p>
          <p>
            Supported types: <i>Definition, Key Term</i>.
          </p>
          <div class="helper-how">
          <p>
            To add a definition, either:
          </p>
          <ul>
            <li><strong>Drag the button</strong> at left into the document, OR ...</li>
            <li><strong>Highlight text</strong> in the document and then click the button at left</li>
          </ul>
        </div>
      </li>
      <li class="pedagog equation-block">
        <a class="node" href="#"><span class="plus">+ </span>Numbered Equation</a>
        <div class="helper" style="display: none;">
          <p>
            Use the <strong>Numbered Equation template</strong> to display a mathematical equation using the convention of numbering each at right.
          </p>
          <div class="helper-how">
          <p>
            To add an equation, either:
          </p>
          <ul>
            <li><strong>Drag the button</strong> at left into the document, OR ...</li>
            <li><strong>Highlight text</strong> in the document and then click the button at left</li>
          </ul>
        </div>
      </li>
      <li class="pedagog quote-block">
        <a class="node" href="#"><span class="plus">+ </span>Quotation</a>
        <div class="helper" style="display: none;">
          <p>
            Use the <strong>Quotation template</strong> to set apart an extended quotation from the rest of the text.
          </p>
          <div class="helper-how">
          <p>
            To add a quotation, either:
          </p>
          <ul>
            <li><strong>Drag the button</strong> at left into the document, OR ...</li>
            <li><strong>Highlight text</strong> in the document and then click the button at left</li>
          </ul>
        </div>
      </li>
      <li class="pedagog2 more-block" title="Choose more tools.  Configure which features to quickly drag and drop into your document.">
      </li>
    </ul>
  </dd>
</dl>
-->
  </div>
</div>


<div id="sidebarTEMPORARILYDISABLED" style="display: none;">
<dl class="pedagog-blocks">
  <dt style="position: relative;">
    <span>
      Drag to add a new ...
    </span>
  </dt>
  <dd>
    <ul>
      <li class="pedagog example-block">
        <div class="change-label" title="Change the default label for new examples">
          <div class="change-label-arrow">&nbsp;</div>
          <ul class="change-label-list">
            <li class="selected">Example</li>
            <li>Illustration</li>
            <li>Demonstration</li>
            <li>Case in Point</li>
            <li>Case Study</li>
          </ul>
        </div>
        <a class="node" href="#"><span class="plus">+ </span>Example</a>
        <div class="helper" style="display: none;">
          <p>
            Use the <strong>Example template</strong> to illustrate a point to the reader.
          </p>
          <p>
            Supported types: <i>Example, Illustration, Demonstration, Case in Point, Case Study</i>.
          </p>
          <div class="helper-how">
          <p>
            To add an example, either:
          </p>
          <ul>
            <li><strong>Drag the button</strong> at left into the document, OR ...</li>
            <li><strong>Highlight text</strong> in the document and then click the button at left</li>
          </ul>
        </div>
      </li>
      <li class="pedagog exercise-block">
        <div class="change-label" title="Change the default label for new exercises">
          <div class="change-label-arrow">&nbsp;</div>
          <ul class="change-label-list">
            <li class="selected">Exercise</li>
            <li>Homework</li>
            <li>Question</li>
            <li>Problem</li>
            <li>Task</li>
          </ul>
        </div>
        <a class="node" href="#"><span class="plus">+ </span>Exercise</a>
        <div class="helper" style="display: none;">
<!--
          <p>
            Use an <strong>Exercise</strong> to ask a question or assess the reader's understanding.  Supported types: <i>Exercise, Homework, Question, Problem, Task</i>.
          </p>
-->
          <p>
            Use the <strong>Exercise template</strong> to ask a question or assess the reader's understanding.  Exercise templates automatically handle numbering.
          </p>
          <p>
            Supported types: <i>Exercise, Homework, Question, Problem, Task</i>.
          </p>
          <div class="helper-how">
          <p>
            To add an exercise, either:
          </p>
          <ul>
            <li><strong>Drag the button</strong> at left into the document, OR ...</li>
            <li><strong>Highlight text</strong> in the document and then click the button at left</li>
          </ul>
        </div>
      </li>
      <li class="pedagog note-block">
        <div class="change-label" title="Change the default label for new notes">
          <div class="change-label-arrow">&nbsp;</div>
          <ul class="change-label-list">
            <li class="selected">Note</li>
            <li>Warning</li>
            <li>Tip</li>
            <li>Aside</li>
            <li>Important</li>
          </ul>
        </div>
        <a class="node" href="#"><span class="plus">+ </span>Note to Reader</a>
        <div class="helper" style="display: none;">
<!--
          <p>
            Use a <strong>Note</strong> to make a note to the reader (set apart from the flow of the text).  Supported types: <i>Note, Warning, Tip, Aside, Important</i>.
          </p>
-->
          <p>
            Use the <strong>Note template</strong> to make a note to the reader (set apart from the flow of the text).
          </p>
          <p>
            Supported types: <i>Note, Warning, Tip, Aside, Important</i>.
          </p>
          <div class="helper-how">
          <p>
            To add a note, either:
          </p>
          <ul>
            <li><strong>Drag the button</strong> at left into the document, OR ...</li>
            <li><strong>Highlight text</strong> in the document and then click the button at left</li>
          </ul>
        </div>
      </li>
      <li class="pedagog definition-block">
        <a class="node" href="#"><span class="plus">+ </span>Definition</a>
        <div class="helper" style="display: none;">
<!--
          <p>
            Use a <strong>Definition</strong> to define a key term or glossary word.  Supported types: <i>Definition, Key Term</i>.
          </p>
-->
          <p>
            Use the <strong>Definition template</strong> to define a key term or glossary word.  
          </p>
          <p>
            Supported types: <i>Definition, Key Term</i>.
          </p>
          <div class="helper-how">
          <p>
            To add a definition, either:
          </p>
          <ul>
            <li><strong>Drag the button</strong> at left into the document, OR ...</li>
            <li><strong>Highlight text</strong> in the document and then click the button at left</li>
          </ul>
        </div>
      </li>
      <li class="pedagog equation-block">
        <a class="node" href="#"><span class="plus">+ </span>Numbered Equation</a>
        <div class="helper" style="display: none;">
<!--
          <p>
            Use a <strong>Numbered Equation</strong> to display a mathematical equation using the convention of numbering each at right.
          </p>
-->
          <p>
            Use the <strong>Numbered Equation template</strong> to display a mathematical equation using the convention of numbering each at right.
          </p>
          <div class="helper-how">
          <p>
            To add an equation, either:
          </p>
          <ul>
            <li><strong>Drag the button</strong> at left into the document, OR ...</li>
            <li><strong>Highlight text</strong> in the document and then click the button at left</li>
          </ul>
        </div>
      </li>
      <li class="pedagog quote-block">
        <a class="node" href="#"><span class="plus">+ </span>Quotation</a>
        <div class="helper" style="display: none;">
          <p>
            Use the <strong>Quotation template</strong> to set apart an extended quotation from the rest of the text.
          </p>
          <div class="helper-how">
          <p>
            To add a quotation, either:
          </p>
          <ul>
            <li><strong>Drag the button</strong> at left into the document, OR ...</li>
            <li><strong>Highlight text</strong> in the document and then click the button at left</li>
          </ul>
        </div>
      </li>
      <li class="pedagog2 more-block" title="Choose more tools.  Configure which features to quickly drag and drop into your document.">
<!--
        <span class="more-node" href="#" title="Choose more tools.  Configure which features to quickly drag and drop into your document.">+ more</span>
-->
      </li>
<!--
 <a href="#">more</a>
-->
<!--
      <li class="pedagog-glossary">
        <input type="checkbox"/>
        <span>Include a Glossary</span>
      </li>
-->
    </ul>
  </dd>
</dl>
  <div id="semantic-help">
    <a id="semantic-help-question" href="#adsf" title="Click to find out more about the above buttons">What are these?</a>
    <div id="semantic-help-answer-wrap">
      <div id="semantic-help-answer" style="display: none;">
        <div id="semantic-help-answer-close"><img src="content_files/remove-element-08.png"/></div>
        <div class="sh-section-opener">
          <span class="plusminus">- </span>
          What are these buttons?
        </div>
        <div class="sh-section" style="display: block">
          <p>
          They provide an easy way to add templates for including pedagogical items in the text you're creating:
          </p>
          <ul>
            <li><strong>Example</strong> <i>(Illustration, Demonstration, Case in Point, Case Study)</i>: <br/>Illustrate a point to the reader (set apart from the flow of the text).</li>
            <li><strong>Exercise</strong> <i>(Homework, Question, Problem, Task)</i>: <br/>Ask a question to assess the reader's understanding.  Optionally provide a solution/answer.</li>
            <li><strong>Note</strong> <i>(Warning, Tip, Aside, Important)</i>: <br/>Make a note to the reader (set apart from the flow of the text).</li>
            <li><strong>Definition</strong> <i>(Key Term)</i>: <br/>Define a key term, or build a glossary.</li>
            <li><strong>Numbered Equation</strong>: <br/>Mathematical equations using the convention of numbering each at right.</li>
            <li><strong>Quotation</strong>: <br/>Set apart an extended quotation from the rest of the text.</li>
          </ul>
        </div>
        <div class="sh-section-opener">
          <span class="plusminus">+ </span>
          What are the benefits of using them?
        </div>
        <div class="sh-section">
          <p>
            These templates provide shortcuts for adding consistent elements in your text, while automatically adjusting their numbering (e.g. "Exercise 1" becomes "Exercise 2" if you 
            add another exercise before it).  They also allow for easy linking text to such elements within the document.
          </p>
        </div>
        <div class="sh-section-opener">
          <span class="plusminus">+ </span>
          How do I add them to my document?
        </div>
        <div class="sh-section">
          <ul>
            <li><strong>Drag and drop</strong> the button from the left onto the page (a space will open up).</li>
            <li><strong>Or highlight some text and then click</strong> on the button to wrap that text in the template.</li>
          </ul>
<!--
          <p>
            Click a button to the left to add it where your cursor is in the document, or highlight some text and then click on the button to wrap that text in the template.
          </p>
-->
        </div>
      </div>
    </div>
  </div>
<!--
  <div id="more-blocks">
    <a id="more-blocks-trigger" href="#adsf" title="Get access to more templates">Choose more features ...</a>
  </div>
-->
</div>

<div id="canvas">

<!--
<div class="canvas2">
-->

<div class="element-options" id="glossary-confirm-move" title="Confirm moving this definition into the glossary" style="display: none;">
  <p>
   <strong>Confirm move to glossary.</strong>  You can quickly access the glossary by clicking the number that will appear next to the "Definition" button at left.
  </p>
</div>

<div class="element-options" id="copy-or-link" title="Use same module, make a new copy, or move it?" style="display: none;">
  <div>
    <input type="radio" name="col-radio" id="col-link" value="col-link" checked="checked"/> 
    <label for="col-link">
      <span style="display: none;" class="b2b-label">Use this same module in both books.  
	<span style="font-weight: normal;">Changes will appear in both books.</span>
      </span>
      <span class="other-drag-label">Keep this same module in both places.  
	<span style="font-weight: normal;">You will be able to edit from either location and changes will appear both places. </span>
      </span>
    </label>
  </div>
  <div>
    <input type="radio" name="col-radio" id="col-copy" value="col-copy"/> 
    <label for="col-copy">
      <span style="display: none;" class="b2b-label">Make a copy</span>
      <span class="other-drag-label">Make a copy</span>
    </label>
  </div>
  <div>
    <input type="radio" name="col-radio" id="col-move" value="col-move"/> 
    <label for="col-move">
      <span style="display: none;" class="b2b-label">Move module</span>
      <span class="other-drag-label">Move module</span>
    </label>
  </div>
</div>

<div class="element-options" id="exercise-options" title="Edit options for this exercise" style="display: none;">
  <ul class="element-options-tabs">
    <li class="selected" id="eo-basic-tab">
      <a href="#">Basic options</a>
    </li>
    <li id="eo-advanced-tab">
      <a href="#">Advanced</a>
    </li>
  </ul>
  <div class="element-options-contents" id="eo-basic">
    <label>Solution location</label>
    <div class="forminfo">In print and mobile formats, where should the solutions for this exercise appear?</div>
    <div>
      <input type="radio" name="print-placement" id="pp-default" checked="checked" /> <label for="pp-default" style="font-weight: normal;">Default (Let the system decide)</label>
    </div>
    <div>
      <input type="radio" name="print-placement" id="pp-end" /> <label for="pp-end" style="font-weight: normal;">At the end of the chapter</label>
    </div>
    <div>
      <input type="radio" name="print-placement" id="pp-here" /> <label for="pp-here" style="font-weight: normal;">Right after the exercise</label>
    </div>
    <hr/>
    <div>
      <input type="checkbox" id="ex-commentary"/>
      <label for="ex-commentary">Add commentary</label>
      <div class="forminfo">
      Provides a space for commentary at the end of this exercise.
      </div>
    </div>
  </div>
  <div class="element-options-contents" id="eo-advanced" style="display: none;">
    <label>Custom exercise type</label>
    <div class="forminfo">
       Give this exercise a new "type".  
       Nothing obvious will change in your document. 
       This is for advanced book styling and requires support from the publishing system.
    </div>
    <div>
      <input type="text" />
      (<a href="#" class="clear-text-from-input">remove</a>)
    </div>
  </div>
</div>

<div class="element-options" id="ioo" title="Edit options for this image" style="display: none;">
  <ul class="element-options-tabs">
    <li class="selected" id="io-properties-tab">
      <a href="#">Image properties</a>
    </li>
    <li id="io-source-tab">
      <a href="#">Source/licensing</a>
    </li>
  </ul>
  <div class="element-options-contents" id="io-properties">
    <label>Replace with a different image</label>
    <p>
      <input type="submit" value="Replace image"/>
    </p>
    <hr style="clear: left;"/>
    <label>Image size</label>
    <div class="forminfo">Use this to size the image exactly. To eyeball it, just click on the image and stretch it.</div>
    <div style="float: left; margin-right: .7em; line-height: 1.5em;">
      <label for="ioo-width" style="font-weight: normal;">Width:</label>
      <br/>
      <label for="ioo-height" style="font-weight: normal;">Height:</label>
    </div>
    <div style="line-height: 1.5em; float: left; margin-right: .7em;">
      <input type="number" id="ioo-width" /> pixels 
      <br/>
      <input type="number" id="ioo-height" /> pixels 
    </div>
    <div style="margin-top: .9em; line-height: 3em;">
        <input type="checkbox" id="ioo-proportional" checked="checked" />
        <input type="hidden" id="ioo-proportion" value="1" />
        <label for="ioo-proportional" style="font-weight: normal;">Maintain proportions</label>
    </div>
    <hr style="clear: left;"/>
    <div id="ioo-alt">
      <p>
        <img id="alt-warning-upload-2" style="float: none;" src="content_files/warning-01.png" title="This icon indicates that a description of this image hasn't yet been provided."/>
        <strong>Describe the image for someone who cannot see it.</strong>
        This description can be read aloud, making it possible for visually impaired learners to understand the content.  <i>(Do not simply duplicate the caption.)</i>
        <a href="http://www.google.com/url?q=https%3A%2F%2Fdocs.google.com%2Fdocument%2Fd%2F1htlS22T6Bm2QkcD9ytxokeYDpOWLrZ_xId8-WCSTV14%2Fedit" target="_blank" style="color: 
        #369;">More info</a> <a href="http://www.google.com/url?q=https%3A%2F%2Fdocs.google.com%2Fdocument%2Fd%2F1htlS22T6Bm2QkcD9ytxokeYDpOWLrZ_xId8-WCSTV14%2Fedit" 
        target="_blank"><img src="helper_files/external-link-03.png"/></a>
      </p>
      <div>
        <textarea style="width: 100%;" id="ioo-alt"></textarea>
      </div>
    </div>
  </div>
  <div class="element-options-contents" id="io-source" style="display: none;">
    <label>Source for this image</label>
    <div class="forminfo">
    </div>
    <div>
      To be completed later.
    </div>
  </div>
</div>

<div class="element-options" id="example-options" title="Edit options for this example" style="display: none;">
  <ul class="element-options-tabs">
    <li class="selected" id="eo2-advanced-tab">
      <a href="#">Advanced</a>
    </li>
  </ul>
  <div class="element-options-contents" id="eo2-advanced">
    <label>Custom example type</label>
    <div class="forminfo">
       Give this example a new "type".  
       Nothing obvious will change in your document. 
       This is for advanced book styling and requires support from the publishing system.
    </div>
    <div>
      <input type="text" />
      (<a href="#" class="clear-text-from-input">remove</a>)
    </div>
  </div>
</div>

<div class="element-options" id="equation-options" title="Edit options for this equation" style="display: none;">
  <ul class="element-options-tabs">
    <li class="selected" id="eo3-basic-tab">
      <a href="#">Basic options</a>
    </li>
    <li id="eo3-advanced-tab">
      <a href="#">Advanced</a>
    </li>
  </ul>
  <div class="element-options-contents" id="eo3-basic">
    <label>Add a title</label>
    <div class="forminfo">
      Provide a descriptive title for this equation.
    </div>
    <div>
      <input type="text" style="width: 95%;">
    </div>
  </div>
  <div class="element-options-contents" id="eo3-advanced" style="display: none;">
    <label>Custom equation type</label>
    <div class="forminfo">
       Give this equation a new "type".  
       Nothing obvious will change in your document. 
       This is for advanced book styling and requires support from the publishing system.
    </div>
    <div>
      <input type="text" />
      (<a href="#" class="clear-text-from-input">remove</a>)
    </div>
  </div>
</div>

<div class="element-options" id="solution-options" title="Edit options for this solution" style="display: none;">
  <ul class="element-options-tabs">
    <li class="selected" id="eo4-basic-tab">
      <a href="#">Basic options</a>
    </li>
    <li id="eo4-advanced-tab">
      <a href="#">Advanced</a>
    </li>
  </ul>
  <div class="element-options-contents" id="eo4-basic">
    <label>Solution location</label>
    <div class="forminfo">In print and mobile formats, where should this solution appear?  
        This overrides the exercise's location setting for this specific solution, in case you want different location settings in multi-solution exercises.
    </div>
    <div>
      <input type="radio" name="s-print-placement" id="spp-default" checked="checked" /> <label for="spp-default" style="font-weight: normal;">Default (Let the system decide)</label>
    </div>
    <div>
      <input type="radio" name="s-print-placement" id="spp-end" /> <label for="spp-end" style="font-weight: normal;">At the end of the chapter</label>
    </div>
    <div>
      <input type="radio" name="s-print-placement" id="spp-here" /> <label for="spp-here" style="font-weight: normal;">Right after the exercise</label>
    </div>
    <hr/>
    <div>
      <label>Add a title</label>
      <div class="forminfo">
        Provide a descriptive title for this solution.
      </div>
      <div>
        <input type="text" style="width: 95%;">
      </div>
    </div>
  </div>
  <div class="element-options-contents" id="eo4-advanced" style="display: none;">
    <label>Custom solution type</label>
    <div class="forminfo">
       Give this solution a new "type".  
       Nothing obvious will change in your document. 
       This is for advanced book styling and requires support from the publishing system.
    </div>
    <div>
      <input type="text" />
      (<a href="#" class="clear-text-from-input">remove</a>)
    </div>
  </div>
</div>

<div class="element-options" id="table-options" title="Edit options for this table" style="display: none;">
  <ul class="element-options-tabs">
    <li class="selected" id="eo5-basic-tab">
      <a href="#">Basic options</a>
    </li>
    <li id="eo5-formatting-tab">
      <a href="#">Borders</a>
    </li>
    <li id="eo5-advanced-tab">
      <a href="#">Advanced</a>
    </li>
  </ul>
  <div class="element-options-contents" id="eo5-basic">
    <div>
      <label>Add a title</label>
      <div class="forminfo">
        Provide a title for this table.
      </div>
      <div>
        <input type="text" style="width: 95%;">
      </div>
    </div>
    <hr/>
<!--
    <div id="table-summary">
      <label>Add a summary</label>
      <img src="content_files/warning-01.png" title="A summary is required for this table to be considered accessible for visually impaired readers."/>
      <div class="forminfo">
        Provide an overview of the table structure and its contents so that visually impaired can more easily navigate it.
      </div>
      <div>
        <textarea style="width: 95%;"></textarea>
      </div>
    </div>
-->
    <label>Column width</label>
    <div class="forminfo">
      How are the column widths set?
    </div>
    <div>
      <input type="radio" name="table-col-width" id="tcw-full" checked="checked" /> <label for="tcw-full" style="font-weight: normal;">Equal width columns</label>
    </div>
    <div>
      <input type="radio" name="table-col-width" id="tcw-auto" /> <label for="tcw-auto" style="font-weight: normal;">Auto (columns conform to best fill contents)</label>
    </div>
    <div>
      <input type="radio" name="table-col-width" id="tcw-custom" /> <label for="tcw-custom" style="font-weight: normal;">Custom (columns stretched as seen fit)</label>
    </div>
  </div>
  <div class="element-options-contents" id="eo5-formatting" style="display: none;">
    <label>Table border</label>
    <div class="table-examples">
      <table border="0" cellspacing="0" cellpadding="0" style="white-space: nowrap;">
        <tbody>
        <tr>
          <td>
            <input type="radio" name="table-border" id="tb-all" checked="checked" /> <label for="tb-all" style="font-weight: normal;">All edges</label>
            <div class="table-example">
              <table><tbody>
                <tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td class="te-right">&nbsp;&nbsp;&nbsp;</td></tr>
                <tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td class="te-right">&nbsp;&nbsp;&nbsp;</td></tr>
                <tr><td class="te-bottom">&nbsp;&nbsp;&nbsp;</td><td class="te-bottom">&nbsp;&nbsp;&nbsp;</td><td class="te-bottom te-right">&nbsp;&nbsp;&nbsp;</td></tr>
              </tbody></table>
            </div>
          </td>
          <td>
            <input type="radio" name="table-border" id="tb-sides" /> <label for="tb-sides" style="font-weight: normal;">Sides</label>
            <div class="table-example">
              <table style="border-top: 1px dotted #ddd; border-bottom: 1px dotted #ddd;"><tbody>
                <tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td class="te-right">&nbsp;&nbsp;&nbsp;</td></tr>
                <tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td class="te-right">&nbsp;&nbsp;&nbsp;</td></tr>
                <tr><td class="te-bottom">&nbsp;&nbsp;&nbsp;</td><td class="te-bottom">&nbsp;&nbsp;&nbsp;</td><td class="te-bottom te-right">&nbsp;&nbsp;&nbsp;</td></tr>
              </tbody></table>
            </div>
          </td>
          <td>
            <input type="radio" name="table-border" id="tb-top" /> <label for="tb-top" style="font-weight: normal;">Top</label>
            <div class="table-example">
              <table style="border-left: 1px dotted #ddd; border-right: 1px dotted #ddd; border-bottom: 1px dotted #ddd"><tbody>
                <tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td class="te-right">&nbsp;&nbsp;&nbsp;</td></tr>
                <tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td class="te-right">&nbsp;&nbsp;&nbsp;</td></tr>
                <tr><td class="te-bottom">&nbsp;&nbsp;&nbsp;</td><td class="te-bottom">&nbsp;&nbsp;&nbsp;</td><td class="te-bottom te-right">&nbsp;&nbsp;&nbsp;</td></tr>
              </tbody></table>
            </div>
          </td>
          <td>
            <input type="radio" name="table-border" id="tb-bottom" /> <label for="tb-bottom" style="font-weight: normal;">Bottom</label>
            <div class="table-example">
              <table style="border-top: 1px dotted #ddd; border-left: 1px dotted #ddd; border-right: 1px dotted #ddd;"><tbody>
                <tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td class="te-right">&nbsp;&nbsp;&nbsp;</td></tr>
                <tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td class="te-right">&nbsp;&nbsp;&nbsp;</td></tr>
                <tr><td class="te-bottom">&nbsp;&nbsp;&nbsp;</td><td class="te-bottom">&nbsp;&nbsp;&nbsp;</td><td class="te-bottom te-right">&nbsp;&nbsp;&nbsp;</td></tr>
              </tbody></table>
            </div>
          </td>
          <td>
            <input type="radio" name="table-border" id="tb-topbot" /> <label for="tb-topbot" style="font-weight: normal;">Top &amp; Bottom</label>
            <div class="table-example">
              <table style="border-left: 1px dotted #ddd; border-right: 1px dotted #ddd;"><tbody>
                <tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td class="te-right">&nbsp;&nbsp;&nbsp;</td></tr>
                <tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td class="te-right">&nbsp;&nbsp;&nbsp;</td></tr>
                <tr><td class="te-bottom">&nbsp;&nbsp;&nbsp;</td><td class="te-bottom">&nbsp;&nbsp;&nbsp;</td><td class="te-bottom te-right">&nbsp;&nbsp;&nbsp;</td></tr>
              </tbody></table>
            </div>
          </td>
          <td>
            <input type="radio" name="table-border" id="tb-none" /> <label for="tb-none" style="font-weight: normal;">None</label>
            <div class="table-example">
              <table style="border: 1px dotted #ddd;"><tbody>
                <tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td class="te-right">&nbsp;&nbsp;&nbsp;</td></tr>
                <tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td class="te-right">&nbsp;&nbsp;&nbsp;</td></tr>
                <tr><td class="te-bottom">&nbsp;&nbsp;&nbsp;</td><td class="te-bottom">&nbsp;&nbsp;&nbsp;</td><td class="te-bottom te-right">&nbsp;&nbsp;&nbsp;</td></tr>
              </tbody></table>
            </div>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
    <hr/>
    <label>Cell borders</label>
    <div class="table-examples cell-examples">
      <table border="0" cellspacing="0" cellpadding="0" style="white-space: nowrap;">
        <tbody>
        <tr>
          <td>
            <input type="radio" name="cell-border" id="cb-all" checked="checked" /> <label for="cb-all" style="font-weight: normal;">All</label>
            <div class="table-example">
              <table><tbody>
                <tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td class="te-right">&nbsp;&nbsp;&nbsp;</td></tr>
                <tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td class="te-right">&nbsp;&nbsp;&nbsp;</td></tr>
                <tr><td class="te-bottom">&nbsp;&nbsp;&nbsp;</td><td class="te-bottom">&nbsp;&nbsp;&nbsp;</td><td class="te-bottom te-right">&nbsp;&nbsp;&nbsp;</td></tr>
              </tbody></table>
            </div>
          </td>
          <td>
            <input type="radio" name="cell-border" id="cb-none" /> <label for="cb-none" style="font-weight: normal;">None</label>
            <div class="table-example none">
              <table style=""><tbody>
                <tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td class="te-right">&nbsp;&nbsp;&nbsp;</td></tr>
                <tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td class="te-right">&nbsp;&nbsp;&nbsp;</td></tr>
                <tr><td class="te-bottom">&nbsp;&nbsp;&nbsp;</td><td class="te-bottom">&nbsp;&nbsp;&nbsp;</td><td class="te-bottom te-right">&nbsp;&nbsp;&nbsp;</td></tr>
              </tbody></table>
            </div>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="element-options-contents" id="eo5-advanced" style="display: none;">
    <label>Custom table type</label>
    <div class="forminfo">
       Give this table a new "type".  
       Nothing obvious will change in your document. 
       This is for advanced book styling and requires support from the publishing system.
    </div>
    <div>
      <input type="text" />
      (<a href="#" class="clear-text-from-input">remove</a>)
    </div>
  </div>
</div>

<div class="element-options" id="image-options" title="Upload image" style="display: none;">
  <div id="image-options-step-1">
    <div id="drag-image" style="margin: .5em 0;">
      <div id="drag-image-here">
        Drag image here
      </div>
      <div id="drag-image-alternatives">
        <div class="dia-alt">
          OR 
        </div>
        <div class="dia-alt">
          <a href="#" id="upload-image-link" style="font-weight: normal;">choose an image to upload</a> 
        </div>
        <div class="dia-alt">
          OR 
        </div>
        <div class="dia-alt">
          <a href="#" id="upload-url-link" style="font-weight: normal;">get image from the Web</a>
        </div>
        <input type="file" id="upload-image" size="1"/>
        <div id="upload-url" style="display: none;">
          <input type="text" placeholder="Enter Web URL of image ..." style="width: 70%; text-align: center;"/>
          <input type="submit" value="Preview image above"/>
        </div>
      </div>
    </div>
    <div id="image-dialog-caption" style="display: table">
      <span style="display: table-cell; white-space: nowrap; font-weight: bold;">Image Caption:&nbsp;</span>
      <span style="display: table-cell; width: 99%;"><input type="text" style="width: 99%;"/></span>
    </div>
    <div id="image-size">
      <label>
        Image dimensions:
      </label>
      <input type="text" value="573" size="4"> px by <input type="text" value="600" size="4"/> px 
      <input type="submit" value="Adjust"/>
    </div>
    <div id="enter-alt">
      <label style="font-weight: normal;">
        <img id="alt-warning-upload" style="float: none;" src="content_files/warning-01.png" title="This icon indicates that a description of this image hasn't yet been provided."/>
<!--
        Visually impaired readers of your content need a description of the image to understand it. Please provide one to make your content accessible to them:
-->
        <strong>Describe the image for someone who cannot see it.</strong>
        This description can be read aloud, making it possible for visually impaired learners to understand the content.  <i>(Do not simply duplicate the caption.)</i>
        <a href="http://www.google.com/url?q=https%3A%2F%2Fdocs.google.com%2Fdocument%2Fd%2F1htlS22T6Bm2QkcD9ytxokeYDpOWLrZ_xId8-WCSTV14%2Fedit" target="_blank" style="color: 
        #369;">More info</a> <a href="http://www.google.com/url?q=https%3A%2F%2Fdocs.google.com%2Fdocument%2Fd%2F1htlS22T6Bm2QkcD9ytxokeYDpOWLrZ_xId8-WCSTV14%2Fedit" 
        target="_blank"><img src="helper_files/external-link-03.png"/></a>
      </label>
      <div>
        <div style="padding-right: 20px; padding: 0; margin-top: .25em;">
          <input type="text" placeholder="Enter description for visually impaired readers ..." style="width: 99%;"></input>
        </div>
      </div>
    </div>
  </div>
  <div id="image-options-step-2" style="display: none;">
    <div id="img-perms">
      <div style="margin: .5em 0;">
        <label>Source for this image <span class="required2" id="img-perms-required">(Required)</span></label>
      </div>
      <div>
        <input type="radio" name="img-perms" id="ip-own" val="ip-own"/> <label for="ip-own" style="font-weight: normal;">I own it (no citation needed)</label>
      </div>
      <div>
        <input type="radio" name="img-perms" id="ip-reuse" val="ip-reuse"/> <label for="ip-reuse" style="font-weight: normal;">I am allowed to reuse it:</label>
      </div>

    <div id="reuse-info" style="display: block;">
      <div>
        <label style="font-weight: normal;">Who is the original author of this image?</label>
      </div>
      <div>
        <input type="text" style="width: 99%;" id="reuse-author">
      </div>
      <div style="margin-top: .5em;">
        <label style="font-weight: normal;">What is the original URL of this image?</label>
      </div>
      <div>
        <input type="text" style="width: 99%;" placeholder="http://" id="reuse-url">
      </div>
      <div style="margin-top: .5em;">
        <label style="font-weight: normal;">Permission to reuse</label>
      </div>
      <div>
        <select id="reuse-license">
          <option>Choose a license</option>
          <option>Creative Commons Attribution - CC-BY</option>
          <option>Creative Commons Attribution-NoDerivs - CC BY-ND</option>
          <option>Creative Commons Attribution-ShareAlike - CC BY-SA</option>
          <option>Creative Commons Attribution-NonCommercial - CC BY-NC</option>
          <option>Creative Commons Attribution-NonCommercial-ShareAlike - CC BY-NC-SA</option>
          <option>Creative Commons Attribution-NonCommercial-NoDerivs - CC BY-NC-ND</option>
          <option>Public domain</option>
          <option>other</option>
        </select>
      </div>
      <div style="float: right;">
        <input type="checkbox" id="reuse-footnote-edit" style="margin-top: 1em;"> edit
      </div>
      <div id="include-in-footnote" style="margin: .5em 0;">
        <input type="checkbox" checked="checked"> Include this information in a footnote? (Suggested text below.)
      </div>
      <div>
        <div contentEditable="false" class="disabled" id="reuse-footnote-text">
          <span id="rft-text-1">Image by </span>
          <span id="rft-author"></span><span id="rft-text-2">. </span>
          <span id="rft-url"><a href="#">Original Source</a></span><span id="rft-text-3">. </span>
          <span id="rft-text-4">License:</span>
          <span id="rft-license"></span><span id="rft-text-5">.</span>
          &nbsp;
        </div>
      </div>
    </div>

      <div>
        <input type="radio" name="img-perms" id="ip-idk" val="ip-idk"/> <label for="ip-idk" style="font-weight: normal;">I don't know (skip citation for now)</label>
      </div>
    </div>
  </div>
</div>

<div class="element-options" id="video-options" title="Add video" style="display: none;">
  <div id="video-options-step-1">
      <div id="video-url" style="padding: .5em 0 0;">
        <input type="radio" name="vid-us" id="vid-us-url" val="vid-us-url" checked="checked" /> 
        <label for="vid-us-url">Video URL: </label> 
        <input type="text" placeholder="http://..." style="width: 50%"/>
        <input type="submit" id="video-url-button" value="Go"/>
        or <a href="#" id="upload-video-link">Upload video</a>
      </div>
      <div id="video-searches">
        <div style="padding-top: .5em;">
          <input type="radio" name="vid-us" id="vid-us-searches" val="vid-us-searches" />
          <label for="vid-us-searches"><span style="font-weight: normal;"></span>Search for videos on: </label>
          <ul id="video-services" style="padding-top: .5em;">
            <li class="selected" id="youtube"><a href="#">YouTube</a></li>
            <li><a href="#">Vimeo</a></li>
            <li><a href="#">DailyMotion</a></li>
            <li><a href="#">Flickr</a></li>
          </ul>
          <div id="video-results" class="video-results">
            <div class="video-results-buttons">
              <input type="text" placeholder="Enter a topic to search for (e.g., Khan Academy) ..." style="width: 70%;"/>
              <input type="submit" value="Search YouTube" id="video-results-button"/>
            </div>
            <div class="video-results-results" style="display: none;">
              <table>
                <tbody>
                  <tr>
                    <th>
                      <img src="content_files/videothumb01.jpg" />
                    </th>
                    <td>
<div>
<strong>Conrad Wolfram: Teaching kids real math with computers</strong>
</div>
<div>
    by TEDtalksDirector
    2 years ago
    154,992 views
</div>
<div>
http://www.ted.com From rockets to stock markets, math powers many of...
</div>
                    </td>
                  </tr>
                  <tr>
                    <th>
                      <img src="content_files/videothumb02.jpg" />
                    </th>
                    <td>
<div>
<strong>Arthur Benjamin: Lightning calculation and other "Mathemagic"</strong>
</div>
<div>
    by TEDtalksDirector
    5 years ago
    630,682 views
</div>
<div>
http://www.ted.com In a lively show, mathemagician Arthur Benjamin races a...
</div>

                    </td>
                  </tr>
                  <tr>
                    <th>
                      <img src="content_files/videothumb03.jpg" />
                    </th>
                    <td>
<div>
<strong>Dan Meyer: Math class needs a makeover</strong>
</div>
<div>
    by TEDtalksDirector
    2 years ago
    121,420 views
</div>
<div>
http://www.ted.com Today's math curriculum is teaching students to expect -- and...
</div>

                    </td>
                  </tr>
                  <tr>
                    <th>
                      <img src="content_files/videothumb04.jpg" />
                    </th>
                    <td>
<div>
<strong>Geoffrey West: The surprising math of cities and corporations</strong>
</div>
<div>
    by TEDtalksDirector
    1 year ago
    65,537 views
</div>
<div>
http://www.ted.com Physicist Geoffrey West has found that simple, mathematical...
</div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        <input type="file" id="upload-video" size="1"/>
        </div>
      </div>
<!--
    <div id="drag-image" style="margin: .5em 0;">
      <div id="drag-image-here">
        Drag image here
      </div>
      <div id="drag-image-alternatives">
        <div class="dia-alt">
          OR 
        </div>
        <div class="dia-alt">
          <a href="#" id="upload-image-link" style="font-weight: normal;">choose an image to upload</a> 
        </div>
        <div class="dia-alt">
          OR 
        </div>
        <div class="dia-alt">
          <a href="#" id="upload-url-link" style="font-weight: normal;">get image from the Web</a>
        </div>
        <input type="file" id="upload-image" size="1"/>
        <div id="upload-url" style="display: none;">
          <input type="text" placeholder="Enter Web URL of image ..." style="width: 70%; text-align: center;"/>
          <input type="submit" value="Preview image above"/>
        </div>
      </div>
    </div>
-->
<!--
    <div id="video-dialog-caption" style="display: table">
      <span style="display: table-cell; white-space: nowrap; font-weight: bold;">Video Caption:&nbsp;</span>
      <span style="display: table-cell; width: 99%;"><input type="text" style="width: 99%;"/></span>
    </div>
-->
  </div>
  <div id="video-options-step-2" style="display: none;">
    <div id="video-preview">
      <div id="video-try-over">Not the right video?</div>
      <div id="video-preview-preview">
<object width="560" height="315"><param name="movie" value="http://www.youtube.com/v/60OVlfAUPJg?hl=en_US&amp;version=3"></param><param name="allowFullScreen" 
value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="http://www.youtube.com/v/60OVlfAUPJg?hl=en_US&amp;version=3" 
type="application/x-shockwave-flash" width="560" height="315" allowscriptaccess="always" allowfullscreen="true"></embed></object>
<!--
        <iframe width="560" height="315" src="http://www.youtube.com/embed/60OVlfAUPJg" frameborder="0" allowfullscreen></iframe>
-->
      </div>
    </div>
    <div id="video-dialog-caption" style="display: table">
      <span style="display: table-cell; white-space: nowrap; font-weight: bold;">Video Caption:&nbsp;</span>
      <span style="display: table-cell; width: 99%;"><input type="text" style="width: 99%;" value="http://www.ted.com From rockets to stock markets, math powers many of humanity's most thrilling creations. So why do kids lose interest? Conrad Wolfram says the part of math we teach - calculation by hand - isn't just tedious, it's mostly irrelevant to real mathematics and the real world. He presents his radical idea: teaching kids math through computer programming."/></span>
    </div>
  </div>
</div>

<div class="element-options" id="link-options" title="Edit link" style="display: none;">
    <div id="link-text">
      <label style="font-weight: normal;">
        Text to display
      </label>
      <div>
        <input type="text" id="link-text-input" style="width: 99%;"/>
      </div>
    </div>
    <div id="link-locations">
      <div class="link-location">
        <div class="link-radio">
          <input type="radio" name="link-to-where" id="ltw-webpage" />
        </div>
        <div class="link-value">
          <label for="ltw-webpage" style="font-weight: normal;">Link to webpage</label>
          <div>
            <input type="input" id="ltw-webpage-url" style="width: 99%;" placeholder="http://">
          </div>
          <div id="ltw-webpage-test">
            <a href="#" title="Preview this link in a new window">Test this link</a>
          </div>
        </div>
      </div>
      <div class="link-location">
        <div class="link-radio">
          <input type="radio" name="link-to-where" id="ltw-place" />
        </div>
        <div class="link-value">
          <label for="ltw-place" style="font-weight: normal;">Link to another part of this document</label>
            <ul id="link-parts-filters">
              <li id="lp-header" class="lp-header">Show:</li>
              <li id="lp-all">All</li>
              <li id="lp-section-headers">Section Headings</li>
              <li id="lp-exercises">Exercises</li>
              <li id="lp-figures">Figures</li>
              <li id="lp-tables">Tables</li>
              <li id="lp-other">Other</li>
            </ul>
          <div id="link-parts" class="disabled">
          </div>
        </div>
      </div>
    </div>
</div>

<div id="bookshelves-dialog" title="Other bookshelves" style="display: none;">
  <p>
    <b>What are bookshelves (repositories)?</b>
  </p>
  <p>
    A bookshelf holds a single book or a set of related books that you want to edit at the same time and with the same co-authors. 
    The books might share content; for instance a textbook student and teacher editions.  A bookshelf is created as a repository in GitHub.
  </p>
  <p>
    <b>Your bookshelves:</b>
  </p>
  <ul>
    <li>
      <a href="#">maxstarkenburg/sf-demo-books</a>
    </li>
  </ul>
  <p>
    <a href="#">+ make a new one</a>
  </p>
  <p>
    <b>Other recently viewed shelves:</b>
  </p>
  <ul>
    <li>
      <a href="#">oerpub/sf-demo-books</a>
    </li>
    <li>
      <a href="#">oerpub/epubjs-demo-book</a>
    </li>
    <li>
      <a href="#">kathi-fletcher/ieb-physics</a>
    </li>
  </ul>
  <p>
    <b>Add another one: </b>
  </p>
  <p>
  Owner ID: <input type="text" placeholder="github-user-id" size="14"/> 
  Bookshelf ID: <input type="text" placeholder="github-repository-id" size="14"/>
  <button type="button">Go</button>
  </p>
</div>

<div class="element-options" id="toolbar-what-are-these-dialog" title="What are these?" style="display: none;">
    <div>
<!--
        <div class="sh-section-opener">
          <span class="plusminus">- </span>
          What are these buttons?
        </div>
-->
        <div class="sh-section" style="display: block">
          <p>
<!--
          They provide an easy way to add templates for including pedagogical items in the text you're creating:
-->
          These tools provide an easy way to add templates for including pedagogical features in the text you're creating:
          </p>
<!--
          <ul>
            <li><strong>Example</strong> <i>(Illustration, Demonstration, Case in Point, Case Study)</i>: <br/>Illustrate a point to the reader (set apart from the flow of the text).</li>
            <li><strong>Exercise</strong> <i>(Homework, Question, Problem, Task)</i>: <br/>Ask a question to assess the reader's understanding.  Optionally provide a solution/answer.</li>
            <li><strong>Note</strong> <i>(Warning, Tip, Aside, Important)</i>: <br/>Make a note to the reader (set apart from the flow of the text).</li>
            <li><strong>Definition</strong> <i>(Key Term)</i>: <br/>Define a key term, or build a glossary.</li>
            <li><strong>Numbered Equation</strong>: <br/>Mathematical equations using the convention of numbering each at right.</li>
          </ul>
-->
          <ul>
            <li><strong>Example</strong>: Illustrate a point to the reader (set apart from the flow of the text).</li>
            <li><strong>Exercise</strong>: Ask a question to assess the reader's understanding.  Optionally provide a solution/answer.</li>
            <li><strong>Note</strong>: Make a note to the reader (set apart from the flow of the text).</li>
            <li><strong>Definition</strong>: Define a key term, or build a glossary.</li>
            <li><strong>Numbered Equation</strong>: Mathematical equations using the convention of numbering each at right.</li>
            <li><strong>Quotation</strong>: Set apart an extended quotation from the rest of the text.</li>
          </ul>
        </div>
        <div class="sh-section-opener">
          <span class="plusminus">+ </span>
          What are the benefits of using them?
        </div>
        <div class="sh-section">
          <p>
            They are shortcuts for adding <b>consistent elements</b> in your text, while automatically <b>adjusting numbering</b> (e.g. "Exercise 1" becomes 
            "Exercise 2" if you add another exercise before it).  They also allow for <b>easy linking</b> text to such elements within the document.
          </p>
<!--
          <p>
            These templates provide shortcuts for adding consistent elements in your text, while automatically adjusting their numbering (e.g. "Exercise 1" becomes "Exercise 2" if you 
            add another exercise before it).  They also allow for easy linking text to such elements within the document.
          </p>
-->
        </div>
<!--
        <div class="sh-section-opener">
          <span class="plusminus">+ </span>
          How do I add them to my document?
        </div>
-->
        <div class="sh-section">
          <p>
          <span class="more-fake-1"><span class="more-fake-2"><B>To add template</B></span></span>
          Click one of the tools to add it where your cursor is, <strong>or highlight</strong> some text and click the tool.
          </p>
        </div>
<!--
        <div class="sh-section">
-->
          <!-- 
          <ul>
            <li><strong>Drag and drop</strong> the button from the left onto the page (a space will open up).</li>
            <li><strong>Or highlight some text and then click</strong> on the button to wrap that text in the template.</li>
          </ul>
          -->
<!--
          <p>
            Click one of these tool to add it where your cursor is in the document, or highlight some text and then click the tool to wrap the highlighted text in that template.
          </p>
        </div>
-->
    </div>
</div>

<div class="element-options" id="sidebar-what-are-these-dialog" title="What are these?" style="display: none;">
    <div>
        <div class="sh-section" style="display: block">
          <p>
          These tools provide an easy way to add templates for including pedagogical features in the text you're creating. The default templates are:
          </p>
          <ul>
            <li><strong>Example</strong>: <!--<i>(Illustration, Demonstration, Case in Point, Case Study)</i>: <br/>-->Illustrate a point to the reader (set apart from the flow of the text).</li>
            <li><strong>Exercise</strong>: <!--<i>(Homework, Question, Problem, Task)</i>: <br/>-->Ask a question to assess the reader's understanding.  Optionally provide a solution/answer.</li>
            <li><strong>Note</strong>: <!--<i>(Warning, Tip, Aside, Important)</i>: <br/>-->Make a note to the reader (set apart from the flow of the text).</li>
            <li><strong>Definition</strong>: <!--<i>(Key Term)</i>: <br/>-->Define a key term, or build a glossary.</li>
            <li><strong>Numbered Equation</strong>: <!--<br/>-->Mathematical equations using the convention of numbering each at right.</li>
            <li><strong>Quotation</strong>: <!--<br/>-->Set apart an extended quotation from the rest of the text.</li>
          </ul>
          <p>
          You can find more templates by clicking the <span class="more-fake-1"><span class="more-fake-2">+</span></span> button at left.
          </p>
        </div>
        <div class="sh-section-opener">
          <span class="plusminus">+ </span>
          What are the benefits of using them?
        </div>
        <div class="sh-section">
          <p>
            They are shortcuts for adding <b>consistent elements</b> in your text, while automatically <b>adjusting numbering</b> (e.g. "Exercise 1" becomes 
            "Exercise 2" if you add another exercise before it).  They also allow for <b>easy linking</b> text to such elements within the document.
          </p>
        </div>
        <div class="sh-section">
          <p>
          <span class="more-fake-1"><span class="more-fake-2"><B>To add template</B></span></span>
          Drag-and-drop it <strong>or highlight</strong> some text and click the template.
          </p>
        </div>
<!--
        <div class="sh-section-opener">
          <span class="plusminus">+ </span>
          How do I add them to my document?
        </div>
        <div class="sh-section">
          <ul>
            <li><strong>Drag and drop</strong> the button from the left onto the page (a space will open up).</li>
            <li><strong>Or highlight some text and then click</strong> on the button to wrap that text in the template.</li>
          </ul>
          <p>
            Click one of these tool to add it where your cursor is in the document, or highlight some text and then click the tool to wrap the highlighted text in that template.
          </p>
        </div>
-->
    </div>
</div>

<div class="element-options" id="more-blocks-dialog" title="Choose more features" style="display: none;">
    <div>
       <p>
         Choose which options or templates you want to appear at left for quick access. 
<!--
         <i>(All the options are always available from the </i><b>"Add a new ..."</b><i> dropdown menu in the toolbar.)</i>
-->
        </p>
    <div id="more-blocks-choose">
     <dl id="mb-examples">
      <dt>Example templates</dt>
      <dd class="selected" title="Illustrate a point to the reader (set apart from the flow of the text).">
        <input type="checkbox" checked="checked" id="mb-example"/>
        Example
      </dd>
      <dd title="Illustrate a point to the reader (set apart from the flow of the text).">
        <input type="checkbox" id="mb-illustration" title="Illustrate a point to the reader (set apart from the flow of the text)."/>
        Illustration
      </dd>
      <dd title="Illustrate a point to the reader (set apart from the flow of the text).">
        <input type="checkbox" id="mb-demonstration"/>
        Demonstration
      </dd>
      <dd title="Illustrate a point to the reader (set apart from the flow of the text).">
        <input type="checkbox" id="mb-caseinpoint"/>
        Case in Point
      </dd>
      <dd title="Illustrate a point to the reader (set apart from the flow of the text).">
        <input type="checkbox" id="mb-example"/>
        Case Study
      </dd>
     </dl>
     <dl id="exercises">
      <dt>Exercise templates</dt>
      <dd class="selected" title="Ask a question to assess the reader's understanding. Optionally provide a solution/answer.">
        <input type="checkbox" checked="checked" id="mb-exercise"/>
        Exercise
      </dd>
      <dd title="Ask a question to assess the reader's understanding. Optionally provide a solution/answer.">
        <input type="checkbox" id="mb-homework"/>
        Homework
      </dd>
      <dd title="Ask a question to assess the reader's understanding. Optionally provide a solution/answer.">
        <input type="checkbox" id="mb-question"/>
        Question
      </dd>
      <dd title="Ask a question to assess the reader's understanding. Optionally provide a solution/answer.">
        <input type="checkbox" id="mb-problem"/>
        Problem
      </dd>
      <dd title="Ask a question to assess the reader's understanding. Optionally provide a solution/answer.">
        <input type="checkbox" id="mb-task"/>
        Task
      </dd>
     </dl>
     <dl>
      <dt>Note templates</dt>
      <dd class="selected" title="Make a note to the reader (set apart from the flow of the text).">
        <input type="checkbox" checked="checked" id="mb-note"/>
        Note
      </dd>
      <dd title="Make a note to the reader (set apart from the flow of the text).">
        <input type="checkbox" id="mb-warning"/>
        Warning
      </dd>
      <dd title="Make a note to the reader (set apart from the flow of the text).">
        <input type="checkbox" id="mb-tip"/>
        Tip
      </dd>
      <dd title="Make a note to the reader (set apart from the flow of the text).">
        <input type="checkbox" id="mb-aside"/>
        Aside
      </dd>
      <dd title="Make a note to the reader (set apart from the flow of the text).">
        <input type="checkbox" id="mb-important"/>
        Important
      </dd>
     </dl>
<!--
     <dl>
      <dt>Space-preserving templates</dt>
      <dd title="An excerpt of programming code (for technical documents).">
        <input type="checkbox" id="mb-code"/>
        Programming Code
      </dd>
      <dd title="Poetry, lyrics, etc. This template preserves whitespace.">
        <input type="checkbox" id="mb-poetry"/>
        Poetry, Lyrics, etc.
      </dd>
    </dl>
-->
    <dl>
<!--
      <dt>Special formats</dt>
      <dt>Preformatted templates</dt>
-->
      <dt>Other templates</dt>
      <dd class="selected" title="Define a key term, or build a glossary.">
        <input type="checkbox" checked="checked" id="mb-definition"/>
        Definition
      </dd>
      <dd class="selected" title="Mathematical equations using the convention of numbering each at right.">
        <input type="checkbox" checked="checked" id="mb-equation"/>
        Numbered Equation
      </dd>
      <dd class="selected" title="An extended quotation (set apart from the flow of the text).">
        <input type="checkbox" checked="checked" id="mb-quote"/>
        Quotation
      </dd>
      <dd title="A theorem, rule, lemma, corollary, law, or proposition.">
        <input type="checkbox" id="mb-rule"/>
        Theorem
      </dd>
<!--
      <dd>
        <input type="checkbox" id="mb-figure"/>
        Figure
      </dd>
      <dd>
        <input type="checkbox" id="mb-table"/>
        Table
      </dd>
-->
     </dl>
    </div>

    <div class="sh-section-opener" style="clear: both; padding-top: 1em;">
      <span class="plusminus">+ </span>
        What are these for?
      </div>
      <div class="sh-section">
          <p>
            They are shortcuts for adding <b>consistent elements</b> in your text, while automatically <b>adjusting numbering</b> (e.g. "Exercise 1" becomes 
            "Exercise 2" if you add another exercise before it).  They also allow for <b>easy linking</b> text to such elements within the document.
          </p>
<!--
        <p>
          These templates provide shortcuts for adding consistent elements in your text, while automatically adjusting their numbering (e.g. "Exercise 1" becomes "Exercise 2" if you 
          add another exercise before it).  They also allow for easy linking text to such elements within the document.
        </p>
-->
      </div>

  </div>
</div>

<div id="ascii-or-latex" style="display: none;">
  <p>
    How do you want to enter your math code?
    <a id="whats-mathtype-dialog" href="#">(What's this?)</a>
  </p>
  <p id="whats-mathtype-dialog-text" style="display: none;" class="forminfo">
    Both ASCIIMath and LaTeX work by transforming the text you type into mathematics.  
    ASCIIMath is a simple input notation similar to that of a graphing calculator. 
    <a href="http://www1.chapman.edu/~jipsen/asciimath.html" target="_blank" class="external">More info on ASCIIMath notation.</a>
    LaTeX, while similar in many respects to ASCIIMath, includes some more complex notation for power users to write advanced math.  
    <a href="http://en.wikibooks.org/wiki/LaTeX/Mathematics" target="_blank" class="external">More info on LaTeX notation.</a>
  </p>
  <div>
    <input type="radio" name="ascii-or-latex-radio" id="aol-ascii" checked="checked"> <label for="aol-ascii">ASCIIMath</label> (recommended if you aren't sure)
  </div>
  <div>
    <input type="radio" name="ascii-or-latex-radio" id="aol-latex"> <label for="aol-latex">LaTeX</label>
  </div>
</div>


<div id="alt-text" title="Describe this image" style="display: none;">
  <div>
<!--
    <label></label>
    <div class="forminfo">
    </div>
-->
    <p>
        <strong>Describe the image for someone who cannot see it.</strong>
        This description can be read aloud, making it possible for visually impaired learners to understand the content.  <i>(Do not simply duplicate the caption.)</i>
        <a href="http://www.google.com/url?q=https%3A%2F%2Fdocs.google.com%2Fdocument%2Fd%2F1htlS22T6Bm2QkcD9ytxokeYDpOWLrZ_xId8-WCSTV14%2Fedit" target="_blank" style="color: 
        #369;">More info</a> <a href="http://www.google.com/url?q=https%3A%2F%2Fdocs.google.com%2Fdocument%2Fd%2F1htlS22T6Bm2QkcD9ytxokeYDpOWLrZ_xId8-WCSTV14%2Fedit" 
        target="_blank"><img src="helper_files/external-link-03.png"/></a>
    </p>
    <div>
     <textarea style="width: 100%;"></textarea>
    </div>
  </div>
</div>

<div id="term-is-required" title="Enter the key term to be defined" style="display: none;">
  <div>
    <p>
      <strong>Enter the key term you will be defining</strong>
    </p>
    <div>
      <input type="text" style="width: 100%;" id="required-term">
    </div>
  </div>
</div>

<div id="confirm-unelement" title="Confirm conversion" style="display: none;">
  <div>
<!--
    <label></label>
    <div class="forminfo">
    </div>
-->
    <p>
    </p>
  </div>
</div>


<!--
<div style="margin: 10px 25px 0; float: right; cursor: pointer;
padding: .4em 25px .4em .75em;
padding: .4em .75em;
background-color: #1FB04C;
color: white;
/*
font-weight: bold;
*/
font-size: .9em;
background-image: url(content_files/up-arrow-02.png); /* Icon from http://iconza.com */
background-image: none;
background-repeat: no-repeat;
background-position: right center;
border: 1px solid #137139;
">
  Previous Chapter
</div>
-->

<!--
<div style="margin: 10px 25px 0; font-size: 1.4em; display: inline-block;" id="chapter-title-wrap">Chapter 2: 
<span id="chapter-title" class="content-editable" contenteditable="true" style="color: #000;">Exponents and Education</span></div>
-->

<div class="paper">

<div class="canvas2 special-canvas inactive2" style="padding: 0; margin: 0;">

        <div id="cnx_module_header" style="margin-bottom: 1.5em;">

<!--
    <span class="metadata-warning-wrap">
      <img class="metadata-warning" src="content_files/warning-01.png">
      <span class="metadata-warning-text"> </span>
    </span>
-->
<!--
          <h1 class="content-editable" contentEditable="true">Linear and Time-Invariant Systems</h1>
-->
          <h1 class="content-editable" contentEditable="true">Laws of Exponents</h1>

        </div>

        <div xmlns:md="http://cnx.rice.edu/mdml/0.4" xmlns:qml="http://cnx.rice.edu/qml/1.0" xmlns:mod="http://cnx.rice.edu/#moduleIds" 
xmlns:bib="http://bibtexml.sf.net/" id="cnx_main">




<!--
<div class="canvas-wrap" contenteditable="false">
  <div class="figure canvas canvas-unhovered" id="racing-snails">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="figure" title="Edit options for this figure">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this figure">          
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
    <div class="media-block" contentEditable="false">
  <div style="display: none;" class="media-title">
    <span class="media-title-close"><img src="content_files/remove-element-08.png"/></span>
    <div class="hint-text">Add a title for this image (optional)</div>
  </div>
<table class="media-table" contenteditable="false">
<tbody>
<tr>
<td class="media-table-add">
<div>
Click to add another image here
</div>
</td>
<td style="width: 300px; padding: 0 16px;">
  <span class="media-inner-plus-alt">
    <span class="media-inner content-editable" id="racing-snails-inner" contenteditable="true">
      <img src="content_files/Picture 6.png" alt="Snails leaving slime trails as they race each other along a flat surface." class="image content-editable" contenteditable="true" width="300"/>
      <span class="image-options" contenteditable="false">
        <span class="image-add-options">
          <label class="image-options-add">Add:</label>
          <a href="#asaefafedfas" class="image-options-title">Title</a>
          &#183;
          <a title="This has already been added" href="#asdfaasdfs" class="image-options-caption already-added">Caption</a>
        </span>
        <a href="#adsfasasdfas" class="image-options-options">
          More options ...
        </a>
      </span>
    </span>
  </span>
</td>
<td class="media-table-add">
<div>
Click to add another image here
</div>
</td>
</tr>
</tbody>
</table>
    <div style="display: block;" class="media-caption">
      <span class="cnx_label">Figure 1:</span>
      <div class="media-caption-removable">
        <span class="media-caption-close"><img src="content_files/remove-element-08.png"/></span>
        <div class="content-editable media-caption-text" contentEditable="true">
          The motion of these racing snails can be described by their speeds and their velocities. (credit: tobitasflickr, Flickr)
        </div>
      </div>
      <div style="clear: both;"></div>
    </div>
  </div></div></div></div>

<div class="para content-editable" id="import-auto-id2024731" contenteditable="true">There is more to motion than distance and displacement. Questions 
such as, "How long does a foot race take?" and "What was the runner's speed?" cannot be answered without an understanding of other concepts. In this section we add definitions of 
time, velocity, and speed to expand our description of motion.</div>
    <div class="section" id="fs-id1568419"><h2 class="section-header"><strong class="title content-editable" contentEditable="true">Time</strong></h2><div class="section-contents">
<div class="para content-editable" contenteditable="true"
id="import-auto-id1644233">As discussed in <a class="cnxn" href="/content/m42091/latest/">Physical Quantities and Units</a>, the most fundamental physical quantities are defined by 
how they are measured. This is the case with time. Every measurement of time involves measuring a change in some physical quantity. It may be a number on a digital clock, a heartbeat, 
or the position of the Sun in the sky. In physics, the definition of time is simple&#151;<dfn class="term" id="import-auto-id2588516">time</dfn> is <i class="emphasis">change</i>, 
or the interval over which change occurs. It is impossible to know that time has passed unless something changes. </div><div class="para content-editable"  contenteditable="true"
id="import-auto-id4131193">The amount of time or change 
is calibrated by comparison with a standard. The SI unit for time is the second, abbreviated s. We might, for example, observe that a certain pendulum makes one full swing every 0.75 
s. We could then use the pendulum to measure time by counting its swings or, of course, by connecting the pendulum to a clock mechanism that registers time on a dial. This allows us 
to not only measure the amount of time, but also to determine a sequence of events.</div>
<div class="para content-editable" contenteditable="true" id="import-auto-id1771018">How does time relate to motion? We are usually 
interested in elapsed time for a particular motion, such as how long it takes an airplane passenger to get from his seat to the back of the plane. To find elapsed time, we note the 
time at the beginning and end of the motion and subtract the two. For example, a lecture may start at 11:00 <span class="emphasis smallcaps">A.M.</span> and end at 11:50 <span 
class="emphasis smallcaps">A.M.</span>, so that the elapsed time would be 50 min. <dfn class="term" id="import-auto-id4083152">Elapsed time</dfn>
        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">Deltat</span>
          <span class="ascii-math"><math title="Deltat"><mstyle displaystyle="true" fontfamily="serif"><mo>&#916;</mo><mi>t</mi></mstyle></math></span>
        </span>
 is the difference between the ending time and beginning 
time,</div>

<div class="canvas-wrap" contenteditable="false">
  <div class="equation canvas canvas-unhovered" id="import-auto-id1757927">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="equation" title="Edit options for this equation">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this equation">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" title="Drag this element to another location" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>

<div class="equation-contents">

        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">Deltat=t_f-t_0,</span>
          <span class="ascii-math"><math title="Deltat=t_f-t_0,"><mstyle displaystyle="true" 
fontfamily="serif"><mo>&#916;</mo><mi>t</mi><mo>=</mo><msub><mi>t</mi><mrow><mi>f</mi><mo>-</mo></mrow></msub><msub><mi>t</mi><mn>0</mn></msub><mo>,</mo></mstyle></math></span>
        </span>

</div><span 
class="equation-number">(1)</span></div>
</div>
</div>


<div class="para content-editable" contenteditable="true" id="import-auto-id2577772">where 
        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">Deltat</span>
          <span class="ascii-math"><math title="Deltat"><mstyle displaystyle="true" fontfamily="serif"><mo>&#916;</mo><mi>t</mi></mstyle></math></span>
        </span>
 is 
the change in time or elapsed time, 
        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">t_f</span>
          <span class="ascii-math"><math title="t_f"><mstyle displaystyle="true" fontfamily="serif"><msub><mi>t</mi><mrow><mi>f</mi><mo></mo></mrow></msub></mstyle></math></span>
        </span>
 is the time at the end of the motion, and 
        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">t_0</span>
          <span class="ascii-math"><math title="t_0"><mstyle displaystyle="true" fontfamily="serif"><msub><mi>t</mi><mrow><mi>0</mi><mo></mo></mrow></msub></mstyle></math></span>
        </span>
is the time at the beginning of the motion. (As usual, the delta symbol, 
        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">Delta</span>
          <span class="ascii-math"><math title="Delta"><mstyle displaystyle="true" fontfamily="serif"><mo>&#916;</mo></mstyle></math></span></span>, 
means the change in the quantity that follows it.)</div><div class="para content-editable" contenteditable="true" id="import-auto-id4128710">Life is 
simpler if the beginning time 
        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">t_0</span>
          <span class="ascii-math"><math title="t_0"><mstyle displaystyle="true" fontfamily="serif"><msub><mi>t</mi><mrow><mi>0</mi><mo></mo></mrow></msub></mstyle></math></span>
        </span>

 
is taken to be zero, as when we use a stopwatch. If we were using a stopwatch, it would simply read zero at the start of the lecture and 50 min at the end. If 
        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">t_0=0</span>
          <span class="ascii-math"><math title="t_0=0"><mstyle displaystyle="true" fontfamily="serif"><msub><mi>t</mi><mn>0</mn></msub><mo>=</mo><mn>0</mn></mstyle></math></span>
        </span>, 

then 

        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">Deltat=t_fequivt</span>
          <span class="ascii-math"><math title="Deltat=t_ftequivt"><mstyle displaystyle="true" fontfamily="serif"><mo>&#916;</mo><mi>t</mi><mo>=</mo><msub><mi>t</mi><mrow><mi>f</mi></mrow></msub><mo>&#8801;</mo><mi>t</mi></mstyle></math></span>
        </span> 

. </div><div class="para content-editable" contenteditable="true" id="import-auto-id1225219">In this 
text, for simplicity's sake, </div><div class="list content-editable" contenteditable="true" id="fs-id1611737"><ul class="bullet" contenteditable="true"><li class="item" 
id="import-auto-id2571110">motion 
starts at time 
equal to 
zero 
        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">(t_0=0)</span>
          <span class="ascii-math"><math title="(t_0=0)"><mstyle displaystyle="true" 
fontfamily="serif"><mrow><mo>(</mo><msub><mi>t</mi><mn>0</mn></msub><mo>=</mo><mn>0</mn><mo>)</mo></mrow></mstyle></math></span>
        </span>
 </li><li class="item" id="import-auto-id4047929">the symbol 
        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">t</span>
          <span class="ascii-math"><math title="t"><mstyle displaystyle="true" fontfamily="serif"><mrow><mi>t</mi></mrow></mstyle></math></span>
        </span>
is used for elapsed time unless otherwise specified 
        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">Deltat=t_fequivt</span>
          <span class="ascii-math"><math title="Deltat=t_fequivt"><mstyle displaystyle="true" fontfamily="serif"><mo>&#916;</mo><mi>t</mi><mo>=</mo><msub><mi>t</mi><mrow><mi>f</mi></mrow></msub><mo>&#8801;</mo><mi>t</mi></mstyle></math></span>
        </span> 
</li></ul></div></div></div>
<div class="section" id="fs-id1850777"><h2 class="section-header"><strong class="title content-editable" contentEditable="true">Velocity</strong></h2><div 
class="section-contents"><div class="para content-editable" 
contenteditable="true" 
id="import-auto-id1757608">Your notion of velocity is probably the same as its scientific definition. You know that if you have a large displacement in a small amount of time you have 
a large velocity, and that velocity has units of distance divided by time, such as miles per hour or kilometers per hour. </div>



<div class="canvas-wrap" contenteditable="false">
  <div class="canvas canvas-unhovered note" id="fs-id4047255">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="exercise" title="Edit options for this exercise">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this exercise">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
      <div class="note-decoration">
<h3 class="note-header"><strong class="title" contenteditable="true">Average Velocity: </strong></h3>
<div class="note-contents">
    
    <div class="para content-editable" contenteditable="true" id="import-auto-id3538220"><dfn class="term" id="import-auto-id2596035">Average velocity</dfn> is <i 
class="emphasis">displacement (change in position) divided by 
the time of travel</i>,</div>


<div class="canvas-wrap" contenteditable="false">
  <div class="equation canvas canvas-unhovered" id="import-auto-id4059844">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="equation" title="Edit options for this equation">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this equation">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" title="Drag this element to another location" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
<div class="equation-contents">
        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">barv = (Deltax)/(Deltat)=(x_f-x_0)/(t_f-t_0),</span>
          <span class="ascii-math"><math title="barv = (Deltax)/(Deltat)=(x_f-x_0)/(t_f-t_0),"><mstyle displaystyle="true" 
fontfamily="serif"><mover><mi>v</mi><mo>&#773;</mo></mover><mo>=</mo><mfrac><mrow><mo>&#916;</mo><mi>x</mi></mrow><mrow><mo>&#916;</mo><mi>t</mi></mrow></mfrac><mo>=</mo><mfrac><mrow><msub><mi>x</mi><mrow><mi>f</mi><mo>-</mo></mrow></msub><msub><mi>x</mi><mn>0</mn></msub></mrow><mrow><msub><mi>t</mi><mrow><mi>f</mi><mo>-</mo></mrow></msub><msub><mi>t</mi><mn>0</mn></msub></mrow></mfrac><mo>,</mo></mstyle></math></span>
        </span> 
    </div><span class="equation-number">(2)</span></div>
</div>
</div>
</div>

<div class="para content-editable" contenteditable="true" id="import-auto-id3602083">where 
        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">barv</span>
          <span class="ascii-math"><math title="barv"><mstyle displaystyle="true" fontfamily="serif"><mover><mi>v</mi><mo>&#773;</mo></mover></mstyle></math></span>
        </span> 
is the <i class="emphasis">average</i> (indicated by the bar over the 
        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">v</span>
          <span class="ascii-math"><math title="v"><mstyle displaystyle="true" fontfamily="serif"><mi>v</mi></mstyle></math></span>
        </span>) 

velocity, 

        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">Deltax</span>
          <span class="ascii-math"><math title="Deltax"><mstyle displaystyle="true" fontfamily="serif"><mo>&#916;</mo><mi>x</mi></mstyle></math></span>
        </span>
 is the change in position (or displacement), and 

        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">x_f</span>
          <span class="ascii-math"><math title="x_f"><mstyle displaystyle="true" fontfamily="serif"><msub><mi>x</mi><mrow><mi>f</mi><mo></mo></mrow></msub></mstyle></math></span>
        </span> 
and 

        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">x_0</span>
          <span class="ascii-math"><math title="x_0"><mstyle displaystyle="true" fontfamily="serif"><msub><mi>x</mi><mrow><mi>0</mi><mo></mo></mrow></msub></mstyle></math></span>
        </span> 
 
are the final and beginning positions at times

        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">t_f</span>
          <span class="ascii-math"><math title="t_f"><mstyle displaystyle="true" fontfamily="serif"><msub><mi>t</mi><mrow><mi>f</mi><mo></mo></mrow></msub></mstyle></math></span>
        </span>  
and 

        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">t_0</span>
          <span class="ascii-math"><math title="t_0"><mstyle displaystyle="true" fontfamily="serif"><msub><mi>t</mi><mrow><mi>0</mi><mo></mo></mrow></msub></mstyle></math></span>
        </span>, 
respectively. If the starting time 

        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">t_0</span>
          <span class="ascii-math"><math title="t_0"><mstyle displaystyle="true" fontfamily="serif"><msub><mi>t</mi><mrow><mi>0</mi><mo></mo></mrow></msub></mstyle></math></span>
        </span>  
is taken to be zero, then the average velocity is simply </div>

<div class="canvas-wrap" contenteditable="false">
  <div class="equation canvas canvas-unhovered" id="import-auto-id2027122">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="equation" title="Edit options for this equation">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this equation">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" title="Drag this element to another location" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
<div class="equation-contents">

        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">barv = (Deltax)/t.</span>
          <span class="ascii-math"><math title="barv = (Deltax)/t."><mstyle displaystyle="true" 
fontfamily="serif"><mover><mi>v</mi><mo>&#773;</mo></mover><mo>=</mo><mfrac><mrow><mo>&#916;</mo><mi>x</mi></mrow><mi>t</mi></mfrac><mo>.</mo></mstyle></math></span>
        </span> 
    </div><span class="equation-number">(3)</span></div>
</div>
</div>
</div>

</div></div>











<div class="para content-editable" contenteditable="true" id="import-auto-id4132060">Notice that this definition 
indicates that <i class="emphasis">velocity 
is a vector because displacement is a vector</i>. It has both magnitude and direction. The SI unit for velocity is meters per second or m/s, but many other units, such as km/h, mi/h 
(also written as mph), and cm/s, are in common use. Suppose, for example, an airplane passenger took 5 seconds to move -4 m (the negative sign indicates that displacement is toward 
the back of the plane). His average velocity would be </div>

<div class="canvas-wrap" contenteditable="false">
  <div class="equation canvas canvas-unhovered" id="import-auto-id4051374">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="equation" title="Edit options for this equation">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this equation">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" title="Drag this element to another location" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
<div class="equation-contents">

        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">barv = (Deltax)/t = (-4m)/(5s) = -0.8"m/s"</span>
          <span class="ascii-math"><math title="barv = (Deltax)/t = (-4m)/(5s) = -0.8&quot;m/s&quot;"><mstyle displaystyle="true" 
fontfamily="serif"><mover><mi>v</mi><mo>&#773;</mo></mover><mo>=</mo><mfrac><mrow><mo>&#916;</mo><mi>x</mi></mrow><mi>t</mi></mfrac><mo>=</mo><mfrac><mrow><mo>-</mo><mn>4</mn><mi>m</mi></mrow><mrow><mn>5</mn><mi>s</mi></mrow></mfrac><mo>=</mo><mo>-</mo><mn>0.8</mn><mrow><mtext>m/s</mtext></mrow></mstyle></math></span>
        </span> 
    </div><span class="equation-number">(4)</span></div>
</div>
</div>
<p class="para" id="import-auto-id3586799">The minus sign indicates the average velocity is also toward the rear of the plane. 
</div><div class="para content-editable" contenteditable="true" id="import-auto-id4125081">The average velocity of an object does not tell us anything about what happens to it between 
the starting point and ending point, 
however. For example, we cannot tell from average velocity whether the airplane passenger stops momentarily or backs up before he goes to the back of the plane. To get more details, 
we must consider smaller segments of the trip over smaller time intervals. </div>

<div class="canvas-wrap" contenteditable="false">
  <div class="figure canvas canvas-unhovered" id="racing-snails">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="figure" title="Edit options for this figure">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this figure">          
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
    <div class="media-block" contentEditable="false">
  <div style="display: none;" class="media-title">
    <span class="media-title-close"><img src="content_files/remove-element-08.png"/></span>
    <div class="hint-text">Add a title for this image (optional)</div>
  </div>
<table class="media-table" contenteditable="false">
<tbody>
<tr>
<td class="media-table-add">
<div>
Click to add another image here
</div>
</td>
<td style="width: 300px; padding: 0 16px;">
  <span class="media-inner-plus-alt">
    <span class="media-inner content-editable" id="racing-snails-inner" contenteditable="true">
      <img src="content_files/Figure_02_02_01.jpg" width="350" alt="Airplane shown from the outside. Vector arrows show paths of each individual segment of the passenger's trip to the back of the 
plane." class="image content-editable" contenteditable="true"/>
      <span class="image-options" contenteditable="false">
        <span class="image-add-options">
          <label class="image-options-add">Add:</label>
          <a href="#asaefafedfas" class="image-options-title">Title</a>
          &#183;
          <a title="This has already been added" href="#asdfaasdfs" class="image-options-caption already-added">Caption</a>
        </span>
        <a href="#adsfasasdfas" class="image-options-options">
          More options ...
        </a>
      </span>
    </span>
  </span>
</td>
<td class="media-table-add">
<div>
Click to add another image here
</div>
</td>
</tr>
</tbody>
</table>
    <div style="display: block;" class="media-caption">
      <span class="cnx_label">Figure 1:</span>
      <div class="media-caption-removable">
        <span class="media-caption-close"><img src="content_files/remove-element-08.png"/></span>
        <div class="content-editable media-caption-text" contentEditable="true">
A more detailed record of an airplane passenger heading 
toward the back of the plane, showing smaller segments of his trip. 
        </div>
      </div>
      <div style="clear: both;"></div>
    </div>
  </div></div></div></div>


<div class="para content-editable" contenteditable="true" id="import-auto-id1411481">The smaller the time intervals considered in a 
motion, the more detailed 
the 
information. 
When we carry this process to its logical conclusion, we are left with an infinitesimally small interval. Over such an interval, the average velocity becomes the <i 
class="emphasis">instantaneous velocity</i> or the <i class="emphasis">velocity at a specific instant</i>. A car's speedometer, for example, shows the 
magnitude (but not the direction) of the instantaneous velocity of the car. (Police give tickets based on instantaneous velocity, but when calculating how long it will take to get 
from one place to another on a road trip, you need to use average velocity.) <dfn class="term" id="import-auto-id2579029">Instantaneous velocity</dfn> <m:math 
xmlns:m="http://www.w3.org/1998/Math/MathML" display="inline"><m:semantics><m:mrow><m:mrow><m:mrow><m:mi>v</m:mi></m:mrow><m:mrow/></m:mrow></m:mrow><m:annotation-xml 
encoding="MathML-Content"><m:semantics xmlns:q="http://cnx.rice.edu/qml/1.0" xmlns="http://cnx.rice.edu/cnxml"><m:mrow><m:mrow><m:mi>v</m:mi></m:mrow><m:mrow/></m:mrow><m:annotation 
encoding="StarMath 5.0"> size 12{v} {}</m:annotation></m:semantics></m:annotation-xml></m:semantics></m:math> is the average velocity at a specific instant in time (or over an 
infinitesimally small time interval). </div><div class="para content-editable" contenteditable="true" id="import-auto-id4042507">Mathematically, finding instantaneous velocity, 
<m:math 
xmlns:m="http://www.w3.org/1998/Math/MathML" display="inline"><m:semantics><m:mrow><m:mrow><m:mrow><m:mi>v</m:mi></m:mrow><m:mrow/></m:mrow></m:mrow><m:annotation-xml 
encoding="MathML-Content"><m:semantics xmlns="http://cnx.rice.edu/cnxml"><m:mrow><m:mrow><m:mi>v</m:mi></m:mrow><m:mrow/></m:mrow><m:annotation encoding="StarMath 5.0"> size 12{v} 
{}</m:annotation></m:semantics></m:annotation-xml></m:semantics></m:math>, at a precise instant <m:math xmlns:m="http://www.w3.org/1998/Math/MathML" 
display="inline"><m:semantics><m:mrow><m:mrow><m:mrow><m:mi>t</m:mi></m:mrow><m:mrow/></m:mrow></m:mrow><m:annotation-xml encoding="MathML-Content"><m:semantics 
xmlns="http://cnx.rice.edu/cnxml"><m:mrow><m:mrow><m:mi>t</m:mi></m:mrow><m:mrow/></m:mrow><m:annotation encoding="StarMath 5.0"> size 12{t} 
{}</m:annotation></m:semantics></m:annotation-xml></m:semantics></m:math> can involve taking a limit, a calculus operation beyond the scope of this text. However, under many 
circumstances, we can find precise values for instantaneous velocity without calculus.</div></div>

</div>

<div class="section" id="fs-id3597726">

<h2 class="section-header"><strong class="title content-editable" contentEditable="true">Speed</strong></h2>

<div class="section-contents">
<div class="para content-editable" 
contenteditable="true" 
id="import-auto-id1753867">In 
everyday language, most people use the terms "speed" and "velocity" interchangeably. In physics, however, they do not have the same meaning and they are distinct concepts. One 
major difference is that speed has no direction. Thus <i class="emphasis">speed is a scalar</i>. Just as we need to distinguish between instantaneous velocity and average velocity, we 
also need to distinguish between instantaneous speed and average speed. </div><div class="para content-editable" contenteditable="true" id="import-auto-id3539912"><dfn class="term" 
id="import-auto-id2004213">Instantaneous 
speed</dfn> is the magnitude of instantaneous velocity. For example, suppose the airplane passenger at one instant had an instantaneous velocity of -3.0 m/s (the minus meaning toward 
the rear of the plane). At that same time his instantaneous speed was 3.0 m/s. Or suppose that at one time during a shopping trip your instantaneous velocity is 40 km/h due north. 
Your instantaneous speed at that instant would be 40 km/h&#151;the same magnitude but without a direction. Average speed, however, is very different from average velocity. <dfn 
class="term" id="import-auto-id2004216">Average speed</dfn> is the distance traveled divided by elapsed time. </div><div class="para content-editable" contenteditable="true" 
id="import-auto-id1752774">We have noted that 
distance traveled can be greater than displacement. So average speed can be greater than average velocity, which is displacement divided by time. For example, if you drive to a store 
and return home in half an hour, and your car's odometer shows the total distance traveled was 6 km, then your average speed was 12 km/h. Your average velocity, however, was zero, 
because your displacement for the round trip is zero. (Displacement is change in position and, thus, is zero for a round trip.) Thus average speed is <i class="emphasis">not</i> 
simply the magnitude of average velocity.</div>


<div class="canvas-wrap" contenteditable="false">
  <div class="figure canvas canvas-unhovered" id="racing-snails">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="figure" title="Edit options for this figure">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this figure">          
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
    <div class="media-block" contentEditable="false">
  <div style="display: none;" class="media-title">
    <span class="media-title-close"><img src="content_files/remove-element-08.png"/></span>
    <div class="hint-text">Add a title for this image (optional)</div>
  </div>
<table class="media-table" contenteditable="false">
<tbody>
<tr>
<td class="media-table-add">
<div>
Click to add another image here
</div>
</td>
<td style="width: 300px; padding: 0 16px;">
  <span class="media-inner-plus-alt">
    <span class="media-inner content-editable" id="racing-snails-inner" contenteditable="true">
      <img src="content_files/Figure_02_02_02.jpg" width="350" alt="A house and a store, with a set of arrows in between showing that 
the distance between them is 3 point 0 kilometers and the total distance traveled, delta x total, equals 0 kilometers." class="image content-editable" contenteditable="true"/>
      <span class="image-options" contenteditable="false">
        <span class="image-add-options">
          <label class="image-options-add">Add:</label>
          <a href="#asaefafedfas" class="image-options-title">Title</a>
          &#183;
          <a title="This has already been added" href="#asdfaasdfs" class="image-options-caption already-added">Caption</a>
        </span>
        <a href="#adsfasasdfas" class="image-options-options">
          More options ...
        </a>
      </span>
    </span>
  </span>
</td>
<td class="media-table-add">
<div>
Click to add another image here
</div>
</td>
</tr>
</tbody>
</table>
    <div style="display: block;" class="media-caption">
      <span class="cnx_label">Figure 1:</span>
      <div class="media-caption-removable">
        <span class="media-caption-close"><img src="content_files/remove-element-08.png"/></span>
        <div class="content-editable media-caption-text" contentEditable="true">
During a 30-minute round trip to the store, the total distance traveled is 6 km. The average 
speed is 12 km/h. The displacement for the round trip is zero, since there was no net change in position. Thus the average velocity is zero. 
        </div>
      </div>
      <div style="clear: both;"></div>
    </div>
  </div></div></div></div>

<div class="para 
content-editable"  contenteditable="true" 
id="import-auto-id1797764">Another way of visualizing the motion of an object is to use a graph. A plot of position or of velocity as a function of time can be very useful. For 
example, for this trip to the store, the position, velocity, and speed-vs.-time graphs are displayed in <a class="cnxn" href="#import-auto-id1806646"><span class="cnxn-target">Figure 
4</span></a>. (Note that these graphs depict a very simplified <dfn class="term" id="import-auto-id1510828">model</dfn> of the trip. We are assuming that speed is constant during the 
trip, which is unrealistic given that we'll probably stop at the store. But for simplicity's sake, we will model it with no stops or changes in speed. We are also assuming that the 
route between the store and the house is a perfectly straight line.)</div>


<div class="canvas-wrap" contenteditable="false">
  <div class="figure canvas canvas-unhovered" id="racing-snails">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="figure" title="Edit options for this figure">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this figure">          
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
    <div class="media-block" contentEditable="false">
  <div style="display: none;" class="media-title">
    <span class="media-title-close"><img src="content_files/remove-element-08.png"/></span>
    <div class="hint-text">Add a title for this image (optional)</div>
  </div>
<table class="media-table" contenteditable="false">
<tbody>
<tr>
<td class="media-table-add">
<div>
Click to add another image here
</div>
</td>
<td style="width: 300px; padding: 0 16px;">
  <span class="media-inner-plus-alt">
    <span class="media-inner content-editable" id="racing-snails-inner" contenteditable="true">
<img src="content_files/Figure_02_02_03.jpg" class="image content-editable" contenteditable="true" 
width="300" alt="Three line graphs. First line graph is of position in kilometers versus time in hours. The line increases linearly from 0 kilometers to 6 kilometers in the first 0 
point 25 hours. It then decreases linearly from 6 kilometers to 0 kilometers between 0 point 25 and 0 point 5 hours. Second line graph shows velocity in kilometers per hour versus 
time in hours. The line is flat at 12 kilometers per hour from time 0 to time 0 point 25. It is vertical at time 0 point 25, dropping from 12 kilometers per hour to negative 12 
kilometers per hour. It is flat again at negative 12 kilometers per hour from 0 point 25 hours to 0 point 5 hours. Third line graph shows speed in kilometers per hour versus time in 
hours. The line is flat at 12 kilometers per hour from time equals 0 to time equals 0 point 5 hours."/>
      <span class="image-options" contenteditable="false">
        <span class="image-add-options">
          <label class="image-options-add">Add:</label>
          <a href="#asaefafedfas" class="image-options-title">Title</a>
          &#183;
          <a title="This has already been added" href="#asdfaasdfs" class="image-options-caption already-added">Caption</a>
        </span>
        <a href="#adsfasasdfas" class="image-options-options">
          More options ...
        </a>
      </span>
    </span>
  </span>
</td>
<td class="media-table-add">
<div>
Click to add another image here
</div>
</td>
</tr>
</tbody>
</table>
    <div style="display: block;" class="media-caption">
      <span class="cnx_label">Figure 1:</span>
      <div class="media-caption-removable">
        <span class="media-caption-close"><img src="content_files/remove-element-08.png"/></span>
        <div class="content-editable media-caption-text" contentEditable="true">
Position vs. time, velocity vs. time, and speed vs. time on a trip. 
Note that the velocity for the return trip is negative. 
        </div>
      </div>
      <div style="clear: both;"></div>
    </div>
  </div></div></div></div>
<div class="note" id="fs-id4030893"><h3 
class="note-header"><strong class="title" contenteditable="true">Making Connections: Take-Home Investigation&#151;Getting a Sense of Speed: </strong></h3><div class="note-contents">
    
    <div class="para content-editable" contenteditable="true" id="import-auto-id4070666">If you have spent much time driving, you probably have a good sense of speeds between about 10 
and 70 miles per hour. 
But 
what are 
these 
in meters per second? What do we mean when we say that something is moving at 10 m/s? To get a better sense of what these values really mean, do some observations and calculations on 
your own:</div>
    <div class="list content-editable" contenteditable="true" id="fs-id3522190"><ul class="bullet" contenteditable="true"><li class="item" id="import-auto-id4058974">calculate typical 
car speeds in meters 
per second </li><li 
class="item" 
id="import-auto-id4058977">estimate jogging and walking speed by timing yourself; convert the measurements into both m/s and mi/h </li><li class="item" 
id="import-auto-id4070923">determine the speed of an ant, snail, or falling leaf</li></ul></div>
    </div></div><div class="exercise check-understanding" id="fs-id4173641"><h3 class="exercise-header"><strong class="title" contenteditable="true">Check Your 
Understanding</strong></h3><div 
class="exercise-contents"><div class="problem" id="fs-id1744684"><div class="problem-contents">
    <div class="para content-editable" contenteditable="true" id="import-auto-id1988298">A commuter train travels from Baltimore to Washington, DC, and back in 1 hour and 45 minutes. 
The distance between 
the two 
stations is 
approximately 40 miles. What is (a) the average velocity of the train, and (b) the average speed of the train in m/s?</div></div></div>

        <div class="canvas-wrap" contenteditable="false">
          <div class="solution canvas canvas-unhovered" id="fs-id1384034" style="display: block;">
            <div class="canvas-inner">
              <div style="display: none;" class="canvas-buddy-2">
                <a class="edit-element" href="#" data-elementtype="solution" title="Edit options for this solution">
                  <img src="content_files/options-05.png" style="">
                </a>
                <a class="remove-element" href="#" title="Remove this solution">
                  <img src="content_files/remove-element-01.png">
                </a>
              </div>
              <div class="canvas-buddy nodrag" style="cursor: auto; display: none;">
                <a class="drag-element" href="#" title="You can only drag this element within exercises!">
                  <img src="content_files/drag-element-19.png">
                </a>
              </div>
<h4 class="solution-header"><span class="cnx_label">Solution</span></h4><div class="solution-contents"><div class="para content-editable" 
contenteditable="true" 
id="import-auto-id3584121">(a) The 
average velocity of the train is zero because 

        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">x_f=x_0</span>
          <span class="ascii-math"><math title="x_f=x_0"><mstyle displaystyle="true" 
fontfamily="serif"><msub><mi>x</mi><mrow><mi>f</mi></mrow></msub><mo>=</mo><msub><mi>x</mi><mn>0</mn></msub></mstyle></math></span>
        </span>
; the train ends up at the same place it starts.</div><div class="para content-editable" contenteditable="true" 
id="import-auto-id4131960">(b) The average speed of the train is calculated below. Note that the train travels 40 miles one way and 40 miles back, for a total distance of 80 
miles.</div>

<div class="canvas-wrap" contenteditable="false">
  <div class="equation canvas canvas-unhovered" id="import-auto-id4070756">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="equation" title="Edit options for this equation">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this equation">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" title="Drag this element to another location" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
<div class="equation-contents">
        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">"distance"/"time"="80 miles"/"105 minutes"</span>
          <span class="ascii-math"><math title="&quot;distance&quot;/&quot;time&quot;=&quot;80 miles&quot;/&quot;105 minutes&quot;"><mstyle displaystyle="true" 
fontfamily="serif"><mfrac><mrow><mtext>distance</mtext></mrow><mrow><mtext>time</mtext></mrow></mfrac><mo>=</mo><mfrac><mrow><mtext>80 miles</mtext></mrow><mrow><mtext>105 
minutes</mtext></mrow></mfrac></mstyle></math></span>
        </span>
    </div><span class="equation-number">(5)</span></div>
</div>
</div>

<div class="canvas-wrap" contenteditable="false">
  <div class="equation canvas canvas-unhovered" id="import-auto-id1750086">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="equation" title="Edit options for this equation">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this equation">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" title="Drag this element to another location" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
<div class="equation-contents">
        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">"80 miles"/"105 minutes"times"5280 feet"/"1 mile"times"1 meter"/"3.28 feet"times"1 minutes"/"60 seconds"="20 m/s"</span>
          <span class="ascii-math"><math title="&quot;80 miles&quot;/&quot;105 minutes&quot;times&quot;5280 feet&quot;/&quot;1 mile&quot;times&quot;1 meter&quot;/&quot;3.28 
feet&quot;times&quot;1 minutes&quot;/&quot;60 seconds&quot;=&quot;20 m/s&quot;"><mstyle displaystyle="true" fontfamily="serif"><mfrac><mrow><mtext>80 
miles</mtext></mrow><mrow><mtext>105 minutes</mtext></mrow></mfrac><mo>&#215;</mo><mfrac><mrow><mtext>5280 feet</mtext></mrow><mrow><mtext>1 
mile</mtext></mrow></mfrac><mo>&#215;</mo><mfrac><mrow><mtext>1 meter</mtext></mrow><mrow><mtext>3.28 feet</mtext></mrow></mfrac><mo>&#215;</mo><mfrac><mrow><mtext>1 
minutes</mtext></mrow><mrow><mtext>60 seconds</mtext></mrow></mfrac><mo>=</mo><mrow><mtext>20 m/s</mtext></mrow></mstyle></math></span>
        </span>
    </div><span class="equation-number">(6)</span></div>
</div>
</div>

              <div class="solution-toggle-hide">
                <span class="solution-toggle">
                  [ Hide Solution ]
                </span>
              </div>

</div>
</div>

</div>
</div>
</div>

              <div class="solution-toggle-show" style="display: none;">
                <span class="solution-toggle">
                  [ Show Solution ]
                </span>
              </div>


</div></div></div>
    <div class="section" id="fs-id1345097"><h2 class="section-header"><strong class="title content-editable" contentEditable="true">Section Summary</strong></h2><div 
class="section-contents"><div class="list content-editable" contenteditable="true" 
id="fs-id3525421"><ul class="bullet" contenteditable="true"><li class="item" id="import-auto-id4070541">Time is measured in terms of change, and its SI unit is the second (s). Elapsed 
time for an event is

<div class="canvas-wrap" contenteditable="false">
  <div class="equation canvas canvas-unhovered" id="import-auto-id4146177">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="equation" title="Edit options for this equation">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this equation">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" title="Drag this element to another location" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
<div class="equation-contents">
        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">Deltat=t_f-t_0,</span>
          <span class="ascii-math"><math title="Deltat=t_f-t_0,"><mstyle displaystyle="true" 
fontfamily="serif"><mo>&#916;</mo><mi>t</mi><mo>=</mo><msub><mi>t</mi><mrow><mi>f</mi><mo>-</mo></mrow></msub><msub><mi>t</mi><mn>0</mn></msub><mo>,</mo></mstyle></math></span>
        </span>
</div><span 
class="equation-number">(7)</span></div>
</div>
</div>

where 
        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">t_f</span>
          <span class="ascii-math"><math title="t_f"><mstyle displaystyle="true" fontfamily="serif"><msub><mi>t</mi><mrow><mi>f</mi><mo></mo></mrow></msub></mstyle></math></span>
        </span>  
 is the final time and
        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">t_0</span>
          <span class="ascii-math"><math title="t_0"><mstyle displaystyle="true" fontfamily="serif"><msub><mi>t</mi><mrow><mi>0</mi><mo></mo></mrow></msub></mstyle></math></span>
        </span>  
 is the initial time. The initial time is often taken to be zero, as if measured 
with a stopwatch; the elapsed time is then just 
        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">t</span>
          <span class="ascii-math"><math title="t"><mstyle displaystyle="true" fontfamily="serif"><mi>t</mi></mstyle></math></span>
        </span>  

. </li><li class="item" id="import-auto-id1770783">Average velocity 
        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">barv</span>
          <span class="ascii-math"><math title="barv"><mstyle displaystyle="true" fontfamily="serif"><mover><mi>v</mi><mo>&#773;</mo></mover></mstyle></math></span>
        </span> 

 is defined as displacement divided by the travel time. In 
symbols, average velocity is

<div class="canvas-wrap" contenteditable="false">
  <div class="equation canvas canvas-unhovered" id="import-auto-id4086565">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="equation" title="Edit options for this equation">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this equation">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" title="Drag this element to another location" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>

<div class="equation-contents">
        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">barv = (Deltax)/(Deltat)=(x_f-x_0)/(t_f-t_0).</span>
          <span class="ascii-math"><math title="barv = (Deltax)/(Deltat)=(x_f-x_0)/(t_f-t_0)."><mstyle displaystyle="true" 
fontfamily="serif"><mover><mi>v</mi><mo>&#773;</mo></mover><mo>=</mo><mfrac><mrow><mo>&#916;</mo><mi>x</mi></mrow><mrow><mo>&#916;</mo><mi>t</mi></mrow></mfrac><mo>=</mo><mfrac><mrow><msub><mi>x</mi><mrow><mi>f</mi><mo>-</mo></mrow></msub><msub><mi>x</mi><mn>0</mn></msub></mrow><mrow><msub><mi>t</mi><mrow><mi>f</mi><mo>-</mo></mrow></msub><msub><mi>t</mi><mn>0</mn></msub></mrow></mfrac><mo>.</mo></mstyle></math></span>
        </span> 

    </div><span class="equation-number">(8)</span></div>
</div>
</div>

 </li><li class="item" id="import-auto-id1795857">The SI unit for velocity is m/s.  </li><li class="item" 
id="import-auto-id1795847">Velocity is a vector and thus has a direction.  </li><li class="item" id="import-auto-id4097170">Instantaneous velocity 
        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">v</span>
          <span class="ascii-math"><math title="v"><mstyle displaystyle="true" fontfamily="serif"><mi>v</mi></mstyle></math></span>
        </span>  

is the velocity at a specific instant or the average velocity for an 
infinitesimal interval.  </li><li class="item" id="import-auto-id4097153">Instantaneous speed is the magnitude of the instantaneous velocity. </li><li class="item" 
id="import-auto-id4097155">Instantaneous speed is a scalar quantity, as it has no direction specified. </li><li class="item" id="import-auto-id4097159">Average speed is the total 
distance traveled divided by the elapsed time. (Average speed is <i class="emphasis">not</i> the magnitude of the average velocity.) Speed is a scalar quantity; it has no direction 
associated with it.</li></ul></div></div></div><div class="section" id="fs-id3505230"><h2 class="section-header"><strong class="title content-editable" 
contentEditable="true">Conceptual Questions</strong></h2><div 
class="section-contents">

<div class="canvas-wrap" contenteditable="false">
  <div class="canvas canvas-unhovered exercise" id="fs-id4081795">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="exercise" title="Edit options for this exercise">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this exercise">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>

<h3 class="exercise-header"><span class="cnx_label">Exercise 1</span></h3><div class="exercise-contents"><div 
class="problem" id="fs-id4057370"><div class="problem-contents">
<div class="para content-editable" contenteditable="true" id="import-auto-id1795862">Give an example (but not one from the text) of a device used to measure time and identify what 
change in that device 
indicates a change in 
time. </div>
    </div></div>
</div></div>

</div></div>

<div class="canvas-wrap" contenteditable="false">
  <div class="canvas canvas-unhovered exercise" id="fs-id4059976">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="exercise" title="Edit options for this exercise">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this exercise">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
<h3 class="exercise-header"><span class="cnx_label">Exercise 2</span></h3><div class="exercise-contents"><div 
class="problem" id="fs-id4059193"><div class="problem-contents">
<div class="para content-editable" contenteditable="true" id="import-auto-id4141384">There is a distinction between average speed and the magnitude of average velocity. Give an 
example that illustrates the 
difference 
between 
these two quantities. </div>
    </div></div>
</div>
</div>

</div></div>

<div class="canvas-wrap" contenteditable="false">
  <div class="canvas canvas-unhovered exercise" id="fs-id3539434">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="exercise" title="Edit options for this exercise">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this exercise">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
<h3 class="exercise-header"><span class="cnx_label">Exercise 3</span></h3><div class="exercise-contents"><div 
class="problem" id="fs-id1765012"><div class="problem-contents">
<div class="para content-editable" contenteditable="true" id="import-auto-id4102222">Does a car's odometer measure position or displacement? Does its speedometer measure speed or 
velocity? </div>
    </div></div>
</div>
</div>

</div></div>

<div class="canvas-wrap" contenteditable="false">
  <div class="canvas canvas-unhovered exercise" id="fs-id4033346">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="exercise" title="Edit options for this exercise">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this exercise">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
<h3 class="exercise-header"><span class="cnx_label">Exercise 4</span></h3><div class="exercise-contents"><div 
class="problem" id="fs-id1181844"><div class="problem-contents">
<div class="para content-editable" contenteditable="true" id="import-auto-id4102237">If you divide the total distance traveled on a car trip (as determined by the odometer) by the 
time for the trip, are you 
calculating the 
average speed or the magnitude of the average velocity? Under what circumstances are these two quantities the same? </div>
    </div></div>
</div>
</div>
</div></div>

<div class="canvas-wrap" contenteditable="false">
  <div class="canvas canvas-unhovered exercise" id="fs-id1798382">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="exercise" title="Edit options for this exercise">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this exercise">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
<h3 class="exercise-header"><span class="cnx_label">Exercise 5</span></h3><div class="exercise-contents"><div 
class="problem" id="fs-id3586650"><div class="problem-contents">
<div class="para content-editable" contenteditable="true" id="import-auto-id4102252">How are instantaneous velocity and instantaneous speed related to one another? How do they 
differ? </div>
    </div></div>
</div>
</div>
</div></div></div></div>
    <div class="section" id="fs-id1644454"><h2 class="section-header"><strong class="title content-editable" contentEditable="true">Problems &amp; Exercises</strong></h2><div 
class="section-contents">

<div class="canvas-wrap" contenteditable="false">
  <div class="canvas canvas-unhovered exercise" id="fs-id4131776">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="exercise" title="Edit options for this exercise">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this exercise">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
<h3 class="exercise-header"><span class="cnx_label">Exercise 1</span></h3><div class="exercise-contents"><div class="problem" id="fs-id1489911"><div 
class="problem-contents">    <div class="para content-editable" contenteditable="true" id="import-auto-id4102268">(a) Calculate Earth's average speed relative to the Sun. (b) What is 
its average velocity over a 
period of 
one 
year?</div>

    </div></div>

        <div class="canvas-wrap" contenteditable="false">
          <div class="solution canvas canvas-unhovered" id="fs-id3602083" style="display: block;">
            <div class="canvas-inner">
              <div style="display: none;" class="canvas-buddy-2">
                <a class="edit-element" href="#" data-elementtype="solution" title="Edit options for this solution">
                  <img src="content_files/options-05.png" style="">
                </a>
                <a class="remove-element" href="#" title="Remove this solution">
                  <img src="content_files/remove-element-01.png">
                </a>
              </div>
              <div class="canvas-buddy nodrag" style="cursor: auto; display: none;">
                <a class="drag-element" href="#" title="You can only drag this element within exercises!">
                  <img src="content_files/drag-element-19.png">
                </a>
              </div>
<h4 class="solution-header"><span class="cnx_label">Solution</span></h4><div 
class="solution-contents"><div class="para content-editable" contenteditable="true" id="import-auto-id4102277">(a) 
       <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">3.0times10^4"m/s"</span>
          <span class="ascii-math"><math title="3.0times10^4&quot;m/s&quot;"><mstyle displaystyle="true" 
fontfamily="serif"><mn>3.0</mn><mo>&#215;</mo><msup><mn>10</mn><mn>4</mn></msup><mrow><mtext>m/s</mtext></mrow></mstyle></math></span>
        </span>
</div><div class="para content-editable" contenteditable="true" id="import-auto-id4138028">(b) 0 m/s</div></div>

              <div class="solution-toggle-hide">
                <span class="solution-toggle">
                  [ Hide Solution ]
                </span>
              </div>
</div>




</div>

</div>

              <div class="solution-toggle-show" style="display: none;">
                <span class="solution-toggle">
                  [ Show Solution ]
                </span>
              </div>


    </div></div>

</div>
</div>

<div class="canvas-wrap" contenteditable="false">
  <div class="canvas canvas-unhovered exercise" id="fs-id3514248">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="exercise" title="Edit options for this exercise">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this exercise">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
<h3 class="exercise-header"><span class="cnx_label">Exercise 2</span></h3><div 
class="exercise-contents"><div class="problem" id="fs-id1773543"><div class="problem-contents">    <div class="para content-editable" contenteditable="true" 
id="import-auto-id4138020">A helicopter blade 
spins at 
exactly 100 
revolutions per minute. Its tip is 5.00 m from the center of rotation. (a) Calculate the average speed of the blade tip in the helicopter's frame of reference. (b) What is its 
average velocity over one revolution?</div>
    </div></div>
</div>
</div>

</div>
</div>

<div class="canvas-wrap" contenteditable="false">
  <div class="canvas canvas-unhovered exercise" id="fs-id1438634">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="exercise" title="Edit options for this exercise">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this exercise">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
<h3 class="exercise-header"><span class="cnx_label">Exercise 3</span></h3><div class="exercise-contents"><div 
class="problem" id="fs-id1738040"><div class="problem-contents">    <div class="para content-editable" contenteditable="true" id="import-auto-id4138058">The North American and 
European continents are moving 
apart at a rate 
of 
about 3 cm/y. At this rate how long will it take them to drift 500 km farther apart than they are at present?</div>
    </div></div>

        <div class="canvas-wrap" contenteditable="false">
          <div class="solution canvas canvas-unhovered" id="fs-id2587370" style="display: block;">
            <div class="canvas-inner">
              <div style="display: none;" class="canvas-buddy-2">
                <a class="edit-element" href="#" data-elementtype="solution" title="Edit options for this solution">
                  <img src="content_files/options-05.png" style="">
                </a>
                <a class="remove-element" href="#" title="Remove this solution">
                  <img src="content_files/remove-element-01.png">
                </a>
              </div>
              <div class="canvas-buddy nodrag" style="cursor: auto; display: none;">
                <a class="drag-element" href="#" title="You can only drag this element within exercises!">
                  <img src="content_files/drag-element-19.png">
                </a>
              </div>

<h4 class="solution-header"><span class="cnx_label">Solution</span></h4><div 
class="solution-contents"><div class="para content-editable" contenteditable="true" id="import-auto-id4138068">
       <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">2times10^7"years"</span>
          <span class="ascii-math"><math title="2times10^7&quot;years&quot;"><mstyle displaystyle="true" 
fontfamily="serif"><mn>2</mn><mo>&#215;</mo><msup><mn>10</mn><mn>7</mn></msup><mrow><mtext>years</mtext></mrow></mstyle></math></span>
        </span>      
    </div></div>
              <div class="solution-toggle-hide">
                <span class="solution-toggle">
                  [ Hide Solution ]
                </span>
              </div>

</div>
</div>
</div>

</div>

              <div class="solution-toggle-show" style="display: none;">
                <span class="solution-toggle">
                  [ Show Solution ]
                </span>
              </div>

</div>
</div>
</div>

<div class="canvas-wrap" contenteditable="false">
  <div class="canvas canvas-unhovered exercise" id="fs-id2572316">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="exercise" title="Edit options for this exercise">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this exercise">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
<h3 class="exercise-header"><span class="cnx_label">Exercise 4</span></h3><div 
class="exercise-contents"><div class="problem" id="fs-id1275687"><div class="problem-contents">    <div class="para content-editable" contenteditable="true" 
id="import-auto-id4128405">Land west of the San 
Andreas 
fault in 
southern California is moving at an average velocity of about 6 cm/y northwest relative to land east of the fault. Los Angeles is west of the fault and may thus someday be at the same 
latitude as San Francisco, which is east of the fault. How far in the future will this occur if the displacement to be made is 590 km northwest, assuming the motion remains 
constant?</div>
    </div></div>
</div>
</div>
</div></div>

<div class="canvas-wrap" contenteditable="false">
  <div class="canvas canvas-unhovered exercise" id="fs-id1403452">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="exercise" title="Edit options for this exercise">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this exercise">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
<h3 class="exercise-header"><span class="cnx_label">Exercise 5</span></h3><div class="exercise-contents"><div 
class="problem" id="fs-id1357553"><div class="problem-contents">    <div class="para content-editable" contenteditable="true" id="import-auto-id4128437">On May 26, 1934, a 
streamlined, stainless steel 
diesel train called 
the 
Zephyr set the world's nonstop long-distance speed record for trains. Its run from Denver to Chicago took 13 hours, 4 minutes, 58 seconds, and was witnessed by more than a million 
people along the route. The total distance traveled was 1633.8 km. What was its average speed in km/h and m/s?</div>
    </div></div>

        <div class="canvas-wrap" contenteditable="false">
          <div class="solution canvas canvas-unhovered" id="fs-id4081588" style="display: block;">
            <div class="canvas-inner">
              <div style="display: none;" class="canvas-buddy-2">
                <a class="edit-element" href="#" data-elementtype="solution" title="Edit options for this solution">
                  <img src="content_files/options-05.png" style="">
                </a>
                <a class="remove-element" href="#" title="Remove this solution">
                  <img src="content_files/remove-element-01.png">
                </a>
              </div>
              <div class="canvas-buddy nodrag" style="cursor: auto; display: none;">
                <a class="drag-element" href="#" title="You can only drag this element within exercises!">
                  <img src="content_files/drag-element-19.png">
                </a>
              </div>

<h4 class="solution-header"><span class="cnx_label">Solution</span></h4><div 
class="solution-contents"><div class="para content-editable" contenteditable="true" id="import-auto-id4128445">
34.689 m/s = 124.88 km/h
    </div>
</div>

              <div class="solution-toggle-hide">
                <span class="solution-toggle">
                  [ Hide Solution ]
                </span>
              </div>
</div>
</div>
</div>
</div>

              <div class="solution-toggle-show" style="display: none;">
                <span class="solution-toggle">
                  [ Show Solution ]
                </span>
              </div>

</div>
</div>
</div>

<div class="canvas-wrap" contenteditable="false">
  <div class="canvas canvas-unhovered exercise" id="fs-id951583">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="exercise" title="Edit options for this exercise">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this exercise">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
<h3 class="exercise-header"><span class="cnx_label">Exercise 6</span></h3><div 
class="exercise-contents"><div class="problem" id="fs-id1535186"><div class="problem-contents">    <div class="para content-editable" contenteditable="true" 
id="import-auto-id4128469">Tidal friction is 
slowing 
the 
rotation 
of 
the Earth. As a result, the orbit of the Moon is increasing in radius at a rate of approximately 4 cm/year. Assuming this to be a constant rate, how many years will pass before the 
radius of the Moon's orbit increases by 
3.84 &times; 10<sup>6</sup> m 
 (1%)?</div></div></div>
</div>
</div>
</div></div>

<div class="canvas-wrap" contenteditable="false">
  <div class="canvas canvas-unhovered exercise" id="fs-id1271475">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="exercise" title="Edit options for this exercise">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this exercise">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
<h3 class="exercise-header"><span 
class="cnx_label">Exercise 7</span></h3><div class="exercise-contents"><div class="problem" id="fs-id1544659"><div class="problem-contents">    <div class="para content-editable" 
contenteditable="true" 
id="import-auto-id4146127">A student drove to the university from her home and noted that the odometer reading of her car increased by 12.0 km. The trip took 18.0 min. (a) What was 
her average speed? (b) If the straight-line distance from her home to the university is 10.3 km in a direction 
25.0&#176;
 south of east, what was her average velocity? (c) If she returned home by the same 
path 7 h 30 min after she left, what were her average speed and velocity for the entire trip?</div></div></div>

        <div class="canvas-wrap" contenteditable="false">
          <div class="solution canvas canvas-unhovered" id="fs-id1780671" style="display: block;">
            <div class="canvas-inner">
              <div style="display: none;" class="canvas-buddy-2">
                <a class="edit-element" href="#" data-elementtype="solution" title="Edit options for this solution">
                  <img src="content_files/options-05.png" style="">
                </a>
                <a class="remove-element" href="#" title="Remove this solution">
                  <img src="content_files/remove-element-01.png">
                </a>
              </div>
              <div class="canvas-buddy nodrag" style="cursor: auto; display: none;">
                <a class="drag-element" href="#" title="You can only drag this element within exercises!">
                  <img src="content_files/drag-element-19.png">
                </a>
              </div>

<h4 class="solution-header"><span class="cnx_label">Solution</span></h4><div class="solution-contents"><div class="para content-editable" contenteditable="true" 
id="import-auto-id4146164">(a) 
40.0 km/h
</div><div class="para content-editable" contenteditable="true" id="import-auto-id4141793">(b) 34.3 
km/h, 
25&#176;S of E.
</div><div class="para content-editable" contenteditable="true" id="import-auto-id4141815">(c) 
average speed = 3.20 km/h, v&#773; = 0
</div></div>

              <div class="solution-toggle-hide">
                <span class="solution-toggle">
                  [ Hide Solution ]
                </span>
              </div>

</div>
</div>
</div>
</div>

              <div class="solution-toggle-show" style="display: none;">
                <span class="solution-toggle">
                  [ Show Solution ]
                </span>
              </div>

</div>
</div>
</div>


<div class="canvas-wrap" contenteditable="false">
  <div class="canvas canvas-unhovered exercise" id="fs-id1644060">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="exercise" title="Edit options for this exercise">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this exercise">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
<h3 class="exercise-header"><span class="cnx_label">Exercise 8</span></h3><div 
class="exercise-contents"><div class="problem" id="fs-id1742458"><div class="problem-contents">    <div class="para content-editable" contenteditable="true" 
id="import-auto-id4141848">The speed of 
propagation 
of 
the action 
potential (an electrical signal) in a nerve cell depends (inversely) on the diameter of the axon (nerve fiber). If the nerve cell connecting the spinal cord to your feet is 1.1 m 
long, and the nerve impulse speed is 18 m/s, how long does it take for the nerve signal to travel this distance?</div>
    </div></div></div>
</div>
</div>
</div>

<div class="canvas-wrap" contenteditable="false">
  <div class="canvas canvas-unhovered exercise" id="fs-id1638875">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="exercise" title="Edit options for this exercise">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this exercise">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
<h3 class="exercise-header"><span class="cnx_label">Exercise 9</span></h3><div class="exercise-contents"><div 
class="problem" id="fs-id2015498"><div class="problem-contents">    <div class="para content-editable" contenteditable="true" id="import-auto-id4141909">Conversations with astronauts 
on the lunar surface 
were 
characterized 
by 
a kind of echo in which the earthbound person's voice was so loud in the astronaut's space helmet that it was picked up by the astronaut's microphone and transmitted back to Earth. 
It is reasonable to assume that the echo time equals the time necessary for the radio wave to travel from the Earth to the Moon and back (that is, neglecting any time delays in the 
electronic equipment). Calculate the distance from Earth to the Moon given that the echo time was 2.56 s and that radio waves travel at the speed of light 
(3.00 x 10<sup>8</sup>m/s).</div></div></div>

        <div class="canvas-wrap" contenteditable="false">
          <div class="solution canvas canvas-unhovered" id="fs-id1659453" style="display: block;">
            <div class="canvas-inner">
              <div style="display: none;" class="canvas-buddy-2">
                <a class="edit-element" href="#" data-elementtype="solution" title="Edit options for this solution">
                  <img src="content_files/options-05.png" style="">
                </a>
                <a class="remove-element" href="#" title="Remove this solution">
                  <img src="content_files/remove-element-01.png">
                </a>
              </div>
              <div class="canvas-buddy nodrag" style="cursor: auto; display: none;">
                <a class="drag-element" href="#" title="You can only drag this element within exercises!">
                  <img src="content_files/drag-element-19.png">
                </a>
              </div>

<h4 class="solution-header"><span class="cnx_label">Solution</span></h4><div class="solution-contents"><div class="para content-editable" contenteditable="true" 
id="import-auto-id4123350">384,000 
km</div></div>

              <div class="solution-toggle-hide">
                <span class="solution-toggle">
                  [ Hide Solution ]
                </span>
              </div>

</div>
</div>
</div>
</div>

              <div class="solution-toggle-show" style="display: none;">
                <span class="solution-toggle">
                  [ Show Solution ]
                </span>
              </div>


</div>
</div>
</div>

<div class="canvas-wrap" contenteditable="false">
  <div class="canvas canvas-unhovered exercise" id="fs-id2577314">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="exercise" title="Edit options for this exercise">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this exercise">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
<h3 class="exercise-header"><span class="cnx_label">Exercise 10</span></h3><div 
class="exercise-contents"><div class="problem" id="fs-id4044402"><div class="problem-contents">    <div class="para content-editable" contenteditable="true" 
id="import-auto-id4123407">A football quarterback 
runs 15.0 m 
straight down the playing field in 2.50 s. He is then hit and pushed 3.00 m straight backward in 1.75 s. He breaks the tackle and runs straight forward another 21.0 m in 5.20 s. 
Calculate his average velocity (a) for each of the three intervals and (b) for the entire motion.</div>
    </div></div>
</div>
</div>
</div></div>

<div class="canvas-wrap" contenteditable="false">
  <div class="canvas canvas-unhovered exercise" id="fs-id4047255">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="edit-element" href="#" data-elementtype="exercise" title="Edit options for this exercise">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this exercise">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
<h3 class="exercise-header"><span class="cnx_label">Exercise 11</span></h3><div class="exercise-contents"><div 
class="problem" id="fs-id4047256"><div class="problem-contents">    <div class="para content-editable" contenteditable="true" id="import-auto-id4123414">The planetary model of the 
atom pictures electrons 
orbiting the atomic 
nucleus much as planets orbit the Sun. In this model you can view hydrogen, the simplest atom, as having a single electron in a circular orbit 
1.06 x 10<sup>-10</sup> m
 in diameter. (a) If the average speed of the electron in this 
orbit is known to be 
2.20 x 10<sup>6</sup> m/s, calculate the number of revolutions per second it makes about the nucleus. (b) What 
is the electron's average velocity?</div></div></div>

        <div class="canvas-wrap" contenteditable="false">
          <div class="solution canvas canvas-unhovered" id="fs-id2580487" style="display: block;">
            <div class="canvas-inner">
              <div style="display: none;" class="canvas-buddy-2">
                <a class="edit-element" href="#" data-elementtype="solution" title="Edit options for this solution">
                  <img src="content_files/options-05.png" style="">
                </a>
                <a class="remove-element" href="#" title="Remove this solution">
                  <img src="content_files/remove-element-01.png">
                </a>
              </div>
              <div class="canvas-buddy nodrag" style="cursor: auto; display: none;">
                <a class="drag-element" href="#" title="You can only drag this element within exercises!">
                  <img src="content_files/drag-element-19.png">
                </a>
              </div>
<h4 class="solution-header"><span 
class="cnx_label">Solution</span></h4><div class="solution-contents"><div class="para content-editable" contenteditable="true" id="import-auto-id4141187">(a) 
6.61 x 10<sup>15</sup> rev/s
</div><div class="para content-editable" contenteditable="true" id="import-auto-id4141237">(b) 0 m/s</div></div>

              <div class="solution-toggle-hide">
                <span class="solution-toggle">
                  [ Hide Solution ]
                </span>
              </div>

</div>
</div>
</div>
</div>

              <div class="solution-toggle-show" style="display: none;">
                <span class="solution-toggle">
                  [ Show Solution ]
                </span>
              </div>


</div>
</div>
</div>

</div></div>

-->





















































<div class="para content-editable" contentEditable="true">
The following are generally referred to as the "laws" or "rules" of <a href="http://en.wikipedia.org/wiki/Exponentiation" class="link">exponents</a>.

</div>

<div class="canvas-wrap" contenteditable="false">
  <div class="equation canvas canvas-unhovered" id="id9048262">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
<!--
        <a class="unelement-element" href="#" data-elementtype="equation" title="Remove the &quot;Equation&quot; formatting, reverting the content to regular paragraph(s).">
          <img src="content_files/broom-04.png">
        </a>
-->
        <a class="edit-element" href="#" data-elementtype="equation" title="Edit options for this equation">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this equation">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" title="Drag this element to another location" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
      <div class="equation-contents" contenteditable="true">
        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">x^a x^b = x^(a+b)</span>
          <span class="ascii-math">
            <math><mstyle displaystyle="true" fontfamily="serif"><msup><mi>x</mi><mi>a</mi></msup><msup><mi>x</mi><mi>b</mi></msup><mo>=</mo><msup><mi>x</mi><mrow><mi>a</mi><mo>+</mo><mi>b</mi></mrow></msup></mstyle></math>
          </span>
        </span>
      </div>
    <span class="equation-number">(1)</span></div>
  </div>
</div>


<div class="canvas-wrap" contenteditable="false">
  <div class="equation canvas canvas-unhovered" id="id9601688">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
<!--
        <a class="unelement-element" href="#" data-elementtype="equation" title="Remove the &quot;Equation&quot; formatting, reverting the content to regular paragraph(s).">
          <img src="content_files/broom-04.png">
        </a>
-->
        <a class="edit-element" href="#" data-elementtype="equation" title="Edit options for this equation">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this equation">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" title="Drag this element to another location" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
      <div class="equation-contents" contenteditable="true">
        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation" style="display: none;">x^a / x^b = x^(a-b) = 1/x^(b-a)</span>
          <span class="ascii-math">
            <math><mstyle displaystyle="true" fontfamily="serif"><mfrac><msup><mi>x</mi><mi>a</mi></msup><msup><mi>x</mi><mi>b</mi></msup></mfrac><mo>=</mo><msup><mi>x</mi><mrow><mi>a</mi><mo>-</mo><mi>b</mi></mrow></msup><mo>=</mo><mfrac><mn>1</mn><msup><mi>x</mi><mrow><mi>b</mi><mo>-</mo><mi>a</mi></mrow></msup></mfrac></mstyle></math>
            <!--
            <math><mstyle displaystyle="true" fontfamily="serif"><mo></mo></mstyle></math>
            -->
          </span>
        </span>
      </div>
<span class="equation-number">(2)</span></div>
</div>
</div>

<div class="canvas-wrap" contenteditable="false">
  <div class="equation canvas canvas-unhovered" id="id8756270">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
<!--
        <a class="unelement-element" href="#" data-elementtype="equation" title="Remove the &quot;Equation&quot; formatting, reverting the content to regular paragraph(s).">
          <img src="content_files/broom-04.png">
        </a>
-->
        <a class="edit-element" href="#" data-elementtype="equation" title="Edit options for this equation">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this equation">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" title="Drag this element to another location" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
      <div class="equation-contents" contenteditable="true">
        (x^a)^b=x^(ab)
<!--
        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation" style="display: none;">(x^a)^b=x^(ab)</span>
          <span class="ascii-math">
            <math><mstyle displaystyle="true" fontfamily="serif"><msup><mrow><mo>(</mo><msup><mi>x</mi><mi>a</mi></msup><mo>)</mo></mrow><mi>b</mi></msup><mo>=</mo><msup><mi>x</mi><mrow><mi>a</mi><mi>b</mi></mrow></msup></mstyle></math>
          </span>
        </span>
-->
      </div>
    <span class="equation-number">(3)</span></div>
  </div>
</div>


</div>


<div class="para content-editable" contentEditable="true">
As with any formula, the most important thing is to be able to <em class="emphasis">use</em> them--that is, to understand what they mean. But it is also important to know <em 
class="emphasis">where these formulae come from</em>. And finally, in this case, the three should be memorized.
</div>

<div class="para content-editable" id="id5600574" contenteditable="true">
So...what do they mean? They are, of course, <dfn class="term">algebraic generalizations</dfn>--statements that are true for any 

<span style="" aria-readonly="true" role="textbox" class="MathJax" contenteditable="false">
  <span class="ascii-notation">x</span>
  <span class="actual-math">
    <math><mstyle displaystyle="true" fontfamily="serif"><mi>x</mi></mstyle></math>
  </span>
</span>, 

<span style="" aria-readonly="true" role="textbox" class="MathJax" contenteditable="false">
  <span class="ascii-notation">a</span>
  <span class="actual-math">
    <math><mstyle displaystyle="true" fontfamily="serif"><mi>a</mi></mstyle></math>
  </span>
</span>, and 

<span style="" aria-readonly="true" role="textbox" class="MathJax" contenteditable="false">
  <span class="ascii-notation">b</span>
  <span class="actual-math">
    <math><mstyle displaystyle="true" fontfamily="serif"><mi>b</mi></mstyle></math>
    <!--
    <math><mstyle displaystyle="true" fontfamily="serif"><mo></mo></mstyle></math>
    -->
  </span>
</span>

 values. For instance, the first rule tells us that

        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation" style="display: none;">7^12 cdot 7^4 = 7^16</span>
          <span class="ascii-math">
            <math><mstyle displaystyle="true" fontfamily="serif"><msup><mn>7</mn><mn>12</mn></msup><mo>&#183;</mo><msup><mn>7</mn><mn>4</mn></msup><mo>=</mo><msup><mn>7</mn><mn>16</mn></msup></mstyle></math>
            <!--
            <math><mstyle displaystyle="true" fontfamily="serif"><mo></mo></mstyle></math>
            -->
          </span>
        </span>

which you can confirm on your calculator. 

7<sup>12</sup> means twelve 7s multiplied; 
7<sup>4</sup> means four 7s multiplied. Multiply them together, and you get sixteen 7s multiplied.


</div>

<div class="para content-editable" contenteditable="true">

You can also think of the second rule as the inevitable consequence of the first rule. If 
19<sup>3</sup> x 19<sup>5</sup> = 19<sup>8</sup>, then 

        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation" style="display: none;">19^8/19^5</span>
          <span class="ascii-math"><math title="19^8/19^5"><mstyle displaystyle="true" 
fontfamily="serif"><mfrac><msup><mn>19</mn><mn>8</mn></msup><msup><mn>19</mn><mn>5</mn></msup></mfrac></mstyle></math></span>
        </span>

(which asks the question "19<sup>5</sup> times what equals 19<sup>8</sup>?") must be 19<sup>3</sup>.

</div>


<div class="para content-editable" contenteditable="true">
Similarly, the third rule promises us that 


<!--
<div class="canvas-wrap" contenteditable="false">
  <div class="equation canvas canvas-unhovered" id="id7511600">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
        <a class="unelement-element" href="#" data-elementtype="equation" title="Remove the &quot;Equation&quot; formatting, reverting the content to regular paragraph(s).">
          <img src="content_files/broom-04.png">
        </a>
        <a class="edit-element" href="#" data-elementtype="equation" title="Edit options for this equation">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this equation">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" title="Drag this element to another location" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>

      <div class="equation-contents" contenteditable="true">
-->
        <span class="MathJax" contenteditable="false">
          <span class="ascii-notation">(7^12)^4 = 7^48</span>
          <span class="ascii-math">
            <math><mstyle displaystyle="true" fontfamily="serif"><msup><mrow><mo>(</mo><msup><mn>7</mn><mn>12</mn></msup><mo>)</mo></mrow><mn>4</mn></msup><mo>=</mo><msup><mn>7</mn><mn>48</mn></msup></mstyle></math>
            <!--
            <math><mstyle displaystyle="true" fontfamily="serif"><mo></mo></mstyle></math>
            -->
          </span>
        </span>
<!--
      </div>


      <span class="equation-number">(4)</span>
    </div>
  </div>
</div>
-->


</div>
    <div class="para content-editable" id="id7382982" contenteditable="true">These rules can be used to combine and simplify expressions.</div>

<div class="para content-editable" id="id23589289350" contenteditable="true">
<h2 class="para-header"><strong class="title">ASCIIMath notation</strong></h2>

In order to mark up the previous expression in ASCIIMath, you would have to write it as: (7^12)^4 = 7^48.  The ^ symbol represents exponents in ASCIIMath.</div>

<!--
<br/>
-->




</div>


</div>

<span class="add-module-plus" title="Add another module here">+</span>

<div class="paper">







<!--
        <div id="cnx_module_header" style="margin-bottom: 1.5em;">
          <h1 class="content-editable" contentEditable="true">Theoretical Perspectives on Education</h1>
        </div>
-->


  <h2 class="section-header" id="educational-theories">
    <strong class="title content-editable" contentEditable="true">Educational Theories</strong>
  </h2>
<br/>
  <h3 class="section-header">
    <strong class="title content-editable" contentEditable="true">Functionalism</strong>
  </h3>
<!--
<div class="para content-editable convert-to-header" contentEditable="true">
<em class="emphasis">Functionalism</em>
</div>
-->
<div class="para content-editable" contentEditable="true">
Functionalists view education as one of the more important social institutions in a society. They contend that education contributes two kinds of functions: manifest (or primary) 
functions, which are the intended and visible functions of education; and latent (or secondary) functions, which are the hidden and unintended functions. 
</div>


  <h3 class="section-header">
    <strong class="title content-editable" contentEditable="true">Manifest Functions</strong>
  </h3>
<!--
<div class="para content-editable convert-to-header" contentEditable="true">
<em class="emphasis">Manifest Functions</em>
</div>
-->

<div class="para content-editable" contentEditable="true">
There are several major manifest functions associated with education. The first is socialization. Beginning in preschool and kindergarten, students are taught to practice various 
societal roles. The French sociologist &#201;mile Durkheim (1858-1917), who established the academic discipline of sociology, characterized schools as "socialization agencies that 
teach children how to get along with others and prepare them for adult economic roles.  All education consists in a continuous effort to impose on the child ways of seeing, feeling, 
and acting to which it would not spontaneously come." (Durkheim 1898)
</div>



<!--
<div class="figure" id="fig2"><table width="50%" cellspacing="0" cellpadding="0" border="0" align="center"><caption align="bottom" class="figure-caption caption"><strong 
class="cnx_label">Figure 5</strong></caption><thead><tr><th class="figure-name"><strong class="title">Graph Property Dialog Box</strong></th></tr></thead><tbody><tr><td 
class="inner-figure">
-->
<div class="canvas-wrap" contenteditable="false"><div class="figure canvas canvas-unhovered" id="fffigure1"><div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
<!--
        <a class="unelement-element" href="#" data-elementtype="figure" title="Remove the &quot;Figure&quot; formatting, reverting the content to regular paragraph(s).">
          <img src="content_files/broom-04.png">
        </a>
-->
        <a class="edit-element" 
href="#" data-elementtype="figure" title="Edit options for this figure">          <img src="content_files/options-05.png">        </a>        <a class="remove-element" href="#" 
title="Remove this figure">          
<img src="content_files/remove-element-01.png">        </a>      </div>      <div style="display: none;" class="canvas-buddy">        <a class="drag-element" href="#" title="Drag this 
element to another location">          <img src="content_files/drag-element-19.png">        </a>      </div>    <div class="media-block" contentEditable="false">
  <div style="display: none;" class="media-title">
    <span class="media-title-close"><img src="content_files/remove-element-08.png"/></span>
    <div class="hint-text">Add a title for this image (optional)</div>
  </div>
<table class="media-table" contenteditable="false">
<tbody>
<tr>
<td class="media-table-add">
<div>
Click to add another image here
</div>
</td>
<td style="width: 300px; padding: 0 16px;">
  <span class="media-inner-plus-alt">
    <span class="alt-warning-wrap">
      <img class="alt-warning" src="content_files/warning-01.png">
      <span class="alt-warning-text">Description missing</span>
    </span>
    <span class="media-inner content-editable" id="id13703243" contenteditable="true">
      <img src="content_files/classroom.jpg" alt="" class="image content-editable" contenteditable="true" width="300"/>
      <span class="image-options" contenteditable="false">
        <span class="image-add-options">
          <label class="image-options-add">Add:</label>
          <a href="#asaefafedfas" class="image-options-title">Title</a>
          &#183;
          <a title="This has already been added" href="#asdfaasdfs" class="image-options-caption already-added">Caption</a>
        </span>
        <a href="#adsfasasdfas" class="image-options-options">
          More options ...
        </a>
      </span>
    </span>
  </span>
</td>
<td class="media-table-add">
<div>
Click to add another image here
</div>
</td>
</tr>
</tbody>
</table>
    <div style="display: block;" class="media-caption">
      <span class="cnx_label">Figure 1:<!--<span class="clearer" title="Remove the 'Figure' formatting, reverting to a unnumbered image."></span>--></span>
      <div class="media-caption-removable">
        <span class="media-caption-close"><img src="content_files/remove-element-08.png"/></span>
        <div class="content-editable media-caption-text" contentEditable="true">
          The teacher's authority in the classroom is a way in which education fulfills the manifest 
          functions of social control. (Photo courtesy of Tulane Public Relations/flickr)
        </div>
      </div>
      <div style="clear: both;"></div>
    </div>
  </div></div></div></div>
<!--
</td></tr></tbody></table></div>
-->



  <h3 class="section-header">
    <strong class="title content-editable" contentEditable="true">Latent Functions</strong>
  </h3>
<!--
<div class="para content-editable convert-to-header" contentEditable="true">
<em class="emphasis">Latent Functions</em>
</div>
-->

<div class="para content-editable" contentEditable="true">
Education also fulfills latent functions (shown in the table) . As you well know, much goes on in a school that has little to do with formal education. For example, you might notice 
an attractive fellow student when he gives a particularly interesting answer in class&#151;catching up with him and making a date speaks to the latent function of courtship fulfilled 
by exposure to a peer group in the educational setting.
</div>



<div class="canvas-wrap" contenteditable="false">
  <div class="table canvas canvas-unhovered">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
<!--
        <a class="unelement-element" href="#" data-elementtype="table" title="Remove the &quot;Table&quot; formatting, reverting the content to regular paragraph(s).">
          <img src="content_files/broom-04.png">
        </a>
-->
        <a class="edit-element" href="#" data-elementtype="table" title="Edit options for this table">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this table">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
      <div class="table-title">
        <strong class="title content-editable" contenteditable="true">Manifest and Latent Functions of Education</strong>
      </div>
      <table style="border: 1px solid; width: 100%;" align="center" cellpadding="0" cellspacing="0" contenteditable="false">
        <caption class="table-text" align="bottom">
          <span class="cnx_label">Table 1:&nbsp;</span>
          <span class="table-caption content-editable-2" contenteditable="true">
<!--
            <span class="hint-text">&nbsp;Add a caption (optional)</span>
-->
            According to functionalist theory, education contributes both manifest and latent functions.
          </span>
        </caption>
        <colgroup>
          <col width="50%"><col width="50%">
        </colgroup>
        <thead>
          <tr>
            <th style="text-align: left !important; border-top-width: 0; border-left-width: 0; border-right-width: 1px; border-bottom-width: 1px;" class="content-editable" 
contenteditable="true">Manifest Functions: Openly stated functions with intended goals</th>
            <th style="text-align: left !important; border-top-width: 0; border-left-width: 0; border-right-width: 1px; border-bottom-width: 1px;border-right-width: 0; 
border-bottom-width: 1px;" class="content-editable" contenteditable="true">Latent Functions: Hidden, unstated functions with sometimes unintended consequences</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="text-align: left !important; border-top-width: 0; border-left-width: 0; border-right-width: 1px; border-bottom-width: 1px;" class="content-editable" 
contenteditable="true">Socialization</td>
            <td style="text-align: left !important; border-top-width: 0; border-left-width: 0; border-right-width: 1px; border-bottom-width: 1px;border-right-width: 0; 
border-bottom-width: 1px;" class="content-editable" contenteditable="true">Courtship</td>
          </tr>
          <tr>
            <td style="text-align: left !important; border-top-width: 0; border-left-width: 0; border-right-width: 1px; border-bottom-width: 1px;" class="content-editable" 
contenteditable="true">Transmission of culture</td>
            <td style="text-align: left !important; border-top-width: 0; border-left-width: 0; border-right-width: 1px; border-bottom-width: 1px;border-right-width: 0; 
border-bottom-width: 1px;" class="content-editable" contenteditable="true">Social networks</td>
          </tr>
          <tr>
            <td style="text-align: left !important; border-top-width: 0; border-left-width: 0; border-right-width: 1px; border-bottom-width: 1px;" class="content-editable" 
contenteditable="true">Social control</td>
            <td style="text-align: left !important; border-top-width: 0; border-left-width: 0; border-right-width: 1px; border-bottom-width: 1px;border-right-width: 0; 
border-bottom-width: 1px;" class="content-editable" contenteditable="true">Working in groups</td>
          </tr>
          <tr>
            <td style="text-align: left !important; border-top-width: 0; border-left-width: 0; border-right-width: 1px; border-bottom-width: 1px;" class="content-editable" 
contenteditable="true">Social placement</td>
            <td style="text-align: left !important; border-top-width: 0; border-left-width: 0; border-right-width: 1px; border-bottom-width: 1px;border-right-width: 0; 
border-bottom-width: 1px;" class="content-editable" contenteditable="true">Creation of generation gap</td>
          </tr>
          <tr>
            <td style="text-align: left !important; border-top-width: 0; border-left-width: 0; border-right-width: 1px; border-bottom-width: 0 !important;" class="content-editable" 
contenteditable="true">Cultural innovation</td>
            <td style="text-align: left !important; border-top-width: 0; border-left-width: 0; border-right-width: 1px; border-bottom-width: 0 !important;border-right-width: 0; 
border-bottom-width: 0 !important;" class="content-editable" contenteditable="true">Political and social integration</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>


<div class="canvas-wrap" contenteditable="false">
  <div class="canvas canvas-unhovered example" id="ffexample1">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
<!--
        <a class="unelement-element" href="#" data-elementtype="example" title="Remove the &quot;Example&quot; formatting, reverting the content to regular paragraph(s).">
          <img src="content_files/broom-04.png">
        </a>
-->
        <a class="edit-element" href="#" data-elementtype="example" title="Edit options for this example">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this example">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
      <div class="example-decoration">
      <h2 class="example-header">
        <span class="cnx_label">Example 1</span>
        <strong class="title content-editable" contentEditable="true">
          Grade Inflation: When Is an A Really a C?
        </strong>
      </h2>
      <div class="example-contents">

  <div class="para content-editable" id="para1" contentEditable="true">
Consider a large-city newspaper publisher. Ten years ago, when culling r&#233;sum&#233;s for an entry-level copywriter, they were well assured that if they selected a grad with a GPA 
of 3.7 or 
higher, they'd have someone with the writing skills to contribute to the workplace on day one. But over the last few years, they've noticed that A-level students don't have the 
competency evident in the past. More and more, they find themselves in the position of educating new hires in abilities that, in the past, had been mastered during their education.
  </div>
  <div class="para content-editable" id="para1" contentEditable="true">
This story illustrates a growing concern referred to as <dfn class="term">grade inflation</dfn>&#151;a term used to describe the observation that the correspondence between letter 
grades 
and the achievements they reflect has been changing (in a downward direction) over time. Put simply, what used to be considered C-level, or average, now often earns a student a B, or 
even an A. 
  </div>

      </div>
      </div>
    </div>
  </div>
</div>

  <h2 class="section-header" id="section-quiz">
    <strong class="title content-editable" contentEditable="true">Section Quiz</strong>
  </h2>
<!--
<div class="para content-editable convert-to-header" contentEditable="true">
<em class="emphasis">Section Quiz</em>
</div>
-->

<div class="canvas-wrap" contenteditable="false">
  <div class="canvas canvas-unhovered exercise" id="ffexercise1">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
<!--
        <a class="unelement-element" href="#" data-elementtype="exercise" title="Remove the &quot;Exercise&quot; formatting, reverting the content to regular paragraph(s).">
          <img src="content_files/broom-04.png">
        </a>
-->
        <a class="edit-element" href="#" data-elementtype="exercise" title="Edit options for this exercise">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this exercise">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
      <h2 class="exercise-header">
        <span class="cnx_label">Exercise 1</span>
        <strong class="title content-editable" style="display: none;" contenteditable="true">
          <span class="hint-text">Add a title (optional)</span>
        </strong>
      </h2>
      <div class="exercise-contents">
        <div class="problem">
          <div class="problem-contents">
            <div class="para content-editable" contenteditable="true">
              Which of the following is not a manifest function of education? Hint: The answer can be found in the "Manifest Functions" section.
            </div>
            <div class="list content-editable" id="fs-id1703667" contenteditable="true">
              <ol class="lower-alpha content-editable" contenteditable="true">
                <li class="item">Cultural innovation </li>
                <li class="item">Courtship </li>
                <li class="item">Social placement </li>
                <li class="item">Socialization</li>
              </ol>
            </div>
          </div>
        </div>
        <div class="canvas-wrap" contenteditable="false">
          <div class="solution canvas canvas-unhovered" style="display: block">
            <div class="canvas-inner">
              <div style="display: none;" class="canvas-buddy-2">
                <a class="edit-element" href="#" data-elementtype="solution" title="Edit options for this solution">
                  <img src="content_files/options-05.png" style="">
                </a>
                <a class="remove-element" href="#" title="Remove this solution">
                  <img src="content_files/remove-element-01.png">
                </a>
              </div>
              <div class="canvas-buddy nodrag" style="cursor: auto; display: none;">
                <a class="drag-element" href="#" title="You can only drag this element within exercises!">
                  <img src="content_files/drag-element-19.png">
                </a>
              </div>
              <h4 class="solution-header">
                <span class="cnx_label">Solution</span>
              </h4>
              <div class="solution-contents">
                <div class="para content-editable" contenteditable="true">
                B
                </div>
              </div>
              <div class="solution-toggle-hide">
                <span class="solution-toggle">
                  [ Hide Solution ]
                </span>
              </div>
            </div>
          </div>
        </div>
        <div class="solution-toggle-show" style="display: none;">
          <span class="solution-toggle">
            [ Show Solution ]
          </span>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="canvas-wrap" contenteditable="false">
  <div class="canvas canvas-unhovered exercise" id="ffexercise2">
    <div class="canvas-inner">
      <div style="display: none;" class="canvas-buddy-2">
<!--
        <a class="unelement-element" href="#" data-elementtype="exercise" title="Remove the &quot;Exercise&quot; formatting, reverting the content to regular paragraph(s).">
          <img src="content_files/broom-04.png">
        </a>
-->
        <a class="edit-element" href="#" data-elementtype="exercise" title="Edit options for this exercise">
          <img src="content_files/options-05.png">
        </a>
        <a class="remove-element" href="#" title="Remove this exercise">
          <img src="content_files/remove-element-01.png">
        </a>
      </div>
      <div style="display: none;" class="canvas-buddy">
        <a class="drag-element" href="#" title="Drag this element to another location">
          <img src="content_files/drag-element-19.png">
        </a>
      </div>
      <h2 class="exercise-header">
        <span class="cnx_label">Exercise 2</span>
        <strong class="title content-editable" style="display: none;" contenteditable="true">
          <span class="hint-text">Add a title (optional)</span>
        </strong>
      </h2>
      <div class="exercise-contents">
        <div class="problem">
          <div class="problem-contents">
            <div class="para content-editable" contenteditable="true">
              Because she plans on achieving success in marketing, Tammie is taking courses on managing social media. This is an example of ________.
            </div>
            <div class="list content-editable" contenteditable="true">
              <ol class="lower-alpha cotent-editable" contenteditable="true">
                <li class="item">cultural innovation</li>
                <li class="item">social control</li>
                <li class="item">social placement </li>
                <li class="item">socialization</li>
              </ol>
            </div>
          </div>
        </div>
        <div class="canvas-wrap" contenteditable="false">
          <div class="solution canvas canvas-unhovered" style="display: block;">
            <div class="canvas-inner">
              <div style="display: none;" class="canvas-buddy-2">
                <a class="edit-element" href="#" data-elementtype="solution" title="Edit options for this solution">
                  <img src="content_files/options-05.png" style="">
                </a>
                <a class="remove-element" href="#" title="Remove this solution">
                  <img src="content_files/remove-element-01.png">
                </a>
              </div>
              <div class="canvas-buddy nodrag" style="cursor: auto; display: none;">
                <a class="drag-element" href="#" title="You can only drag this element within exercises!">
                  <img src="content_files/drag-element-19.png">
               </a>
              </div>
              <h4 class="solution-header">
                <span class="cnx_label">Solution</span>
              </h4>
              <div class="solution-contents">
                <div class="para content-editable" contenteditable="true">
                C
                </div>
              </div>
              <div class="solution-toggle-hide">
                <span class="solution-toggle">
                  [ Hide Solution ]
                </span>
              </div>
            </div>
          </div>
        </div>
        <div class="solution-toggle-show" style="display: none;">
          <span class="solution-toggle">
            [ Show Solution ]
          </span>
        </div>
      </div>
    </div>
  </div>
</div>

  <h2 class="section-header" id="further-research">
    <strong class="title content-editable" contentEditable="true">Further Research</strong>
  </h2>
<!--
<div class="para content-editable convert-to-header" contentEditable="true">
<em class="emphasis">Further Research</em>
</div>
-->

  <div class="para content-editable" id="para1" contentEditable="true">
The National Center for Fair &amp; Open Testing (FairTest) is committed to ending the bias and other flaws seen in standardized testing. Their mission is to ensure that students, 
teachers, and schools are evaluated fairly. You can learn more about their mission, as well as the latest in news on test bias and fairness, at their website: <a class="link" 
href="http://fairtest.org/">http://fairtest.org/</a>
  </div>


<br/>









</div>

<span class="add-module-plus" title="Add another module here">+</span>

<div class="paper">









<!--
        <div id="cnx_module_header" style="margin-bottom: 1.5em;">
          <h1 class="content-editable" contentEditable="true">Theoretical Perspectives on Education</h1>
        </div>
-->


  <h2 class="section-header" id="theoretical-perspectives">
    <strong class="title content-editable" contentEditable="true">Theoretical Perspectives</strong>
  </h2>
<br/>

  <h3 class="section-header">
    <strong class="title content-editable" contentEditable="true">Functionalism</strong>
  </h3>
<!--
<div class="para content-editable convert-to-header" contentEditable="true">
<em class="emphasis">Functionalism</em>
</div>
-->
<div class="para content-editable" contentEditable="true">
Functionalists view education as one of the more important social institutions in a society. They contend that education contributes two kinds of functions: manifest (or primary) 
functions, which are the intended and visible functions of education; and latent (or secondary) functions, which are the hidden and unintended functions. 
</div>

  <h3 class="section-header">
    <strong class="title content-editable" contentEditable="true">Manifest Functions</strong>
  </h3>
<!--
<div class="para content-editable convert-to-header" contentEditable="true">
<em class="emphasis">Manifest Functions</em>
</div>
-->
<div class="para content-editable" contentEditable="true">
There are several major manifest functions associated with education. The first is socialization. Beginning in preschool and kindergarten, students are taught to practice various 
societal roles. The French sociologist &#201;mile Durkheim (1858-1917), who established the academic discipline of sociology, characterized schools as "socialization agencies that 
teach children how to get along with others and prepare them for adult economic roles" (Durkheim 1898).
</div>

  <h3 class="section-header">
    <strong class="title content-editable" contentEditable="true">Latent Functions</strong>
  </h3>
<!--
<div class="para content-editable convert-to-header" contentEditable="true">
<em class="emphasis">Latent Functions</em>
</div>
-->
<div class="para content-editable" contentEditable="true">
Education also fulfills latent functions (shown in the table) . As you well know, much goes on in a school that has little to do with formal education. For example, you might notice 
an attractive fellow student when he gives a particularly interesting answer in class&#151;catching up with him and making a date speaks to the latent function of courtship fulfilled 
by exposure to a peer group in the educational setting.
</div>

  <h3 class="section-header">
    <strong class="title content-editable" contentEditable="true">Conflict Theory</strong>
  </h3>
<!--
<div class="para content-editable convert-to-header" contentEditable="true">
<em class="emphasis">Conflict Theory</em>
</div>
-->
<div class="para content-editable" contentEditable="true">
Conflict theorists do not believe that public schools reduce social inequality. Rather, they believe that the educational system reinforces and perpetuates social inequalities arising 
from differences in class, gender, race, and ethnicity. Where functionalists see education as serving a beneficial role, conflict theorists view it more negatively. To them, 
educational systems preserve the status quo and push people of lower status into obedience.
</div>

  <h3 class="section-header">
    <strong class="title content-editable" contentEditable="true">Feminist Theory</strong>
  </h3>
<!--
<div class="para content-editable convert-to-header" contentEditable="true">
<em class="emphasis">Feminist Theory</em>
</div>
-->
<div class="para content-editable" contentEditable="true">
Feminist theory aims to understand the mechanisms and roots of gender inequality in education, as well as their societal repercussions. Like many other institutions of society, 
educational systems are characterized by unequal treatment and opportunity for women. Almost two-thirds of the world's 862 million illiterate people are women, and the 
illiteracy rate among women is expected to increase in many regions, especially in several African and Asian countries (UNESCO 2005; 'World Bank 2007). 
</div>

  <h3 class="section-header">
    <strong class="title content-editable" contentEditable="true">Symbolic Interactionism</strong>
  </h3>
<!--
<div class="para content-editable convert-to-header" contentEditable="true">
<em class="emphasis">Symbolic Interactionism</em>
</div>
-->
<div class="para content-editable" contentEditable="true">
Symbolic interactionism sees education as one way labeling theory is seen in action. A symbolic interactionist might say that this labeling has a direct correlation to those who are 
in power and those who are being labeled. For example, low standardized test scores or poor performance in a particular class often lead to a student being labeled as a low achiever. 
Such labels are difficult to "shake off," which can create a self-fulfilling prophecy (Merton 1968).
</div>

  <h2 class="section-header" id="module-summary">
    <strong class="title content-editable" contentEditable="true">Summary</strong>
  </h2>
<!--
<div class="para content-editable convert-to-header" contentEditable="true">
<em class="emphasis">Summary</em>
</div>
-->
<div class="para content-editable" contentEditable="true">
The major sociological theories offer insight into how we understand education. Functionalists view education as an important social institution that contributes both manifest and 
latent functions. Functionalists see education as serving the needs of society by preparing students for later roles, or functions, in society. Conflict theorists see schools as a 
means for perpetuating class, racial-ethnic, and gender inequalities. In the same vein, feminist theory focuses specifically on the mechanisms and roots of gender inequality in 
education. The theory of symbolic interactionism focuses on education as a means for labeling individuals.
</div>

</div>





</div>
<!--
</div>
-->
 <!-- End of #canvas, I think -->



<div style="
margin: -1.5em 25px 2em; 
float: left; 
cursor: pointer;
padding: .4em 25px .4em .75em;
padding: .8em .75em;
padding-left: 0;
padding-right: 3em;
color: #369;
font-size: .9em;
width: 31%;
background-image: url(content_files/up-arrow-02.png); /* Icon from http://iconza.com */
background-image: none;
background-repeat: no-repeat;
background-position: right center;
display: none;
">
  Previous Module: Exponent Concepts
</div>

<div style="margin: -1.5em 25px 2em; float: right; cursor: pointer;
padding: .4em 25px .4em .75em;
padding: .8em .75em;
padding-left: 3em;
padding-right: 0;
color: #369;
font-size: .9em;
width: 31%;
background-image: url(content_files/up-arrow-02.png); /* Icon from http://iconza.com */
background-image: none;
background-repeat: no-repeat;
background-position: right center;
display: none;
">
  Next Module: Zero, Negative Numbers, and Fractions as Exponents
</div>

<div id="add-module-bottom" style="text-align: center;">
<div id="add-module-bottom-button"
style="
margin: -1.5em 25px 2em; 
/*
float: left; 
*/
display: inline-block;
cursor: pointer;
padding: .4em 25px .4em .75em;
padding: .4em .75em .4em 25px;
background-color: #1FB04C;
background-color: #fff;
font-size: .9em;
background-image: url(content_files/module-01.png); /* Icon from http://iconza.com */
background-repeat: no-repeat;
background-position: 5px center;
border: 1px solid #137139;
border: 1px solid #888;

background-color: #1FB04C;
background-color: #F89406;
background-color: #E16C26;
border: 1px solid #9E4626;
border: 1px solid #137139;

position: relative;
z-index: 532;
margin: auto;
margin-top: -1em;
margin: 0 auto 2em;
color: #fff;
text-align: center;
">
  Add module here
</div>
</div>










<div class="section" style="display: none;">
  <h2 class="section-header">
    <strong class="title content-editable" contentEditable="true">Signals</strong>
  </h2>

  <div class="section-contents">

  <div class="para content-editable" id="para1" contentEditable="true">
    A signal's complexity is not related to how wiggly it is. Rather, a signal 
    expert looks for ways of <a href="http://users.ece.gatech.edu/~vkm/nii/node35.html" class="link">decomposing a given signal</a> into a  <em class="emphasis">sum of 
    simpler signals</em>, which we term the <dfn class="term">signal decomposition</dfn>. 
    Though we will never compute a signal's complexity, it essentially equals the 
    number of terms in its decomposition. In writing a signal as a sum of component 
    signals, we can change the component signal's gain by multiplying it by a constant 
    and by delaying it. 





More complicated decompositions could contain derivatives 
    or integrals of simple signals. In short, signal decomposition amounts to 
    thinking of the signal as the output of a linear system having simple signals as 
    its inputs. We would build such a system, but envisioning the signal's components
    helps understand the signal's structure. Furthermore, you can readily compute a
    linear system's output to an input decomposed as a superposition of simple signals.


<!-- Editable Equation -->
<span style="" aria-readonly="true" role="textbox" class="MathJax"><span class="asciimath" style="display: none;">x+sqrt(1-x^2)</span><span 
class="actual-math"><nobr><span id="MathJax-Span-5" 
class="math"><span 
style="display: 
inline-block; 
position: relative; 
width: 5.393em; height: 0px; font-size: 139%;"><span style="position: absolute; top: -2.18em; left: 0em; clip: rect(1.163em, 1000em, 2.455em, -0.472em);"><span 
id="MathJax-Span-6" class="mrow"><span id="MathJax-Span-7" class="mrow"><span id="MathJax-Span-8" class="mi"><img style="width: 9px; height: 7px; margin-right: 0.047em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Math/Italic/120/0078.png"></span><span style="padding-left: 0.222em;" id="MathJax-Span-9" class="mo"><img 
style="width: 12px; height: 12px; vertical-align: -1px; margin-right: 0.053em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Regular/120/002B.png"></span><span style="padding-left: 0.222em;" id="MathJax-Span-10" 
class="msqrt"><span style="display: inline-block; position: relative; width: 3.677em; height: 0px;"><span style="position: absolute; top: -2.18em; left: 0.843em; clip: 
rect(1.273em, 1000em, 2.359em, -0.426em);"><span id="MathJax-Span-11" class="mrow"><span id="MathJax-Span-12" class="mn"><img style="width: 8px; height: 12px; 
margin-right: 0.07em;" src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Regular/120/0031.png"></span><span style="padding-left: 0.222em;" 
id="MathJax-Span-13" class="mo"><img style="width: 12px; height: 1px; vertical-align: 4px; margin-right: 0.08em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Regular/120/2212.png"></span><span style="padding-left: 0.222em;" id="MathJax-Span-14" 
class="msup"><span style="display: inline-block; position: relative; width: 1.105em; height: 0px;"><span style="position: absolute; top: -2.18em; left: 0em; clip: 
rect(1.588em, 1000em, 2.359em, -0.472em);"><span id="MathJax-Span-15" class="mi"><img style="width: 9px; height: 7px; margin-right: 0.047em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Math/Italic/120/0078.png"></span>&nbsp;<span style="display: inline-block; width: 0px; height: 
2.18em;"></span></span><span style="position: absolute; top: -2.469em; left: 0.637em;"><span style="font-size: 70.7%;" id="MathJax-Span-16" class="mn"><img style="width: 
6px; height: 8px; margin-right: 0.049em;" src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Regular/085/0032.png"></span>&nbsp;<span style="display: 
inline-block; width: 0px; height: 2.18em;"></span></span></span></span></span>&nbsp;<span style="display: inline-block; width: 0px; height: 2.18em;"></span></span><span 
style="position: absolute; top: -2.77em; left: 0.843em; clip: rect(1.753em, 1000em, 2.129em, -0.506em);"><span style="display: inline-block; position: relative; width: 
2.834em; height: 0px;"><span style="position: absolute; top: -2.18em; left: -0.079em;"><img style="width: 12px; height: 1px; vertical-align: 4px; margin-right: 0.08em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Regular/120/2212.png">&nbsp;<span style="display: inline-block; width: 0px; height: 
2.18em;"></span></span><span style="position: absolute; top: -2.18em; left: 2.171em;"><img style="width: 12px; height: 1px; vertical-align: 4px; margin-right: 0.08em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Regular/120/2212.png">&nbsp;<span style="display: inline-block; width: 0px; height: 
2.18em;"></span></span><span style="position: absolute; top: -2.18em; left: 0.351em;"><img style="width: 12px; height: 1px; vertical-align: 4px; margin-right: 0.08em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Regular/120/2212.png">&nbsp;<span style="display: inline-block; width: 0px; height: 
2.18em;"></span></span><span style="position: absolute; top: -2.18em; left: 0.806em;"><img style="width: 12px; height: 1px; vertical-align: 4px; margin-right: 0.08em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Regular/120/2212.png">&nbsp;<span style="display: inline-block; width: 0px; height: 
2.18em;"></span></span><span style="position: absolute; top: -2.18em; left: 1.261em;"><img style="width: 12px; height: 1px; vertical-align: 4px; margin-right: 0.08em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Regular/120/2212.png">&nbsp;<span style="display: inline-block; width: 0px; height: 
2.18em;"></span></span><span style="position: absolute; top: -2.18em; left: 1.716em;"><img style="width: 12px; height: 1px; vertical-align: 4px; margin-right: 0.08em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Regular/120/2212.png">&nbsp;<span style="display: inline-block; width: 0px; height: 
2.18em;"></span></span></span>&nbsp;<span style="display: inline-block; width: 0px; height: 2.18em;"></span></span><span style="position: absolute; top: -2.264em; left: 
0em; clip: rect(1.247em, 1000em, 2.539em, -0.437em);"><span><img style="width: 15px; height: 18px; vertical-align: -4px; margin-right: -0.019em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Regular/120/221A.png"></span>&nbsp;<span style="display: inline-block; width: 0px; height: 
2.18em;"></span></span></span></span></span></span>&nbsp;<span style="display: inline-block; width: 0px; height: 2.18em;"></span></span></span><span style="border-left: 
0em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.328em; vertical-align: -0.148em;"></span></span></nobr></span>
<span class="ascii-math-error-message" style="display: none;">ASCIIMath error: syntax error</span>
<span class="math-error-message" style="display: none;">LaTeX error: sqrt requires initial backslash: \sqrt</span>
<script 
id="MathJax-Element-1" 
type="math/mml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="inline"><semantics><mrow>
    <mi>x</mi>
    <mo>+</mo>
    <msqrt>
      <mn>1</mn>
      <mo>-</mo>
      <msup>
        <mi>x</mi>
        <mn>2</mn>
      </msup>
    </msqrt>
</mrow><annotation-xml encoding="MathML-Content"><mi xmlns:cnxorg="http://cnx.rice.edu/system-info">x</mi><mo xmlns:cnxorg="http://cnx.rice.edu/system-info">+</mo><msqrt 
xmlns:cnxorg="http://cnx.rice.edu/system-info">
      <mn>1</mn>
      <mo>-<!-- &amp;#8722; --></mo>
      <msup>
        <mi>x</mi>
        <mn>2</mn>
      </msup>
    </msqrt></annotation-xml></semantics></math></script>

</div>


<div class="canvas-wrap" contenteditable="false">
  <div class="canvas inactive example" id="ex1">
<div class="canvas-inner">
<div style="display: none;" class="canvas-buddy-2">
  <a class="edit-element" href="#" data-elementtype="example" title="Edit options for this example">
    <img src="content_files/options-05.png">
  </a>
  <a class="remove-element" href="#" title="Remove this example">
    <img src="content_files/remove-element-01.png">
  </a>
</div>
<div style="display: none;" class="canvas-buddy">
  <a class="drag-element" href="#" title="Drag this element to another location">
    <img src="content_files/drag-element-19.png">
  </a>
</div>
<h2 class="example-header"><span class="cnx_label">Example 1</span>
<strong class="title content-editable" style="display: none;" contentEditable="true">
  <span class="hint-text">Add a title (optional)</span>
</strong>
</h2><div class="example-contents">

<p class="para content-editable" id="paraex1" contentEditable="true">
      As an example of signal complexity, we can express the pulse  
      <span style="" aria-readonly="true" role="textbox" class="MathJax"><span class="asciimath" style="display: none;">p_Delta(t)</span><span 
class="actual-math"><nobr><span 
id="MathJax-Span-9" 
class="math"><span style="display: 
inline-block; 
position: 
relative; width: 2.757em; height: 0px; font-size: 139%;"><span style="position: absolute; top: -2.319em; left: 0em; clip: rect(1.277em, 1000em, 2.86em, -0.579em);"><span 
id="MathJax-Span-10" class="mrow"><span id="MathJax-Span-11" class="mrow"><span id="MathJax-Span-12" class="mrow"><span id="MathJax-Span-13" class="mrow"><span 
id="MathJax-Span-14" class="mi"></span><span id="MathJax-Span-15" class="msub"><span style="display: inline-block; position: relative; width: 1.109em; height: 0px;"><span 
style="position: absolute; top: -2.199em; left: 0em; clip: rect(1.569em, 1000em, 2.576em, -0.579em);"><span id="MathJax-Span-16" class="mi"><img style="width: 10px; 
height: 10px; vertical-align: -3px; margin-left: -0.04em; margin-right: 0.006em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Math/Italic/120/0070.png"></span>&nbsp;<span style="display: inline-block; width: 0px; height: 
2.199em;"></span></span><span style="position: absolute; top: -1.966em; left: 0.614em;"><span 
xmlns="http://www.w3.org/1999/xhtml" class="mi" id="MathJax-Span-30" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">&#x394;</span><!--
<span style="font-size: 70.7%;" id="MathJax-Span-17" class="mi"><img style="width: 
7px; height: 8px; margin-right: -0.041em;" src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Italic/085/003F.png"></span>
-->&nbsp;<span style="display: 
inline-block; width: 0px; height: 2.199em;"></span></span></span></span><span id="MathJax-Span-18" class="mi"></span></span><span id="MathJax-Span-19" 
class="mo"></span><span style="padding-left: 0.278em;" id="MathJax-Span-20" class="mfenced"><span style="vertical-align: -0.005em;" id="MathJax-Span-21" 
class="mo"><span><img style="width: 7px; height: 20px; vertical-align: -6px; margin-right: 0.037em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Size1/Regular/120/0028.png"></span></span><span id="MathJax-Span-22" class="mrow"><span 
id="MathJax-Span-23" class="mi"><img style="width: 6px; height: 10px; margin-right: 0.032em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Math/Italic/120/0074.png"></span></span><span style="vertical-align: -0.006em;" id="MathJax-Span-24" 
class="mo"><span><img style="width: 6px; height: 20px; vertical-align: -6px; margin-right: 0.156em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Size1/Regular/120/0029.png"></span></span><span style="border-left: 0em solid; display: inline-block; 
overflow: hidden; width: 0px; height: 0.861em; vertical-align: 0em;"></span><span style="border-left: 0em solid; display: inline-block; overflow: hidden; width: 0px; 
height: 0.861em; vertical-align: 0em;"></span></span></span></span></span>&nbsp;<span style="display: inline-block; width: 0px; height: 
2.319em;"></span></span></span><span style="border-left: 0em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.7em; vertical-align: 
-0.502em;"></span></span></nobr></span></span><script type="math/mml" id="MathJax-Element-1">&lt;math xmlns="http://www.w3.org/1998/Math/MathML" 
display="inline"&gt;&lt;semantics&gt;&lt;mrow&gt;
        &lt;mrow&gt;&lt;mrow&gt;&lt;mi&gt;&lt;/mi&gt;&lt;msub&gt;
              &lt;mi&gt;p&lt;/mi&gt;
              &lt;mi&gt;?&lt;/mi&gt;
            &lt;/msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;/mrow&gt;&lt;mo&gt;&lt;/mo&gt;&lt;mfenced open="(" close=")" 
separators=","&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;/mfenced&gt;&lt;/mrow&gt;
      &lt;/mrow&gt;&lt;annotation-xml encoding="MathML-Content"&gt;&lt;apply&gt;
          &lt;ci type="fn"&gt;
            &lt;msub&gt;
              &lt;mi&gt;p&lt;/mi&gt;
              &lt;mi&gt;?&lt;/mi&gt;
            &lt;/msub&gt;
          &lt;/ci&gt;
          &lt;ci&gt;t&lt;/ci&gt;
        &lt;/apply&gt;&lt;/annotation-xml&gt;&lt;/semantics&gt;&lt;/math&gt;</script>
      as a sum of delayed unit steps.
</p>



<div class="canvas-wrap" contenteditable="false">
      <div class="equation canvas inactive" id="eq1">
<div class="canvas-inner">
<div style="display: none;" class="canvas-buddy-2">
  <a class="edit-element" href="#" data-elementtype="equation" title="Edit options for this equation">
    <img src="content_files/options-05.png">
  </a>
  <a class="remove-element" href="#" title="Remove this element">
    <img src="content_files/remove-element-01.png">
  </a>
</div>
<div style="display: none;" class="canvas-buddy">
  <a class="drag-element" href="#" title="Drag this element to another location">
    <img src="content_files/drag-element-19.png">
  </a>
</div>
<h2 class="equation-header">
<strong class="title content-editable" style="display: none;" contentEditable="true">
  <span class="hint-text">Add a title (optional)</span>
</strong>
</h2>
<div class="equation-contents"> 
        <div aria-readonly="true" role="textbox" style="width: 100%; position: relative; text-align: center;" class="MathJax_Display"><span style="" 
class="MathJax"><span class="asciimath" style="display: none;">p_Delta(t) = u(t) - u(t-Delta)</span><span 
class="actual-math"><nobr><span 
id="MathJax-Span-25" class="math"><span style="display: inline-block; position: relative; width: 11.688em; height: 0px; font-size: 
139%;"><span style="position: absolute; top: -2.319em; left: 0em; clip: rect(1.277em, 1000em, 2.86em, -0.579em);"><span id="MathJax-Span-26" class="mrow"><span 
id="MathJax-Span-27" class="mrow"><span id="MathJax-Span-28" class="mrow"><span id="MathJax-Span-29" class="mrow"><span id="MathJax-Span-30" class="mrow"><span 
id="MathJax-Span-31" class="mi"></span><span id="MathJax-Span-32" class="msub"><span style="display: inline-block; position: relative; width: 1.109em; height: 0px;"><span 
style="position: absolute; top: -2.199em; left: 0em; clip: rect(1.569em, 1000em, 2.576em, -0.579em);"><span id="MathJax-Span-33" class="mi"><img style="width: 10px; 
height: 10px; vertical-align: -3px; margin-left: -0.04em; margin-right: 0.006em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Math/Italic/120/0070.png"></span>&nbsp;<span style="display: inline-block; width: 0px; height: 
2.199em;"></span></span><span style="position: absolute; top: -1.966em; left: 0.614em;"><span 
xmlns="http://www.w3.org/1999/xhtml" class="mi" id="MathJax-Span-30" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">&#x394;</span><!--
<span style="font-size: 70.7%;" id="MathJax-Span-34" class="mi"><img style="width: 
7px; height: 8px; margin-right: -0.041em;" src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Italic/085/003F.png"></span>-->&nbsp;<span style="display: 
inline-block; width: 0px; height: 2.199em;"></span></span></span></span><span id="MathJax-Span-35" class="mi"></span></span><span id="MathJax-Span-36" 
class="mo"></span><span style="padding-left: 0.278em;" id="MathJax-Span-37" class="mfenced"><span style="vertical-align: -0.005em;" id="MathJax-Span-38" 
class="mo"><span><img style="width: 7px; height: 20px; vertical-align: -6px; margin-right: 0.037em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Size1/Regular/120/0028.png"></span></span><span id="MathJax-Span-39" class="mrow"><span 
id="MathJax-Span-40" class="mi"><img style="width: 6px; height: 10px; margin-right: 0.032em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Math/Italic/120/0074.png"></span></span><span style="vertical-align: -0.006em;" id="MathJax-Span-41" 
class="mo"><span><img style="width: 6px; height: 20px; vertical-align: -6px; margin-right: 0.156em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Size1/Regular/120/0029.png"></span></span><span style="border-left: 0em solid; display: inline-block; 
overflow: hidden; width: 0px; height: 0.861em; vertical-align: 0em;"></span><span style="border-left: 0em solid; display: inline-block; overflow: hidden; width: 0px; 
height: 0.861em; vertical-align: 0em;"></span></span></span></span><span style="padding-left: 0.278em;" id="MathJax-Span-42" class="mrow"><span id="MathJax-Span-43" 
class="mo"><img style="width: 12px; height: 4px; vertical-align: 2px; margin-right: 0.057em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Regular/120/003D.png"></span></span><span style="padding-left: 0.278em;" id="MathJax-Span-44" 
class="mrow"><span id="MathJax-Span-45" class="mrow"><span id="MathJax-Span-46" class="mrow"><span id="MathJax-Span-47" class="mrow"><span id="MathJax-Span-48" 
class="mi"><img style="width: 10px; height: 7px; margin-right: 0.021em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Math/Italic/120/0075.png"></span></span><span id="MathJax-Span-49" class="mo"></span><span 
style="padding-left: 0.278em;" id="MathJax-Span-50" class="mfenced"><span style="vertical-align: -0.005em;" id="MathJax-Span-51" class="mo"><span><img style="width: 7px; 
height: 20px; vertical-align: -6px; margin-right: 0.037em;" src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Size1/Regular/120/0028.png"></span></span><span 
id="MathJax-Span-52" class="mrow"><span id="MathJax-Span-53" class="mi"><img style="width: 6px; height: 10px; margin-right: 0.032em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Math/Italic/120/0074.png"></span></span><span style="vertical-align: -0.006em;" id="MathJax-Span-54" 
class="mo"><span><img style="width: 6px; height: 20px; vertical-align: -6px; margin-right: 0.156em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Size1/Regular/120/0029.png"></span></span><span style="border-left: 0em solid; display: inline-block; 
overflow: hidden; width: 0px; height: 0.861em; vertical-align: 0em;"></span><span style="border-left: 0em solid; display: inline-block; overflow: hidden; width: 0px; 
height: 0.861em; vertical-align: 0em;"></span></span></span><span style="padding-left: 0.222em;" id="MathJax-Span-55" class="mo"><img style="width: 12px; height: 1px; 
vertical-align: 4px; margin-right: 0.086em;" src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Regular/120/2212.png"></span><span style="padding-left: 
0.222em;" id="MathJax-Span-56" class="mrow"><span id="MathJax-Span-57" class="mrow"><span id="MathJax-Span-58" class="mi"><img style="width: 10px; height: 7px; 
margin-right: 0.021em;" src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Math/Italic/120/0075.png"></span></span><span id="MathJax-Span-59" 
class="mo"></span><span style="padding-left: 0.278em;" id="MathJax-Span-60" class="mfenced"><span style="vertical-align: -0.005em;" id="MathJax-Span-61" 
class="mo"><span><img style="width: 7px; height: 20px; vertical-align: -6px; margin-right: 0.037em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Size1/Regular/120/0028.png"></span></span><span id="MathJax-Span-62" class="mrow"><span 
id="MathJax-Span-63" class="mrow"><span id="MathJax-Span-64" class="mi"><img style="width: 6px; height: 10px; margin-right: 0.032em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Math/Italic/120/0074.png"></span></span><span style="padding-left: 0.222em;" id="MathJax-Span-65" 
class="mo"><img style="width: 12px; height: 1px; vertical-align: 4px; margin-right: 0.086em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Regular/120/2212.png"></span><span style="padding-left: 0.222em;" id="MathJax-Span-66" 
class="mrow"><!--<span id="MathJax-Span-67" class="mi">
<img style="width: 10px; height: 11px; margin-right: -0.041em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Italic/120/003F.png"></span>
--><span xmlns="http://www.w3.org/1999/xhtml" class="mi" id="MathJax-Span-30" style="font-family: MathJax_Math; font-style: italic;">&#x394;</span></span></span><span 
style="vertical-align: -0.006em;" id="MathJax-Span-68" 
class="mo"><span><img style="width: 6px; height: 20px; vertical-align: -6px; margin-right: 0.156em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Size1/Regular/120/0029.png"></span></span><span style="border-left: 0em solid; display: inline-block; 
overflow: hidden; width: 0px; height: 0.861em; vertical-align: 0em;"></span><span style="border-left: 0em solid; display: inline-block; overflow: hidden; width: 0px; 
height: 0.861em; vertical-align: 0em;"></span></span></span></span></span></span></span>&nbsp;<span style="display: inline-block; width: 0px; height: 
2.319em;"></span></span></span><span style="border-left: 0em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.7em; vertical-align: 
-0.502em;"></span></span></nobr></span></span></div><script type="math/mml" id="MathJax-Element-2">&lt;math xmlns="http://www.w3.org/1998/Math/MathML" 
display="block"&gt;&lt;semantics&gt;&lt;mrow&gt;
          &lt;mrow&gt;&lt;mrow&gt;&lt;mrow&gt;&lt;mi&gt;&lt;/mi&gt;&lt;msub&gt;
                    &lt;mi&gt;p&lt;/mi&gt;
                    &lt;mi&gt;?&lt;/mi&gt;
                  &lt;/msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;/mrow&gt;&lt;mo&gt;&lt;/mo&gt;&lt;mfenced open="(" close=")" 
separators=","&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;/mfenced&gt;&lt;/mrow&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;mrow&gt;&lt;mrow&gt;&lt;mrow&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/mrow&gt;&lt;mo&gt;&lt;/mo&gt;&lt;mfenced 
open="(" close=")" 
separators=","&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;/mfenced&gt;&lt;/mrow&gt;&lt;mo&gt;-&lt;/mo&gt;&lt;mrow&gt;&lt;mrow&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/mrow&gt;&lt;mo&gt;&lt;/mo&gt;&lt;mfenced 
open="(" close=")" 
separators=","&gt;&lt;mrow&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;mo&gt;-&lt;/mo&gt;&lt;mrow&gt;&lt;mi&gt;?&lt;/mi&gt;&lt;/mrow&gt;&lt;/mrow&gt;&lt;/mfenced&gt;&lt;/mrow&gt;&lt;/mrow&gt;&lt;/mrow&gt;
        &lt;/mrow&gt;&lt;annotation-xml encoding="MathML-Content"&gt;&lt;apply&gt;
            &lt;eq/&gt;
              &lt;apply&gt;
                &lt;ci type="fn"&gt;
                  &lt;msub&gt;
                    &lt;mi&gt;p&lt;/mi&gt;
                    &lt;mi&gt;?&lt;/mi&gt;
                  &lt;/msub&gt;
                &lt;/ci&gt;
                &lt;ci&gt;t&lt;/ci&gt;
              &lt;/apply&gt;
              &lt;apply&gt;
                &lt;minus/&gt;
                &lt;apply&gt;
                    &lt;ci type="fn"&gt;u&lt;/ci&gt;
                  &lt;ci&gt;t&lt;/ci&gt;
                &lt;/apply&gt;
                &lt;apply&gt;
                    &lt;ci type="fn"&gt;u&lt;/ci&gt;
                  &lt;apply&gt;

                      &lt;minus/&gt;
                        &lt;ci&gt;t&lt;/ci&gt;
                        &lt;ci&gt;?&lt;/ci&gt;
                  &lt;/apply&gt;
                &lt;/apply&gt;

              &lt;/apply&gt;
          &lt;/apply&gt;&lt;/annotation-xml&gt;&lt;/semantics&gt;&lt;/math&gt;</script>
      </div><span class="equation-number">(1)</span></div>
</div>
</div>

      Thus, the pulse is a more complex signal than the step. Be that as it may,
      the pulse is very useful to us.
    <p></p></div>
</div>
</div>
</div>


<div class="canvas-wrap">
  <div class="canvas inactive exercise" id="swsuper">
<div class="canvas-inner">
<div style="display: none;" class="canvas-buddy-2">
  <a class="edit-element" href="#" title="Edit options for this element">
    <img src="content_files/options-05.png" style="">
  </a>
  <a class="remove-element" href="#" title="Remove this element">
    <img src="content_files/remove-element-01.png">
  </a>
</div>
<div style="display: none;" class="canvas-buddy">
  <a class="drag-element" href="#" title="Drag this element to another location">
    <img src="content_files/drag-element-19.png">
  </a>
</div>
<h2 class="exercise-header"><span class="cnx_label">Exercise 1</span>
<strong class="title content-editable" style="display: none;" contentEditable="true">
  <span class="hint-text">Add a title (optional)</span>
</strong>
</h2><div class="exercise-contents"><div class="problem"><div class="problem-contents">

      <p class="para content-editable" id="swsupera" contentEditable="true">
        Express a square wave having period   
        <span style="" aria-readonly="true" role="textbox" class="MathJax"><span class="asciimath" style="display: none;">T</span><span 
class="actual-math"><nobr><span 
id="MathJax-Span-69" class="math"><span style="display: inline-block; position: 
relative; width: 0.599em; height: 0px; font-size: 139%;"><span style="position: absolute; top: -2.199em; left: 0em; clip: rect(1.328em, 1000em, 2.379em, -0.518em);"><span 
id="MathJax-Span-70" class="mrow"><span id="MathJax-Span-71" class="mrow"><span id="MathJax-Span-72" class="mrow"><span id="MathJax-Span-73" class="mi"><img style="width: 
12px; height: 11px; margin-right: -0.123em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Math/Italic/120/0054.png"></span></span></span></span>&nbsp;<span style="display: inline-block; width: 0px; 
height: 2.199em;"></span></span></span><span style="border-left: 0em solid; display: inline-block; overflow: hidden; width: 0px; height: 0.96em; vertical-align: 
0em;"></span></span></nobr></span></span><script type="math/mml" id="MathJax-Element-3">&lt;math xmlns="http://www.w3.org/1998/Math/MathML" 
display="inline"&gt;&lt;semantics&gt;&lt;mrow&gt;
          &lt;mrow&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/mrow&gt;
        &lt;/mrow&gt;&lt;annotation-xml encoding="MathML-Content"&gt;&lt;ci&gt;T&lt;/ci&gt;&lt;/annotation-xml&gt;&lt;/semantics&gt;&lt;/math&gt;</script> and amplitude
        <span style="" aria-readonly="true" role="textbox" class="MathJax"><span class="asciimath" style="display: none;">A</span><span 
class="actual-math"><nobr><span 
id="MathJax-Span-74" class="math"><span style="display: inline-block; position: 
relative; width: 0.779em; height: 0px; font-size: 139%;"><span style="position: absolute; top: -2.199em; left: 0em; clip: rect(1.288em, 1000em, 2.379em, -0.504em);"><span 
id="MathJax-Span-75" class="mrow"><span id="MathJax-Span-76" class="mrow"><span id="MathJax-Span-77" class="mrow"><span id="MathJax-Span-78" class="mi"><img style="width: 
13px; height: 11px; margin-right: 0.023em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Math/Italic/120/0041.png"></span></span></span></span>&nbsp;<span style="display: inline-block; width: 0px; 
height: 2.199em;"></span></span></span><span style="border-left: 0em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.016em; vertical-align: 
0em;"></span></span></nobr></span></span><script type="math/mml" id="MathJax-Element-4">&lt;math xmlns="http://www.w3.org/1998/Math/MathML" 
display="inline"&gt;&lt;semantics&gt;&lt;mrow&gt;
          &lt;mrow&gt;&lt;mi&gt;A&lt;/mi&gt;&lt;/mrow&gt;
        &lt;/mrow&gt;&lt;annotation-xml encoding="MathML-Content"&gt;&lt;ci&gt;A&lt;/ci&gt;&lt;/annotation-xml&gt;&lt;/semantics&gt;&lt;/math&gt;</script>
        as a superposition of delayed and amplitude-scaled pulses.
      </p>

    </div></div>
<div class="canvas-wrap">
<div class="solution canvas inactive" style="display: block;">
<div class="canvas-inner">
<div style="display: none;" class="canvas-buddy-2">
  <a class="edit-element" href="#" title="Edit options for this element">
    <img src="content_files/options-05.png" style="">
  </a>
  <a class="remove-element" href="#" title="Remove this element">
    <img src="content_files/remove-element-01.png">
  </a>
</div>
<div class="canvas-buddy nodrag" style="cursor: auto; display: none;">
  <a class="drag-element" href="#" title="You can only drag this element within exercises!">
    <img src="content_files/drag-element-19.png">
  </a>
</div>
<h3 class="solution-header"><span class="cnx_label">Solution</span>
<!--
<strong class="title content-editable" style="display: none;" contentEditable="true">
  <span class="hint-text">Add a title (optional)</span>
</strong>
-->
</h3><div class="solution-contents">

<p class="para content-editable" id="swsuperb" contentEditable="true">
        <span style="" aria-readonly="true" role="textbox" class="MathJax"><span class="asciimath" style="display: none;">sq(t) sum_(n=-infty)^infty 
(-1)^n A p_{p/2}{t-n{T/2}}</span><span 
class="actual-math"><nobr><span 
id="MathJax-Span-79" 
class="math"><span 
style="display: 
inline-block; position: 
relative; width: 16.843em; height: 0px; font-size: 139%;"><span style="position: absolute; top: -2.858em; left: 0em; clip: rect(1.143em, 1000em, 3.819em, 
-0.507em);"><span id="MathJax-Span-80" class="mrow"><span id="MathJax-Span-81" class="mrow"><span id="MathJax-Span-82" class="mrow"><span id="MathJax-Span-83" 
class="mrow"><span id="MathJax-Span-84" class="mrow"><span id="MathJax-Span-85" class="mi"><img style="width: 6px; height: 8px; margin-right: 0.036em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Regular/120/0073.png"><img style="width: 9px; height: 12px; vertical-align: -4px; margin-right: 
-0.007em;" src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Regular/120/0071.png"></span></span><span id="MathJax-Span-86" class="mo"></span><span 
style="padding-left: 0.278em;" id="MathJax-Span-87" class="mfenced"><span style="vertical-align: -0.005em;" id="MathJax-Span-88" class="mo"><span><img style="width: 7px; 
height: 20px; vertical-align: -6px; margin-right: 0.037em;" src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Size1/Regular/120/0028.png"></span></span><span 
id="MathJax-Span-89" class="mrow"><span id="MathJax-Span-90" class="mi"><img style="width: 6px; height: 10px; margin-right: 0.032em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Math/Italic/120/0074.png"></span></span><span style="vertical-align: -0.006em;" id="MathJax-Span-91" 
class="mo"><span><img style="width: 6px; height: 20px; vertical-align: -6px; margin-right: 0.156em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Size1/Regular/120/0029.png"></span></span><span style="border-left: 0em solid; display: inline-block; 
overflow: hidden; width: 0px; height: 0.861em; vertical-align: 0em;"></span><span style="border-left: 0em solid; display: inline-block; overflow: hidden; width: 0px; 
height: 0.861em; vertical-align: 0em;"></span></span></span>
<!--
<span style="padding-left: 0.278em;" id="MathJax-Span-92" class="mo"><img style="width: 12px; height: 4px; 
vertical-align: 2px; margin-right: 0.057em;" src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Regular/120/003D.png"></span>
-->
<span xmlns="http://www.w3.org/1999/xhtml" class="mo" id="MathJax-Span-214" style="font-family: MathJax_Size1; font-size: 1.3em; vertical-align: 0em;">&#x3a3;</span>
<span 
id="MathJax-Span-93" 
class="mrow"><span id="MathJax-Span-94" class="munderover"><span style="display: inline-block; position: relative; width: 2.038em; height: 0px;"><span style="position: 
absolute; top: -2.199em; left: 0.779em; clip: rect(1.3em, 1000em, 2.378em, -0.483em);"><!--
<span id="MathJax-Span-95" class="mo"><img style="width: 7px; height: 12px; 
margin-right: 0.057em;" src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Regular/120/003F.png"></span>
--><!--<span xmlns="http://www.w3.org/1999/xhtml" class="mi" id="MathJax-Span-216" style="font-family: MathJax_Main; ">&#x221e;</span>&nbsp;<span style="display: 
inline-block; width: 
0px; height: 2.199em;"></span>--></span><span style="position: absolute; top: -1.517em; left: 0em; clip: rect(1.503em, 1000em, 2.479em, -0.539em);"><span 
id="MathJax-Span-96" class="mrow"><span style="font-size: 70.7%;" id="MathJax-Span-97" class="mi"><span id="MathJax-Span-98" class="mrow"><span style="font-size: 70.7%;" 
id="MathJax-Span-99" class="mi"><img style="width: 7px; height: 5px; margin-right: 0.02em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Math/Italic/085/006E.png"></span></span></span><span style="font-size: 70.7%;" id="MathJax-Span-100" 
class="mi"><img style="width: 10px; height: 3px; vertical-align: 1px; margin-right: -0.009em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Italic/085/003D.png"></span><span id="MathJax-Span-101" class="mrow"><span style="font-size: 70.7%;" 
id="MathJax-Span-102" class="mo"><img style="width: 9px; height: 1px; vertical-align: 2px; margin-right: 0.085em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Regular/085/2212.png"></span><!--
<span style="font-size: 70.7%;" id="MathJax-Span-103" class="mi"><img 
style="width: 7px; height: 8px; margin-right: -0.041em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Italic/085/003F.png"></span>
--><span xmlns="http://www.w3.org/1999/xhtml" class="mi" id="MathJax-Span-216" style="font-size: 70.7%; font-family: MathJax_Main;">&#x221e;</span></span></span>&nbsp;<span 
style="display: inline-block; width: 0px; 
height: 2.199em;"></span></span><span style="position: absolute; top: -3.118em; left: 0.809em; clip: rect(1.403em, 1000em, 2.379em, -0.399em);"><span 
id="MathJax-Span-104" class="mrow"><!--
<span style="font-size: 70.7%;" id="MathJax-Span-105" class="mi"><img style="width: 7px; height: 8px; margin-right: -0.041em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Italic/085/003F.png"></span>
--><span xmlns="http://www.w3.org/1999/xhtml" class="mi" id="MathJax-Span-216" style="font-size: 70.7%; font-family: MathJax_Main; ">&#x221e;</span></span>&nbsp;<span 
style="display: inline-block; width: 0px; height: 
2.199em;"></span></span></span></span><span id="MathJax-Span-106" class="mrow"><span id="MathJax-Span-107" class="msup"><span style="display: inline-block; position: 
relative; width: 2.907em; height: 0px;"><span style="position: absolute; top: -2.319em; left: 0em; clip: rect(1.277em, 1000em, 2.86em, -0.385em);"><span 
id="MathJax-Span-108" class="mfenced"><span style="vertical-align: -0.005em;" id="MathJax-Span-109" class="mo"><span><img style="width: 7px; height: 20px; vertical-align: 
-6px; margin-right: 0.037em;" src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Size1/Regular/120/0028.png"></span></span><span id="MathJax-Span-110" 
class="mrow"><span id="MathJax-Span-111" class="mo"><img style="width: 12px; height: 1px; vertical-align: 4px; margin-right: 0.086em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Regular/120/2212.png"></span><span id="MathJax-Span-112" class="mn"><img style="width: 8px; height: 
12px; margin-right: 0.074em;" src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Regular/120/0031.png"></span></span><span style="vertical-align: 
-0.006em;" id="MathJax-Span-113" class="mo"><span><img style="width: 6px; height: 20px; vertical-align: -6px; margin-right: 0.156em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Size1/Regular/120/0029.png"></span></span><span style="border-left: 0em solid; display: inline-block; 
overflow: hidden; width: 0px; height: 0.861em; vertical-align: 0em;"></span><span style="border-left: 0em solid; display: inline-block; overflow: hidden; width: 0px; 
height: 0.861em; vertical-align: 0em;"></span></span>&nbsp;<span style="display: inline-block; width: 0px; height: 2.319em;"></span></span><span style="position: 
absolute; top: -2.787em; left: 2.413em;"><span id="MathJax-Span-114" class="mrow"><span style="font-size: 70.7%;" id="MathJax-Span-115" class="mi"><img style="width: 7px; 
height: 5px; margin-right: 0.02em;" src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Math/Italic/085/006E.png"></span></span>&nbsp;<span style="display: 
inline-block; width: 0px; height: 2.199em;"></span></span></span></span><span id="MathJax-Span-116" class="mo"></span><span style="padding-left: 0.278em;" 
id="MathJax-Span-117" class="mrow"><span id="MathJax-Span-118" class="mi"><img style="width: 13px; height: 11px; margin-right: 0.023em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Math/Italic/120/0041.png"></span></span><span id="MathJax-Span-119" class="mo"></span><span 
style="padding-left: 0.278em;" id="MathJax-Span-120" class="mrow"><span id="MathJax-Span-121" class="mi"></span><span id="MathJax-Span-122" class="msub"><span 
style="display: inline-block; position: relative; width: 2.008em; height: 0px;"><span style="position: absolute; top: -2.199em; left: 0em; clip: rect(1.569em, 1000em, 
2.576em, -0.579em);"><span id="MathJax-Span-123" class="mi"><img style="width: 10px; height: 10px; vertical-align: -3px; margin-left: -0.04em; margin-right: 0.006em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Math/Italic/120/0070.png"></span>&nbsp;<span style="display: inline-block; width: 0px; height: 
2.199em;"></span></span><span style="position: absolute; top: -1.966em; left: 0.614em;"><span style="font-size: 70.7%;" id="MathJax-Span-124" class="mi"><img 
style="width: 8px; height: 8px; margin-right: 0.038em;" src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Regular/085/0054.png"><img style="width: 6px; 
height: 11px; vertical-align: -3px; margin-right: 0.056em;" src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Regular/085/002F.png"><img style="width: 
6px; height: 8px; margin-right: 0.052em;" src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Regular/085/0032.png"></span>&nbsp;<span style="display: 
inline-block; width: 0px; height: 2.199em;"></span></span></span></span><span id="MathJax-Span-125" class="mi"></span></span><span id="MathJax-Span-126" 
class="mo"></span><span style="padding-left: 0.278em;" id="MathJax-Span-127" class="mrow"><span style="vertical-align: -0.005em;" id="MathJax-Span-128" 
class="mo"><span><img style="width: 10px; height: 30px; vertical-align: -11px; margin-right: 0.037em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Size2/Regular/120/0028.png"></span></span><span id="MathJax-Span-129" class="mrow"><span 
id="MathJax-Span-130" class="mi"><img style="width: 6px; height: 10px; margin-right: 0.032em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Math/Italic/120/0074.png"></span></span><span style="padding-left: 0.222em;" id="MathJax-Span-131" 
class="mo"><img style="width: 12px; height: 1px; vertical-align: 4px; margin-right: 0.086em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Regular/120/2212.png"></span><span style="padding-left: 0.222em;" id="MathJax-Span-132" 
class="mrow"><span id="MathJax-Span-133" class="mrow"><span id="MathJax-Span-134" class="mi"><img style="width: 10px; height: 7px; margin-right: 0.02em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Math/Italic/120/006E.png"></span></span><span id="MathJax-Span-135" class="mo"></span><span 
style="padding-left: 0.398em; padding-right: 0.12em;" id="MathJax-Span-136" class="mfrac"><span style="display: inline-block; position: relative; width: 0.6em; height: 
0px;"><span style="position: absolute; top: -2.621em; left: 50%; clip: rect(1.531em, 1000em, 2.379em, -0.524em); margin-left: -0.24em;"><span id="MathJax-Span-137" 
class="mrow"><span style="font-size: 70.7%;" id="MathJax-Span-138" class="mi"><img style="width: 9px; height: 8px; margin-right: -0.123em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Math/Italic/085/0054.png"></span></span>&nbsp;<span style="display: inline-block; width: 0px; height: 
2.199em;"></span></span><span style="position: absolute; top: -1.797em; left: 50%; clip: rect(1.54em, 1000em, 2.379em, -0.504em); margin-left: -0.21em;"><span 
style="font-size: 70.7%;" id="MathJax-Span-139" class="mn"><img style="width: 6px; height: 8px; margin-right: 0.052em;" 
src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Main/Regular/085/0032.png"></span>&nbsp;<span style="display: inline-block; width: 0px; height: 
2.199em;"></span></span><span style="position: absolute; top: -2.419em; left: 0em; clip: rect(1.944em, 1000em, 2.379em, -0.539em);"><span style="border-left: 0.6em solid; 
display: inline-block; overflow: hidden; width: 0px; height: 0.075em; vertical-align: 0em;"></span>&nbsp;<span style="display: inline-block; width: 0px; height: 
2.199em;"></span></span></span></span></span><span style="vertical-align: -0.006em;" id="MathJax-Span-140" class="mo"><span><img style="width: 7px; height: 30px; 
vertical-align: -11px; margin-right: 0.184em;" src="http://cnx.org/++resource++mathjax/fonts/HTML-CSS/TeX/png/Size2/Regular/120/0029.png"></span></span><span 
style="border-left: 0em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.167em; vertical-align: 0em;"></span><span style="border-left: 0em solid; 
display: inline-block; overflow: hidden; width: 0px; height: 1.167em; vertical-align: 0em;"></span></span></span></span></span></span></span>&nbsp;<span style="display: 
inline-block; width: 0px; height: 2.858em;"></span></span></span><span style="border-left: 0em solid; display: inline-block; overflow: hidden; width: 0px; height: 
3.221em; vertical-align: -1.086em;"></span></span></nobr></span></span><script type="math/mml" id="MathJax-Element-5">&lt;math xmlns="http://www.w3.org/1998/Math/MathML" 
display="inline"&gt;&lt;semantics&gt;&lt;mrow&gt;
          &lt;mrow&gt;&lt;mrow&gt;&lt;mrow&gt;&lt;mi&gt;sq&lt;/mi&gt;&lt;/mrow&gt;&lt;mo&gt;&lt;/mo&gt;&lt;mfenced open="(" close=")" 
separators=","&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;/mfenced&gt;&lt;/mrow&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mrow&gt;&lt;munderover&gt;&lt;mo&gt;?&lt;/mo&gt;&lt;mrow&gt;&lt;mi&gt;
                  &lt;mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/mrow&gt;
                
&lt;/mi&gt;&lt;mi&gt;=&lt;/mi&gt;&lt;mrow&gt;&lt;mo&gt;-&lt;/mo&gt;&lt;mi&gt;?&lt;/mi&gt;&lt;/mrow&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;mi&gt;?&lt;/mi&gt;&lt;/mrow&gt;&lt;/munderover&gt;&lt;mrow&gt;&lt;msup&gt;&lt;mfenced 
separators=" 
"&gt;&lt;mrow&gt;&lt;mo&gt;-&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/mfenced&gt;&lt;mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;mo&gt;&lt;/mo&gt;&lt;mrow&gt;&lt;mi&gt;A&lt;/mi&gt;&lt;/mrow&gt;&lt;mo&gt;&lt;/mo&gt;&lt;mrow&gt;&lt;mi&gt;
                    &lt;/mi&gt;&lt;msub&gt;
                      &lt;mi&gt;p&lt;/mi&gt;
                      &lt;mi&gt;T/2&lt;/mi&gt;
                    &lt;/msub&gt;&lt;mi&gt;
                  
&lt;/mi&gt;&lt;/mrow&gt;&lt;mo&gt;&lt;/mo&gt;&lt;mrow&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;mo&gt;-&lt;/mo&gt;&lt;mrow&gt;&lt;mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/mrow&gt;&lt;mo&gt;&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mfrac&gt;&lt;/mrow&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;/mrow&gt;&lt;/mrow&gt;&lt;/mrow&gt;
        &lt;/mrow&gt;&lt;annotation-xml encoding="MathML-Content"&gt;&lt;apply&gt;
            &lt;eq/&gt;
              &lt;apply&gt;
                &lt;ci type="fn"&gt;sq&lt;/ci&gt;
                &lt;ci&gt;t&lt;/ci&gt;
              &lt;/apply&gt;
              &lt;apply&gt;
                &lt;sum/&gt;
                &lt;bvar&gt;
                  &lt;ci&gt;n&lt;/ci&gt;
                &lt;/bvar&gt;
                &lt;lowlimit&gt;
                  &lt;apply&gt;
                    &lt;minus/&gt;
                    &lt;infinity/&gt;
                  &lt;/apply&gt;
                  &lt;/lowlimit&gt;
                &lt;uplimit&gt;
                  &lt;infinity/&gt;
                &lt;/uplimit&gt;
                 &lt;apply&gt;
                  &lt;times/&gt;
                  &lt;apply&gt;
                    &lt;power/&gt;
                      &lt;apply&gt;
                        &lt;minus/&gt;
                          &lt;cn&gt;1&lt;/cn&gt;
                      &lt;/apply&gt;
                      &lt;ci&gt;n&lt;/ci&gt;
                  &lt;/apply&gt;
                  &lt;ci&gt;A&lt;/ci&gt;
                  &lt;ci&gt;
                    &lt;msub&gt;
                      &lt;mi&gt;p&lt;/mi&gt;
                      &lt;mi&gt;T/2&lt;/mi&gt;
                    &lt;/msub&gt;
                  &lt;/ci&gt;
                  &lt;apply&gt;
                    &lt;minus/&gt;
                      &lt;ci&gt;t&lt;/ci&gt;
                      &lt;apply&gt;
                        &lt;times/&gt;
                          &lt;ci&gt;n&lt;/ci&gt;
                          &lt;apply&gt;
                            &lt;divide/&gt;
                            &lt;ci&gt;T&lt;/ci&gt;
                            &lt;cn&gt;2&lt;/cn&gt;
                          &lt;/apply&gt;
                      &lt;/apply&gt;
                    &lt;/apply&gt;
                &lt;/apply&gt;
              &lt;/apply&gt;
          &lt;/apply&gt;&lt;/annotation-xml&gt;&lt;/semantics&gt;&lt;/math&gt;</script>
      </p>


<div class="canvas-wrap">
  <div class="canvas inactive rule" id="rulephth">
<div class="canvas-inner">
<div style="display: none;" class="canvas-buddy-2">
  <a class="edit-element" href="#" title="Edit options for this element">
    <img src="content_files/options-05.png">
  </a>
  <a class="remove-element" href="#" title="Remove this element">
    <img src="content_files/remove-element-01.png">
  </a>
</div>
<div style="display: none;" class="canvas-buddy">
  <a class="drag-element" href="#" title="Drag this element to another location">
    <img src="content_files/drag-element-19.png">
  </a>
</div>


<h3 class="rule-header"><span class="cnx_label">Theorem 1: </span>
<strong class="title content-editable" contentEditable="true">Pythagorean 
Theorem</strong></h3><div class="rule-contents"><div class="statement"><p class="para content-editable" id="st1" contentEditable="true">On a right triangle, the sum of 
the
            squares of the sides equals the square of the hypotenus.
          </p></div>

<div class="canvas-wrap">
  <div class="canvas inactive proof">
<div class="canvas-inner">
<div style="display: none;" class="canvas-buddy-2">
  <a class="edit-element" href="#" title="Edit options for this element">
    <img src="content_files/options-05.png">
  </a>
  <a class="remove-element" href="#" title="Remove this element">
    <img src="content_files/remove-element-01.png">
  </a>
</div>
<div style="display: none;" class="canvas-buddy nodrag">
  <a class="drag-element" href="#" title="You can only drag this element to another rule!">
    <img src="content_files/drag-element-19.png">
  </a>
</div>


<h4 class="proof-header"><span class="cnx_label">Proof</span>
<strong class="title content-editable" style="display: none;" contentEditable="true">
  <span class="hint-text">Add a title (optional)</span>
</strong>
</h4>

<p class="para content-editable" id="phthexp1" contentEditable="true">
            Take a right triangle whose sides are of length 3, 4, and 5.
            In this case the sum of the square of the two shorter sides is
            9+16=25.  The square of the hypotenus is 25.  So the theorem holds.
          </p>

<div class="canvas-wrap">
  <div class="canvas note inactive">
<div class="canvas-inner">
<div style="display: none;" class="canvas-buddy-2">
  <a class="edit-element" href="#" title="Edit options for this element">
    <img src="content_files/options-05.png">
  </a>
  <a class="remove-element" href="#" title="Remove this element">
    <img src="content_files/remove-element-01.png">
  </a>
</div>
<div style="display: none;" class="canvas-buddy">
  <a class="drag-element" href="#" title="Drag this element to another location">
    <img src="content_files/drag-element-19.png">
  </a>
</div>

<h4 class="note-header"><span class="cnx_label">note: </span></h4><div class="note-contents content-editable" contentEditable="true">

The Pythagorean Theorem does not apply to <dfn class="term">acute</dfn> and <dfn class="term">obtuse</dfn> triangles.  It can only be applied to right triangles.  
However, a corollary of the Pythagorean theorem's converse is a simple means of determining whether a triangle is right, obtuse, or acute. 

<div class="canvas-wrap">
  <div class="canvas inactive example" id="ex2">
<div class="canvas-inner">
<div style="display: none;" class="canvas-buddy-2">
  <a class="edit-element" href="#" title="Edit options for this element">
    <img src="content_files/options-05.png">
  </a>
  <a class="remove-element" href="#" title="Remove this element">
    <img src="content_files/remove-element-01.png">
  </a>
</div>
<div style="display: none;" class="canvas-buddy">
  <a class="drag-element" href="#" title="Drag this element to another location">
    <img src="content_files/drag-element-19.png">
  </a>
</div>
<h2 class="example-header"><span class="cnx_label" contentEditable="false">Example 2</span>
<strong class="title content-editable" style="display: none;" contentEditable="true">
  <span class="hint-text">Add a title (optional)</span>
</strong>
</h2><div class="example-contents">

<div class="canvas-wrap">
      <div class="equation canvas inactive" id="eq2">
<div class="canvas-inner">
<div style="display: none;" class="canvas-buddy-2">
  <a class="edit-element" href="#" title="Edit options for this element">
    <img src="content_files/options-05.png">
  </a>
  <a class="remove-element" href="#" title="Remove this element">
    <img src="content_files/remove-element-01.png">
  </a>
</div>
<div style="display: none;" class="canvas-buddy">
  <a class="drag-element" href="#" title="Drag this element to another location">
    <img src="content_files/drag-element-19.png">
  </a>
</div>
<h2 class="equation-header">
<strong class="title content-editable" style="display: none;" contentEditable="true">
  <span class="hint-text">Add a title (optional)</span>
</strong>
</h2>
<div class="equation-contents">
<div class="content-editable" contentEditable="true">
5<sup>2</sup> + 7<sup>2</sup> &lt; 9<sup>2</sup>
</div>
<span class="equation-number">(2)</span>
</div>
</div>
</div>
</div>

</div>
</div>
</div>
</div>

</div></div>

</div></div>

</div></div>

</div></div>

</div></div>

</div></div>

<div class="solution-toggles" style="display: none;"><a href="#" onclick="toggleSolution('swsuper',1); return false;"><span class="solution-toggle">
          [
          Show Solution
          ]
        </span><span class="solution-toggle" style="display: none;">
          [ 
          Hide Solution
          ]
        </span></a></div></div>
</div>
</div>


<div class="add-solution-2">
  <a href="#asdf">Click to add another solution (optional)</a>
</div>


</div>
</div>

</div>
</div>

</div>
</div>

  <p class="para content-editable" id="para2" contentEditable="true" style="display: none;">
    Because the sinusoid is a superposition of two complex exponentials, the 
    sinusoid is more complex. We could not prevent ourselves from the pun in 
    this statement. Clearly, the word "complex" is used in two different ways 
    here. The complex exponential can also be written (using <a title="Strength 5" class="cnxn" href="/content/m0004/latest/#3">Euler's relation</a>) as a sum of a sine 
and a 
    cosine. We will discover that virtually every signal can be decomposed into a
    sum of complex exponentials, and that this decomposition is  <em class="emphasis">very 
    </em>useful. Thus, the complex exponential is more fundamental, and 
    Euler's relation does not adequately reveal its complexity.
  </p>

  </div>
</div>

<div class="glossary-outer">
<div class="glossary-container" id="cnx_glossary">
<h2 
class="glossary-header">Glossary</h2>
    <dl class="definition glossary" id="side"><dt><dfn class="term">sidereal period:</dfn></dt><dd><div 
class="meaning">A period determined by or from the 
stars.</div></dd></dl>
</div>
  </div>









</div>
</div>
</div>

        </div>


</div>









<!--
        <div id="footer">
          <a href="http://www.shuttleworthfoundation.org/" target="_blank"><img src="helper_files/sf150.png" width="150"/></a>
        </div>
-->

      </div>


    </div>
  </div>


  <div id="neworexisting" style="display: none;">
    <p><strong>
      Is this for a new module or will it override an existing one?
    </strong></p>
    <div>
      <span class="button" onclick="window.location = 'metadata-41.html'">New module</span>
      <div class="forminfo" style="margin: .5em 0 1em;">
      <div>
        This is an entirely new module. 
      </div>
    </div>
    <div>
      <span class="button" onclick="window.location = 'choose-module-16.html'">Override existing module</span>
      <div class="forminfo" style="margin: .5em 0 1em;">
      <div>
        Choose an existing module to apply your import to, replacing its contents.  
      </div>
    </div>
    <div class="headeraction" style="margin: 1.5em 0 0; text-align: center;">
      <div>
      <span class="button" id="cancel-neworexisting">Cancel</span>
    </div>
  </div>


  </body>
</html>




